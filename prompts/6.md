# Prompt 6: Update Frontend Components for Rich UX

## Goal
Update frontend components to display all available on-chain data effectively, creating a feature-rich user experience.

## Data Available from Contracts

### IntentRecord Fields
- `id` - Unique intent identifier
- `user` - Creator address
- `createdAt` - Creation timestamp
- `intent` - Full intent details (Swap/LimitOrder/TWAP/DCA)
- `auction` - Auction state with bids, winner, prices
- `status` - Active/Filled/Cancelled/Expired
- `escrowRemaining` - Remaining input tokens
- `totalOutputReceived` - Total output received so far
- `fills` - Array of fill records with solver, amounts, timestamps
- `chunksExecuted` - For TWAP/DCA: chunks completed
- `nextExecution` - For TWAP/DCA: next scheduled time

## Component Updates

### 1. Intent Card/List Item

Display:
- **Status badge** with color coding (active=blue, filled=green, cancelled=red, expired=gray)
- **Progress bar** for partial fills: `(totalAmount - escrowRemaining) / totalAmount * 100%`
- **Fill count**: "2/5 fills" if partially filled
- **Auction indicator** with type and status
- **Time remaining** for deadlines/auctions
- **Token pair** with icons and symbols
- **Amounts**: Input amount, min/expected output, received so far

### 2. Intent Detail Page

**Header Section:**
- Intent type icon and title
- Status badge with animation for active
- Created at timestamp (relative and absolute)
- User address (with copy button)

**Amounts Section:**
```
Input:     100 USDC â†’ escrow
Output:    Min 95 MOVE expected
Received:  47.5 MOVE (so far)
Remaining: 50 USDC in escrow
Progress:  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 50%
```

**Fills History Table:**
| # | Solver | Input | Output | Time | Tx |
|---|--------|-------|--------|------|-----|
| 1 | 0x123... | 50 USDC | 47.5 MOVE | 2m ago | ðŸ”— |

**Auction Section (if applicable):**
- Sealed Bid:
  - Time remaining in bidding
  - Number of bids received
  - Your bid status (if you bid)
  - Winner announcement after completion

- Dutch Auction:
  - Current price (live updating)
  - Price curve visualization
  - Start price â†’ End price
  - Time remaining

**TWAP/DCA Progress:**
```
Execution Progress: 3/10 chunks
Next Execution: in 1h 23m
Interval: Every 4 hours
Average Price: $0.95 per MOVE
```

### 3. Swap Form Updates

**Auction Options:**
- No Auction (default) - immediate fill available
- Sealed Bid - set duration, solvers compete
- Dutch Auction - set start price, decay duration

**Dutch Auction Price Preview:**
Show price decay curve with current time marker

### 4. Explorer/History Page

**Filters:**
- By status: Active | Filled | Cancelled | Expired
- By type: Swap | Limit | TWAP | DCA
- By auction: No Auction | Sealed Bid | Dutch

**Sorting:**
- By creation date
- By fill percentage
- By total volume

**Stats Dashboard:**
- Total intents created
- Total volume traded
- Protocol fees collected
- Active intents count

### 5. New Components to Create

**FillProgressBar:**
```tsx
<FillProgressBar
  escrowRemaining={record.escrowRemaining}
  totalAmount={getIntentTotalAmount(record.intent)}
  fills={record.fills}
/>
```

**AuctionStatusBadge:**
```tsx
<AuctionStatusBadge
  auction={record.auction}
  onTimeUpdate={() => refetch()}
/>
```

**FillsHistoryTable:**
```tsx
<FillsHistoryTable
  fills={record.fills}
  inputToken={inputToken}
  outputToken={outputToken}
/>
```

**DutchPriceChart:**
```tsx
<DutchPriceChart
  startPrice={auction.startPrice}
  endPrice={auction.endPrice}
  startTime={record.createdAt}
  endTime={auction.endTime}
  currentPrice={currentDutchPrice}
/>
```

**ScheduledProgress:**
```tsx
<ScheduledProgress
  chunksExecuted={record.chunksExecuted}
  totalChunks={getTotalChunks(record.intent)}
  nextExecution={record.nextExecution}
  interval={getInterval(record.intent)}
/>
```

## Styling Guidelines

- Use consistent status colors across all components
- Add micro-animations for live updates (price changes, countdowns)
- Skeleton loading states for async data
- Responsive design for mobile viewing
- Dark theme with accent colors for important data

## Verification
- [ ] All IntentRecord fields displayed somewhere
- [ ] Fill history visible in detail view
- [ ] Auction state clearly communicated
- [ ] TWAP/DCA progress visible
- [ ] Live price updates for Dutch auctions
- [ ] Progress bars for partial fills
- [ ] Filters work on explorer page
