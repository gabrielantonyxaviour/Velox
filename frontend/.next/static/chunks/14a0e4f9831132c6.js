(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,190137,532442,964427,963088,991411,400113,e=>{"use strict";let t,s,a;var r=e.i(843476),n=e.i(407398),l=e.i(635321),i=e.i(271645),o=e.i(426177),d=e.i(79196);e.i(601913);var c=e.i(111841),u=e.i(174080),m=e.i(991918),x=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,m.createSlot)(`Primitive.${t}`),a=i.forwardRef((e,a)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n?s:t,{...l,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),p="horizontal",h=["horizontal","vertical"],f=i.forwardRef((e,t)=>{var s;let{decorative:a,orientation:n=p,...l}=e,i=(s=n,h.includes(s))?n:p;return(0,r.jsx)(x.div,{"data-orientation":i,...a?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...l,ref:t})});f.displayName="Separator";var g=e.i(448020);let b=i.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...a},n)=>(0,r.jsx)(f,{ref:n,decorative:s,orientation:t,className:(0,g.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));b.displayName=f.displayName;var v=e.i(812499),j=e.i(96923);let N=(0,e.i(770703).default)(()=>e.A(605200),{loadableGenerated:{modules:[157773]},ssr:!1,loading:()=>(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"h-7 bg-muted rounded w-40 mx-auto mb-2 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-muted rounded w-60 mx-auto animate-pulse"})]}),(0,r.jsx)("div",{className:"h-12 bg-muted rounded w-full animate-pulse"})]})});function y({children:e}){let[t,s]=(0,i.useState)(!1),{wallets:a,connect:l}=(0,o.useWallet)(),u=(0,j.usePrivyAvailable)(),m=a?.filter(e=>{let t=e.name.toLowerCase();return!t.includes("petra")&&!t.includes("google")&&!t.includes("apple")}).filter((e,t,s)=>t===s.findIndex(t=>t.name===e.name)).sort((e,t)=>e.name.toLowerCase().includes("nightly")?-1:+!!t.name.toLowerCase().includes("nightly")),x=async e=>{try{{let t=(0,c.getAptosWallets)().aptosWallets.find(t=>t.name===e);if(t?.features?.["aptos:connect"]){let a={chainId:v.MOVEMENT_CONFIGS[v.CURRENT_NETWORK].chainId,name:"custom",url:v.MOVEMENT_CONFIGS[v.CURRENT_NETWORK].fullnode};try{let r=await t.features["aptos:connect"].connect(!1,a);if("Approved"===r.status){await l(e),s(!1);return}}catch{}}}await l(e),s(!1)}catch{}};return(0,r.jsxs)(d.Dialog,{open:t,onOpenChange:s,children:[(0,r.jsx)(d.DialogTrigger,{asChild:!0,children:e}),(0,r.jsxs)(d.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsxs)(d.DialogHeader,{children:[(0,r.jsx)(d.DialogTitle,{children:"Connect Wallet"}),(0,r.jsx)(d.DialogDescription,{children:"Choose a wallet to connect to Movement Network"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N,{onClose:()=>s(!1)}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)(b,{}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"bg-background px-2 text-xs text-muted-foreground",children:"OR"})})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"Connect Native Wallet"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Use your existing Aptos wallet"})]}),(0,r.jsx)("div",{className:"space-y-2",children:m?.length===0?(0,r.jsxs)("div",{className:"text-center py-6 px-4 border border-dashed rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"No wallets detected"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Please install a supported Aptos wallet like Nightly"})]}):m?.map(e=>(0,r.jsx)(n.Button,{variant:"outline",className:"w-full justify-start h-12 hover:bg-accent",onClick:()=>x(e.name),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[e.icon&&(0,r.jsx)("img",{src:e.icon,alt:e.name,className:"w-6 h-6 rounded"}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]})},e.name))})]})]})]})]})}function w(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 bg-background",children:(0,r.jsxs)(l.Card,{className:"text-center p-8 sm:p-12 lg:p-16 max-w-lg w-full",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-primary flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-primary-foreground font-bold text-2xl",children:"V"})})}),(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-4 text-foreground tracking-tight",children:"Velox"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base md:text-lg mb-8 sm:mb-12",children:"Intent-Based Trading on Movement"}),(0,r.jsx)(y,{children:(0,r.jsx)(n.Button,{size:"lg",className:"w-full text-base sm:text-lg",children:"Connect Wallet"})}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-8",children:"Submit swap intents and let solvers compete for the best execution"})]})})}e.s(["default",()=>w],190137);var S=e.i(840176);function E(e,[t,s]){return Math.min(s,Math.max(t,e))}var C=e.i(981140),T=e.i(75830),k=e.i(820783),D=e.i(30030),A=e.i(586318),I=e.i(726330),L=e.i(303536),R=e.i(765491),_=e.i(610772),P=e.i(853660),F=e.i(774606),O=e.i(248425),M=Symbol("radix.slottable");function B(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===M}var H=e.i(30207),$=e.i(369340),V=e.i(934620);function W(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var U=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});i.forwardRef((e,t)=>(0,r.jsx)(O.Primitive.span,{...e,ref:t,style:{...U,...e.style}})).displayName="VisuallyHidden";var X=e.i(186312),K=e.i(985369),z=[" ","Enter","ArrowUp","ArrowDown"],q=[" ","Enter"],G="Select",[Y,Z,J]=(0,T.createCollection)(G),[Q,ee]=(0,D.createContextScope)(G,[J,P.createPopperScope]),et=(0,P.createPopperScope)(),[es,ea]=Q(G),[er,en]=Q(G),el=e=>{let{__scopeSelect:t,children:s,open:a,defaultOpen:n,onOpenChange:l,value:o,defaultValue:d,onValueChange:c,dir:u,name:m,autoComplete:x,disabled:p,required:h,form:f}=e,g=et(t),[b,v]=i.useState(null),[j,N]=i.useState(null),[y,w]=i.useState(!1),S=(0,A.useDirection)(u),[E,C]=(0,$.useControllableState)({prop:a,defaultProp:n??!1,onChange:l,caller:G}),[T,k]=(0,$.useControllableState)({prop:o,defaultProp:d,onChange:c,caller:G}),D=i.useRef(null),I=!b||f||!!b.closest("form"),[L,R]=i.useState(new Set),F=Array.from(L).map(e=>e.props.value).join(";");return(0,r.jsx)(P.Root,{...g,children:(0,r.jsxs)(es,{required:h,scope:t,trigger:b,onTriggerChange:v,valueNode:j,onValueNodeChange:N,valueNodeHasChildren:y,onValueNodeHasChildrenChange:w,contentId:(0,_.useId)(),value:T,onValueChange:k,open:E,onOpenChange:C,dir:S,triggerPointerDownPosRef:D,disabled:p,children:[(0,r.jsx)(Y.Provider,{scope:t,children:(0,r.jsx)(er,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(e=>{R(t=>new Set(t).add(e))},[]),onNativeOptionRemove:i.useCallback(e=>{R(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:s})}),I?(0,r.jsxs)(eX,{"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:x,value:T,onChange:e=>k(e.target.value),disabled:p,form:f,children:[void 0===T?(0,r.jsx)("option",{value:""}):null,Array.from(L)]},F):null]})})};el.displayName=G;var ei="SelectTrigger",eo=i.forwardRef((e,t)=>{let{__scopeSelect:s,disabled:a=!1,...n}=e,l=et(s),o=ea(ei,s),d=o.disabled||a,c=(0,k.useComposedRefs)(t,o.onTriggerChange),u=Z(s),m=i.useRef("touch"),[x,p,h]=ez(e=>{let t=u().filter(e=>!e.disabled),s=t.find(e=>e.value===o.value),a=eq(t,e,s);void 0!==a&&o.onValueChange(a.value)}),f=e=>{d||(o.onOpenChange(!0),h()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,r.jsx)(P.Anchor,{asChild:!0,...l,children:(0,r.jsx)(O.Primitive.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eK(o.value)?"":void 0,...n,ref:c,onClick:(0,C.composeEventHandlers)(n.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&f(e)}),onPointerDown:(0,C.composeEventHandlers)(n.onPointerDown,e=>{m.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:(0,C.composeEventHandlers)(n.onKeyDown,e=>{let t=""!==x.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),(!t||" "!==e.key)&&z.includes(e.key)&&(f(),e.preventDefault())})})})});eo.displayName=ei;var ed="SelectValue",ec=i.forwardRef((e,t)=>{let{__scopeSelect:s,className:a,style:n,children:l,placeholder:i="",...o}=e,d=ea(ed,s),{onValueNodeHasChildrenChange:c}=d,u=void 0!==l,m=(0,k.useComposedRefs)(t,d.onValueNodeChange);return(0,V.useLayoutEffect)(()=>{c(u)},[c,u]),(0,r.jsx)(O.Primitive.span,{...o,ref:m,style:{pointerEvents:"none"},children:eK(d.value)?(0,r.jsx)(r.Fragment,{children:i}):l})});ec.displayName=ed;var eu=i.forwardRef((e,t)=>{let{__scopeSelect:s,children:a,...n}=e;return(0,r.jsx)(O.Primitive.span,{"aria-hidden":!0,...n,ref:t,children:a||"â–¼"})});eu.displayName="SelectIcon";var em=e=>(0,r.jsx)(F.Portal,{asChild:!0,...e});em.displayName="SelectPortal";var ex="SelectContent",ep=i.forwardRef((e,t)=>{let s=ea(ex,e.__scopeSelect),[a,n]=i.useState();return((0,V.useLayoutEffect)(()=>{n(new DocumentFragment)},[]),s.open)?(0,r.jsx)(eb,{...e,ref:t}):a?u.createPortal((0,r.jsx)(eh,{scope:e.__scopeSelect,children:(0,r.jsx)(Y.Slot,{scope:e.__scopeSelect,children:(0,r.jsx)("div",{children:e.children})})}),a):null});ep.displayName=ex;var[eh,ef]=Q(ex),eg=((a=i.forwardRef((e,t)=>{let{children:s,...a}=e;if(i.isValidElement(s)){var r;let e,n,l=(r=s,(n=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(n=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref),o=function(e,t){let s={...t};for(let a in t){let r=e[a],n=t[a];/^on[A-Z]/.test(a)?r&&n?s[a]=(...e)=>{let t=n(...e);return r(...e),t}:r&&(s[a]=r):"style"===a?s[a]={...r,...n}:"className"===a&&(s[a]=[r,n].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==i.Fragment&&(o.ref=t?(0,k.composeRefs)(t,l):l),i.cloneElement(s,o)}return i.Children.count(s)>1?i.Children.only(null):null})).displayName="SelectContent.RemoveScroll.SlotClone",t=a,(s=i.forwardRef((e,s)=>{let{children:a,...n}=e,l=i.Children.toArray(a),o=l.find(B);if(o){let e=o.props.children,a=l.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...n,ref:s,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,r.jsx)(t,{...n,ref:s,children:a})})).displayName="SelectContent.RemoveScroll.Slot",s),eb=i.forwardRef((e,t)=>{let{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:l,onPointerDownOutside:o,side:d,sideOffset:c,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:p,collisionPadding:h,sticky:f,hideWhenDetached:g,avoidCollisions:b,...v}=e,j=ea(ex,s),[N,y]=i.useState(null),[w,S]=i.useState(null),E=(0,k.useComposedRefs)(t,e=>y(e)),[T,D]=i.useState(null),[A,_]=i.useState(null),P=Z(s),[F,O]=i.useState(!1),M=i.useRef(!1);i.useEffect(()=>{if(N)return(0,X.hideOthers)(N)},[N]),(0,L.useFocusGuards)();let B=i.useCallback(e=>{let[t,...s]=P().map(e=>e.ref.current),[a]=s.slice(-1),r=document.activeElement;for(let s of e)if(s===r||(s?.scrollIntoView({block:"nearest"}),s===t&&w&&(w.scrollTop=0),s===a&&w&&(w.scrollTop=w.scrollHeight),s?.focus(),document.activeElement!==r))return},[P,w]),H=i.useCallback(()=>B([T,N]),[B,T,N]);i.useEffect(()=>{F&&H()},[F,H]);let{onOpenChange:$,triggerPointerDownPosRef:V}=j;i.useEffect(()=>{if(N){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(V.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():N.contains(s.target)||$(!1),document.removeEventListener("pointermove",t),V.current=null};return null!==V.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[N,$,V]),i.useEffect(()=>{let e=()=>$(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[$]);let[W,U]=ez(e=>{let t=P().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),a=eq(t,e,s);a&&setTimeout(()=>a.ref.current.focus())}),z=i.useCallback((e,t,s)=>{let a=!M.current&&!s;(void 0!==j.value&&j.value===t||a)&&(D(e),a&&(M.current=!0))},[j.value]),q=i.useCallback(()=>N?.focus(),[N]),G=i.useCallback((e,t,s)=>{let a=!M.current&&!s;(void 0!==j.value&&j.value===t||a)&&_(e)},[j.value]),Y="popper"===a?ej:ev,J=Y===ej?{side:d,sideOffset:c,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:p,collisionPadding:h,sticky:f,hideWhenDetached:g,avoidCollisions:b}:{};return(0,r.jsx)(eh,{scope:s,content:N,viewport:w,onViewportChange:S,itemRefCallback:z,selectedItem:T,onItemLeave:q,itemTextRefCallback:G,focusSelectedItem:H,selectedItemText:A,position:a,isPositioned:F,searchRef:W,children:(0,r.jsx)(K.RemoveScroll,{as:eg,allowPinchZoom:!0,children:(0,r.jsx)(R.FocusScope,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,C.composeEventHandlers)(n,e=>{j.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,r.jsx)(I.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:(0,r.jsx)(Y,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...v,...J,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:(0,C.composeEventHandlers)(v.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,a=t.indexOf(s);t=t.slice(a+1)}setTimeout(()=>B(t)),e.preventDefault()}})})})})})})});eb.displayName="SelectContentImpl";var ev=i.forwardRef((e,t)=>{let{__scopeSelect:s,onPlaced:a,...n}=e,l=ea(ex,s),o=ef(ex,s),[d,c]=i.useState(null),[u,m]=i.useState(null),x=(0,k.useComposedRefs)(t,e=>m(e)),p=Z(s),h=i.useRef(!1),f=i.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:j}=o,N=i.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&u&&g&&b&&v){let e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),s=l.valueNode.getBoundingClientRect(),r=v.getBoundingClientRect();if("rtl"!==l.dir){let a=r.left-t.left,n=s.left-a,l=e.left-n,i=e.width+l,o=Math.max(i,t.width),c=E(n,[10,Math.max(10,window.innerWidth-10-o)]);d.style.minWidth=i+"px",d.style.left=c+"px"}else{let a=t.right-r.right,n=window.innerWidth-s.right-a,l=window.innerWidth-e.right-n,i=e.width+l,o=Math.max(i,t.width),c=E(n,[10,Math.max(10,window.innerWidth-10-o)]);d.style.minWidth=i+"px",d.style.right=c+"px"}let n=p(),i=window.innerHeight-20,o=g.scrollHeight,c=window.getComputedStyle(u),m=parseInt(c.borderTopWidth,10),x=parseInt(c.paddingTop,10),f=parseInt(c.borderBottomWidth,10),j=m+x+o+parseInt(c.paddingBottom,10)+f,N=Math.min(5*b.offsetHeight,j),y=window.getComputedStyle(g),w=parseInt(y.paddingTop,10),S=parseInt(y.paddingBottom,10),C=e.top+e.height/2-10,T=b.offsetHeight/2,k=m+x+(b.offsetTop+T);if(k<=C){let e=n.length>0&&b===n[n.length-1].ref.current;d.style.bottom="0px";let t=Math.max(i-C,T+(e?S:0)+(u.clientHeight-g.offsetTop-g.offsetHeight)+f);d.style.height=k+t+"px"}else{let e=n.length>0&&b===n[0].ref.current;d.style.top="0px";let t=Math.max(C,m+g.offsetTop+(e?w:0)+T);d.style.height=t+(j-k)+"px",g.scrollTop=k-C+g.offsetTop}d.style.margin="10px 0",d.style.minHeight=N+"px",d.style.maxHeight=i+"px",a?.(),requestAnimationFrame(()=>h.current=!0)}},[p,l.trigger,l.valueNode,d,u,g,b,v,l.dir,a]);(0,V.useLayoutEffect)(()=>N(),[N]);let[y,w]=i.useState();(0,V.useLayoutEffect)(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);let S=i.useCallback(e=>{e&&!0===f.current&&(N(),j?.(),f.current=!1)},[N,j]);return(0,r.jsx)(eN,{scope:s,contentWrapper:d,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:(0,r.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:(0,r.jsx)(O.Primitive.div,{...n,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});ev.displayName="SelectItemAlignedPosition";var ej=i.forwardRef((e,t)=>{let{__scopeSelect:s,align:a="start",collisionPadding:n=10,...l}=e,i=et(s);return(0,r.jsx)(P.Content,{...i,...l,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ej.displayName="SelectPopperPosition";var[eN,ey]=Q(ex,{}),ew="SelectViewport",eS=i.forwardRef((e,t)=>{let{__scopeSelect:s,nonce:a,...n}=e,l=ef(ew,s),o=ey(ew,s),d=(0,k.useComposedRefs)(t,l.onViewportChange),c=i.useRef(0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,r.jsx)(Y.Slot,{scope:s,children:(0,r.jsx)(O.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:(0,C.composeEventHandlers)(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:a}=o;if(a?.current&&s){let e=Math.abs(c.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,r=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(r<a){let n=r+e,l=Math.min(a,n),i=n-l;s.style.height=l+"px","0px"===s.style.bottom&&(t.scrollTop=i>0?i:0,s.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});eS.displayName=ew;var eE="SelectGroup",[eC,eT]=Q(eE);i.forwardRef((e,t)=>{let{__scopeSelect:s,...a}=e,n=(0,_.useId)();return(0,r.jsx)(eC,{scope:s,id:n,children:(0,r.jsx)(O.Primitive.div,{role:"group","aria-labelledby":n,...a,ref:t})})}).displayName=eE;var ek="SelectLabel",eD=i.forwardRef((e,t)=>{let{__scopeSelect:s,...a}=e,n=eT(ek,s);return(0,r.jsx)(O.Primitive.div,{id:n.id,...a,ref:t})});eD.displayName=ek;var eA="SelectItem",[eI,eL]=Q(eA),eR=i.forwardRef((e,t)=>{let{__scopeSelect:s,value:a,disabled:n=!1,textValue:l,...o}=e,d=ea(eA,s),c=ef(eA,s),u=d.value===a,[m,x]=i.useState(l??""),[p,h]=i.useState(!1),f=(0,k.useComposedRefs)(t,e=>c.itemRefCallback?.(e,a,n)),g=(0,_.useId)(),b=i.useRef("touch"),v=()=>{n||(d.onValueChange(a),d.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,r.jsx)(eI,{scope:s,value:a,disabled:n,textId:g,isSelected:u,onItemTextChange:i.useCallback(e=>{x(t=>t||(e?.textContent??"").trim())},[]),children:(0,r.jsx)(Y.ItemSlot,{scope:s,value:a,disabled:n,textValue:m,children:(0,r.jsx)(O.Primitive.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:f,onFocus:(0,C.composeEventHandlers)(o.onFocus,()=>h(!0)),onBlur:(0,C.composeEventHandlers)(o.onBlur,()=>h(!1)),onClick:(0,C.composeEventHandlers)(o.onClick,()=>{"mouse"!==b.current&&v()}),onPointerUp:(0,C.composeEventHandlers)(o.onPointerUp,()=>{"mouse"===b.current&&v()}),onPointerDown:(0,C.composeEventHandlers)(o.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:(0,C.composeEventHandlers)(o.onPointerMove,e=>{b.current=e.pointerType,n?c.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,C.composeEventHandlers)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,C.composeEventHandlers)(o.onKeyDown,e=>{(c.searchRef?.current===""||" "!==e.key)&&(q.includes(e.key)&&v()," "===e.key&&e.preventDefault())})})})})});eR.displayName=eA;var e_="SelectItemText",eP=i.forwardRef((e,t)=>{let{__scopeSelect:s,className:a,style:n,...l}=e,o=ea(e_,s),d=ef(e_,s),c=eL(e_,s),m=en(e_,s),[x,p]=i.useState(null),h=(0,k.useComposedRefs)(t,e=>p(e),c.onItemTextChange,e=>d.itemTextRefCallback?.(e,c.value,c.disabled)),f=x?.textContent,g=i.useMemo(()=>(0,r.jsx)("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:b,onNativeOptionRemove:v}=m;return(0,V.useLayoutEffect)(()=>(b(g),()=>v(g)),[b,v,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.Primitive.span,{id:c.textId,...l,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?u.createPortal(l.children,o.valueNode):null]})});eP.displayName=e_;var eF="SelectItemIndicator",eO=i.forwardRef((e,t)=>{let{__scopeSelect:s,...a}=e;return eL(eF,s).isSelected?(0,r.jsx)(O.Primitive.span,{"aria-hidden":!0,...a,ref:t}):null});eO.displayName=eF;var eM="SelectScrollUpButton",eB=i.forwardRef((e,t)=>{let s=ef(eM,e.__scopeSelect),a=ey(eM,e.__scopeSelect),[n,l]=i.useState(!1),o=(0,k.useComposedRefs)(t,a.onScrollButtonChange);return(0,V.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){l(t.scrollTop>0)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?(0,r.jsx)(eV,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eB.displayName=eM;var eH="SelectScrollDownButton",e$=i.forwardRef((e,t)=>{let s=ef(eH,e.__scopeSelect),a=ey(eH,e.__scopeSelect),[n,l]=i.useState(!1),o=(0,k.useComposedRefs)(t,a.onScrollButtonChange);return(0,V.useLayoutEffect)(()=>{if(s.viewport&&s.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?(0,r.jsx)(eV,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});e$.displayName=eH;var eV=i.forwardRef((e,t)=>{let{__scopeSelect:s,onAutoScroll:a,...n}=e,l=ef("SelectScrollButton",s),o=i.useRef(null),d=Z(s),c=i.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return i.useEffect(()=>()=>c(),[c]),(0,V.useLayoutEffect)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,r.jsx)(O.Primitive.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:(0,C.composeEventHandlers)(n.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(a,50))}),onPointerMove:(0,C.composeEventHandlers)(n.onPointerMove,()=>{l.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(a,50))}),onPointerLeave:(0,C.composeEventHandlers)(n.onPointerLeave,()=>{c()})})}),eW=i.forwardRef((e,t)=>{let{__scopeSelect:s,...a}=e;return(0,r.jsx)(O.Primitive.div,{"aria-hidden":!0,...a,ref:t})});eW.displayName="SelectSeparator";var eU="SelectArrow";i.forwardRef((e,t)=>{let{__scopeSelect:s,...a}=e,n=et(s),l=ea(eU,s),i=ef(eU,s);return l.open&&"popper"===i.position?(0,r.jsx)(P.Arrow,{...n,...a,ref:t}):null}).displayName=eU;var eX=i.forwardRef(({__scopeSelect:e,value:t,...s},a)=>{let n=i.useRef(null),l=(0,k.useComposedRefs)(a,n),o=W(t);return i.useEffect(()=>{let e=n.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==t&&s){let a=new Event("change",{bubbles:!0});s.call(e,t),e.dispatchEvent(a)}},[o,t]),(0,r.jsx)(O.Primitive.select,{...s,style:{...U,...s.style},ref:l,defaultValue:t})});function eK(e){return""===e||void 0===e}function ez(e){let t=(0,H.useCallbackRef)(e),s=i.useRef(""),a=i.useRef(0),r=i.useCallback(e=>{let r=s.current+e;t(r),function e(t){s.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),n=i.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,r,n]}function eq(e,t,s){var a,r;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,l=s?e.indexOf(s):-1,i=(a=e,r=Math.max(l,0),a.map((e,t)=>a[(r+t)%a.length]));1===n.length&&(i=i.filter(e=>e!==s));let o=i.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==s?o:void 0}eX.displayName="SelectBubbleInput";var eG=e.i(643531),eY=e.i(431195);let eZ=(0,eY.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eJ=(0,eY.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),eQ=i.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(eo,{ref:a,className:(0,g.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,r.jsx)(eu,{asChild:!0,children:(0,r.jsx)(eZ,{className:"h-4 w-4 opacity-50"})})]}));eQ.displayName=eo.displayName;let e0=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(eB,{ref:s,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(eJ,{className:"h-4 w-4"})}));e0.displayName=eB.displayName;let e1=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(e$,{ref:s,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(eZ,{className:"h-4 w-4"})}));e1.displayName=e$.displayName;let e2=i.forwardRef(({className:e,children:t,position:s="popper",...a},n)=>(0,r.jsx)(em,{children:(0,r.jsxs)(ep,{ref:n,className:(0,g.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[(0,r.jsx)(e0,{}),(0,r.jsx)(eS,{className:(0,g.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(e1,{})]})}));e2.displayName=ep.displayName,i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(eD,{ref:s,className:(0,g.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=eD.displayName;let e4=i.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(eR,{ref:a,className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(eO,{children:(0,r.jsx)(eG.Check,{className:"h-4 w-4"})})}),(0,r.jsx)(eP,{children:t})]}));e4.displayName=eR.displayName,i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(eW,{ref:s,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=eW.displayName;var e3=e.i(493753);function e5({selectedToken:e,onSelect:t,tokens:s,balance:a,balances:n={},label:l,disabled:i=!1}){return(0,r.jsxs)("div",{className:"space-y-1.5",children:[l&&(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:l}),(0,r.jsxs)(el,{value:e?.address||"",onValueChange:e=>{let a=s.find(t=>t.address===e);a&&t(a)},disabled:i,children:[(0,r.jsx)(eQ,{className:"w-[140px] h-12",children:(0,r.jsx)(ec,{placeholder:"Select token",children:e&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:e.symbol.charAt(0)}),(0,r.jsx)("span",{children:e.symbol})]})})}),(0,r.jsx)(e2,{children:s.map(e=>{let t=n[e.address],s=t&&parseFloat(t)>0;return(0,r.jsx)(e4,{value:e.address,children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full min-w-[180px]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:e.symbol.charAt(0)}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[(0,r.jsx)("span",{className:"font-medium",children:e.symbol}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:e.name})]})]}),void 0!==t&&(0,r.jsx)("span",{className:`text-sm font-medium ${s?"text-foreground":"text-muted-foreground"}`,children:t})]})},e.address)})})]}),e&&void 0!==a&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Balance: ",a," ",e.symbol]})]})}var e6=e.i(729085);function e8({value:e,onChange:t,token:s,balance:a,label:l,disabled:i=!1,placeholder:o="0.00"}){let d=a?parseFloat(a):0,c=(e?parseFloat(e):0)>d&&d>0;return(0,r.jsxs)("div",{className:"space-y-1.5",children:[l&&(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:l}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(e6.Input,{type:"text",inputMode:"decimal",value:e,onChange:e=>{let s=e.target.value;(""===s||/^\d*\.?\d*$/.test(s))&&t(s)},placeholder:o,disabled:i||!s,className:(0,g.cn)("pr-16 text-lg font-medium h-12",c&&"border-destructive focus-visible:ring-destructive")}),a&&s&&(0,r.jsx)(n.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{a&&t(a)},disabled:i,className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 px-2 text-xs font-medium text-primary hover:text-primary/80",children:"MAX"})]}),c&&(0,r.jsx)("p",{className:"text-xs text-destructive",children:"Insufficient balance"})]})}var e7=e.i(206785),e9=e.i(36939);e.i(157830);var te=e.i(120224),tt=e.i(601958),ts=e.i(986534),ta=e.i(45081);async function tr(e,t,s,a,r){let n=await v.aptos.transaction.build.simple({sender:e,data:{function:t,typeArguments:[],functionArguments:s}}),l=(0,ta.generateSigningMessageForTransaction)(n),{signature:i}=await r({address:e,chainType:"aptos",hash:`0x${(0,v.toHex)(l)}`}),o=a.startsWith("0x")?a.slice(2):a;66===o.length&&(o=o.slice(2));let d=new te.AccountAuthenticatorEd25519(new tt.Ed25519PublicKey(o),new ts.Ed25519Signature(i.startsWith("0x")?i.slice(2):i)),c=await v.aptos.transaction.submit.simple({transaction:n,senderAuthenticator:d});if(!(await v.aptos.waitForTransaction({transactionHash:c.hash})).success)throw Error("Transaction failed");return c.hash}async function tn(e,t,s,a,r,n,l,i){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_swap`,[v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n],i,l)}async function tl(e,t,s,a,r,n,l){let i=await l({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_swap`,functionArguments:[v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n]}});if(!(await v.aptos.waitForTransaction({transactionHash:i.hash})).success)throw Error("Transaction failed");return i.hash}async function ti(e,t,s,a,r,n,l,i,o){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_limit_order`,[v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n,l],o,i)}async function to(e,t,s,a,r,n,l,i){let o=await i({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_limit_order`,functionArguments:[v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n,l]}});if(!(await v.aptos.waitForTransaction({transactionHash:o.hash})).success)throw Error("Transaction failed");return o.hash}async function td(e,t,s,a,r,n,l,i,o,d){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_twap`,[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r,n,l,i],d,o)}async function tc(e,t,s,a,r,n,l,i,o){let d=await o({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_twap`,functionArguments:[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r,n,l,i]}});if(!(await v.aptos.waitForTransaction({transactionHash:d.hash})).success)throw Error("Transaction failed");return d.hash}async function tu(e,t,s,a,r,n,l,i){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_dca`,[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r,n],i,l)}async function tm(e,t,s,a,r,n,l){let i=await l({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_dca`,functionArguments:[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r,n]}});if(!(await v.aptos.waitForTransaction({transactionHash:i.hash})).success)throw Error("Transaction failed");return i.hash}async function tx(e,t,s,a,r,n,l,i,o){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_swap_with_auction`,[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n,l],o,i)}async function tp(e,t,s,a,r,n,l,i){let o=await i({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_swap_with_auction`,functionArguments:[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n,l]}});if(!(await v.aptos.waitForTransaction({transactionHash:o.hash})).success)throw Error("Transaction failed");return o.hash}async function th(e,t,s,a,r,n,l,i,o,d){return tr(e,`${v.VELOX_ADDRESS}::submission::submit_swap_with_dutch_auction`,[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n.toString(),l,i],d,o)}async function tf(e,t,s,a,r,n,l,i,o){let d=await o({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::submit_swap_with_dutch_auction`,functionArguments:[v.VELOX_ADDRESS,v.VELOX_ADDRESS,t,s,a.toString(),r.toString(),n.toString(),l,i]}});if(!(await v.aptos.waitForTransaction({transactionHash:d.hash})).success)throw Error("Transaction failed");return d.hash}async function tg(e,t,s,a){return tr(e,`${v.VELOX_ADDRESS}::submission::cancel_intent`,[v.VELOX_ADDRESS,t.toString()],a,s)}async function tb(e,t,s){let a=await s({sender:e,data:{function:`${v.VELOX_ADDRESS}::submission::cancel_intent`,functionArguments:[v.VELOX_ADDRESS,t.toString()]}});if(!(await v.aptos.waitForTransaction({transactionHash:a.hash})).success)throw Error("Transaction failed");return a.hash}e.s(["cancelIntent",()=>tg,"cancelIntentNative",()=>tb,"submitDCAIntent",()=>tu,"submitDCAIntentNative",()=>tm,"submitLimitOrderIntent",()=>ti,"submitLimitOrderIntentNative",()=>to,"submitSwapIntent",()=>tn,"submitSwapIntentNative",()=>tl,"submitSwapWithAuction",()=>tx,"submitSwapWithAuctionNative",()=>tp,"submitSwapWithDutchAuction",()=>th,"submitSwapWithDutchAuctionNative",()=>tf,"submitTWAPIntent",()=>td,"submitTWAPIntentNative",()=>tc],532442);let tv={MOVE:"movement",tUSDC:"usd-coin",USDC:"usd-coin"},tj={};async function tN(e){if("tUSDC"===e||"USDC"===e)return 1;let t="tMOVE"===e?"MOVE":e,s=t.toUpperCase(),a=tj[s];if(a&&Date.now()-a.timestamp<3e4)return a.price;let r=tv[t];if(!r)return console.warn(`No CoinGecko ID for token: ${e}`),0;try{let e=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${r}&vs_currencies=usd`,{headers:{Accept:"application/json"},next:{revalidate:30}});if(!e.ok)throw Error(`CoinGecko API error: ${e.status}`);let t=await e.json(),a=t[r]?.usd;if("number"==typeof a)return tj[s]={price:a,timestamp:Date.now()},a;throw Error("Invalid price data")}catch(t){if(console.error(`Error fetching price for ${e}:`,t),a)return a.price;return 0}}async function ty(e,t){if(e===t)return 1;let[s,a]=await Promise.all([tN(e),tN(t)]);return 0===s||0===a?(console.warn(`Could not fetch prices for ${e}/${t}`),0):s/a}async function tw(e,t,s,a=.5){let r=await ty(t,s);return 0===r?{outputAmount:0,exchangeRate:0,priceImpact:0}:{outputAmount:e*r*(1-a/100),exchangeRate:r,priceImpact:0}}function tS(e,t=4){return 0===e?"0.00":e<1e-4?e.toExponential(2):e.toFixed(t)}let tE=(0,eY.default)("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);var tC=e.i(531278),tT=e.i(16715);let tk=[{label:"5m",value:300},{label:"10m",value:600},{label:"30m",value:1800},{label:"1h",value:3600}];function tD({onSuccess:e,onError:t}){let{walletAddress:s,isPrivy:a,isConnected:o,signRawHash:d,publicKeyHex:c,signAndSubmitTransaction:u}=(0,e9.useWalletContext)(),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[b,j]=(0,i.useState)(""),[N,y]=(0,i.useState)(tk[1].value),[w,S]=(0,i.useState)(""),[E,C]=(0,i.useState)({}),[T,k]=(0,i.useState)(0),[D,A]=(0,i.useState)(!1),[I,L]=(0,i.useState)(!1),[R,_]=(0,i.useState)(null),P=(0,i.useCallback)(async(e,t)=>(0,v.fetchTokenBalance)(e.address,t,e.decimals),[]);(0,i.useEffect)(()=>{(async()=>{if(!s)return C({});let e={};await Promise.all(e7.TOKEN_LIST.map(async t=>{let a=await P(t,s);e[t.address]=a})),C(e)})()},[s,P]),(0,i.useEffect)(()=>{m&&E[m.address]?S(E[m.address]):S("")},[m,E]),(0,i.useEffect)(()=>{let e=setTimeout(async()=>{if(!m||!p||!f||0>=parseFloat(f)){j(""),k(0);return}A(!0);try{let e=await tw(parseFloat(f),m.symbol,p.symbol,.5);k(e.exchangeRate),e.outputAmount>0?j(e.outputAmount.toFixed(6)):j("")}catch(e){console.error("Error fetching quote:",e),j(""),k(0)}finally{A(!1)}},300);return()=>clearTimeout(e)},[f,m,p]);let F=async()=>{let r=(()=>{if(!m)return"Select input token";if(!p)return"Select output token";if(m.address===p.address)return"Tokens must be different";if(!f||0>=parseFloat(f))return"Enter amount";let e=parseFloat(w||"0");return parseFloat(f)>e?"Insufficient balance":null})();if(r)return void _(r);if(s&&m&&p){L(!0),_(null);try{let t,r=BigInt(Math.floor(parseFloat(f)*Math.pow(10,m.decimals))),n=BigInt(Math.floor(parseFloat(b)*Math.pow(10,p.decimals))),l=Math.floor(Date.now()/1e3)+N;if(a&&d&&c)t=await tn(s,m.address,p.address,r,n,l,d,c);else if(u)t=await tl(s,m.address,p.address,r,n,l,u);else throw Error("No wallet connected");g(""),j(""),e?.(t)}catch(s){let e=s.message||"Transaction failed";_(e),t?.(e)}finally{L(!1)}}},O=e7.TOKEN_LIST.filter(e=>e.address!==m?.address);return(0,r.jsxs)(l.Card,{className:"w-full max-w-md mx-auto p-6 bg-card border-border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Swap"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(e8,{value:f,onChange:g,token:m,balance:w,label:"You pay",disabled:I})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:m,onSelect:x,tokens:e7.TOKEN_LIST,balance:w,balances:E,disabled:I})})]}),(0,r.jsx)("div",{className:"flex justify-center -my-2",children:(0,r.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{x(p),h(m),g(""),j("")},disabled:I,className:"rounded-full border border-border bg-background hover:bg-accent",children:(0,r.jsx)(tE,{className:"w-4 h-4"})})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-sm text-muted-foreground",children:"You receive (min)"}),(0,r.jsx)("div",{className:"h-12 px-3 flex items-center bg-muted/50 rounded-lg border border-border",children:D?(0,r.jsx)(tT.RefreshCw,{className:"w-4 h-4 animate-spin text-muted-foreground"}):(0,r.jsx)("span",{className:"text-lg font-medium text-muted-foreground",children:b||"0.00"})})]})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:p,onSelect:h,tokens:O,balances:E,disabled:I})})]}),T>0&&m&&p&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground bg-muted/30 px-3 py-2 rounded-lg",children:["1 ",m.symbol," = ",tS(T)," ",p.symbol]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-sm text-muted-foreground",children:"Deadline"}),(0,r.jsx)("div",{className:"flex gap-2",children:tk.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:N===e.value?"default":"outline",size:"sm",onClick:()=>y(e.value),disabled:I,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Slippage tolerance: ",.5,"%"]}),R&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:R})}),(0,r.jsx)(n.Button,{type:"button",onClick:F,disabled:I||!o,className:"w-full h-12 text-base font-medium",children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tC.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):o?"Submit Swap Intent":"Connect Wallet"})]})]})}var tA=e.i(635804),tI="Switch",[tL,tR]=(0,D.createContextScope)(tI),[t_,tP]=tL(tI),tF=i.forwardRef((e,t)=>{let{__scopeSwitch:s,name:a,checked:n,defaultChecked:l,required:o,disabled:d,value:c="on",onCheckedChange:u,form:m,...x}=e,[p,h]=i.useState(null),f=(0,k.useComposedRefs)(t,e=>h(e)),g=i.useRef(!1),b=!p||m||!!p.closest("form"),[v,j]=(0,$.useControllableState)({prop:n,defaultProp:l??!1,onChange:u,caller:tI});return(0,r.jsxs)(t_,{scope:s,checked:v,disabled:d,children:[(0,r.jsx)(O.Primitive.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":tH(v),"data-disabled":d?"":void 0,disabled:d,value:c,...x,ref:f,onClick:(0,C.composeEventHandlers)(e.onClick,e=>{j(e=>!e),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,r.jsx)(tB,{control:p,bubbles:!g.current,name:a,value:c,checked:v,required:o,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});tF.displayName=tI;var tO="SwitchThumb",tM=i.forwardRef((e,t)=>{let{__scopeSwitch:s,...a}=e,n=tP(tO,s);return(0,r.jsx)(O.Primitive.span,{"data-state":tH(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});tM.displayName=tO;var tB=i.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:a=!0,...n},l)=>{let o=i.useRef(null),d=(0,k.useComposedRefs)(o,l),c=W(s),u=(0,tA.useSize)(t);return i.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==s&&t){let r=new Event("click",{bubbles:a});t.call(e,s),e.dispatchEvent(r)}},[c,s,a]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:d,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function tH(e){return e?"checked":"unchecked"}tB.displayName="SwitchBubbleInput";let t$=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(tF,{className:(0,g.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:(0,r.jsx)(tM,{className:(0,g.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));t$.displayName=tF.displayName;let tV=[{label:"-5%",multiplier:.95},{label:"-1%",multiplier:.99},{label:"+1%",multiplier:1.01},{label:"+5%",multiplier:1.05}];function tW({value:e,onChange:t,inputToken:s,outputToken:a,currentPrice:l=0,isLoadingPrice:i=!1,disabled:o=!1}){return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Limit Price"}),i?(0,r.jsxs)("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,r.jsx)(tT.RefreshCw,{className:"w-3 h-3 animate-spin"}),"Loading price..."]}):l>0?(0,r.jsxs)(n.Button,{type:"button",variant:"link",size:"sm",onClick:()=>{t(l.toFixed(6))},disabled:o,className:"h-auto p-0 text-xs",children:["Use market price (",l.toFixed(4),")"]}):null]}),(0,r.jsx)(e6.Input,{type:"text",inputMode:"decimal",value:e,onChange:e=>{let s=e.target.value;(""===s||/^\d*\.?\d*$/.test(s))&&t(s)},placeholder:"0.00",disabled:o||!s||!a,className:"text-lg font-medium h-12"}),s&&a&&e&&parseFloat(e)>0&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["1 ",s.symbol," = ",e," ",a.symbol]}),(0,r.jsx)("div",{className:"flex gap-2",children:tV.map(i=>(0,r.jsx)(n.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{var s;return s=i.multiplier,void t(((e?parseFloat(e):l)*s).toFixed(6))},disabled:o||!s||!a,className:"flex-1 text-xs",children:i.label},i.label))})]})}let tU=[{label:"1h",value:3600},{label:"4h",value:14400},{label:"24h",value:86400},{label:"7d",value:604800}];function tX({onSuccess:e,onError:t}){let{walletAddress:s,isPrivy:a,isConnected:o,signRawHash:d,publicKeyHex:c,signAndSubmitTransaction:u}=(0,e9.useWalletContext)(),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[b,j]=(0,i.useState)(""),[N,y]=(0,i.useState)(tU[1].value),[w,S]=(0,i.useState)(!0),[E,C]=(0,i.useState)(""),[T,k]=(0,i.useState)({}),[D,A]=(0,i.useState)(0),[I,L]=(0,i.useState)(!1),[R,_]=(0,i.useState)(!1),[P,F]=(0,i.useState)(null),O=(0,i.useCallback)(async(e,t)=>(0,v.fetchTokenBalance)(e.address,t,e.decimals),[]);(0,i.useEffect)(()=>{(async()=>{if(!s)return k({});let e={};await Promise.all(e7.TOKEN_LIST.map(async t=>{let a=await O(t,s);e[t.address]=a})),k(e)})()},[s,O]),(0,i.useEffect)(()=>{m&&T[m.address]?C(T[m.address]):C("")},[m,T]),(0,i.useEffect)(()=>{(async()=>{if(!m||!p)return A(0);L(!0);try{let e=await ty(m.symbol,p.symbol);A(e)}catch(e){console.error("Error fetching exchange rate:",e),A(0)}finally{L(!1)}})()},[m,p]);let M=f&&b&&parseFloat(f)>0&&parseFloat(b)>0?(parseFloat(f)*parseFloat(b)).toFixed(6):"",B=async()=>{let r=(()=>{if(!m)return"Select input token";if(!p)return"Select output token";if(m.address===p.address)return"Tokens must be different";if(!f||0>=parseFloat(f))return"Enter amount";if(!b||0>=parseFloat(b))return"Enter limit price";let e=parseFloat(E||"0");return parseFloat(f)>e?"Insufficient balance":null})();if(r)return void F(r);if(s&&m&&p){_(!0),F(null);try{let t,r=BigInt(Math.floor(parseFloat(f)*Math.pow(10,m.decimals))),n=BigInt(Math.floor(1e4*parseFloat(b))),l=Math.floor(Date.now()/1e3)+N;if(a&&d&&c)t=await ti(s,m.address,p.address,r,n,l,w,d,c);else if(u)t=await to(s,m.address,p.address,r,n,l,w,u);else throw Error("No wallet connected");g(""),j(""),e?.(t)}catch(s){let e=s.message||"Transaction failed";F(e),t?.(e)}finally{_(!1)}}},H=e7.TOKEN_LIST.filter(e=>e.address!==m?.address);return(0,r.jsxs)(l.Card,{className:"w-full max-w-md mx-auto p-6 bg-card border-border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Limit Order"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(e8,{value:f,onChange:g,token:m,balance:E,label:"Amount",disabled:R})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:m,onSelect:x,tokens:e7.TOKEN_LIST,balance:E,balances:T,disabled:R})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"For"}),(0,r.jsx)(e5,{selectedToken:p,onSelect:h,tokens:H,balances:T,disabled:R})]}),(0,r.jsx)(tW,{value:b,onChange:j,inputToken:m,outputToken:p,currentPrice:D,isLoadingPrice:I,disabled:R}),M&&(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Expected to receive"}),(0,r.jsxs)("p",{className:"text-lg font-medium",children:[M," ",p?.symbol]})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Expires in"}),(0,r.jsx)("div",{className:"flex gap-2",children:tU.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:N===e.value?"default":"outline",size:"sm",onClick:()=>y(e.value),disabled:R,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 border border-border",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(e3.Label,{className:"text-sm font-medium",children:"Allow partial fill"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Order can be filled in multiple transactions"})]}),(0,r.jsx)(t$,{checked:w,onCheckedChange:S,disabled:R})]}),P&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:P})}),(0,r.jsx)(n.Button,{type:"button",onClick:B,disabled:R||!o,className:"w-full h-12 text-base font-medium",children:R?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tC.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):o?"Submit Limit Order":"Connect Wallet"})]})]})}let tK=[{label:"5",value:5},{label:"10",value:10},{label:"20",value:20},{label:"50",value:50}],tz=[{label:"5m",value:300,display:"5 minutes"},{label:"15m",value:900,display:"15 minutes"},{label:"1h",value:3600,display:"1 hour"},{label:"4h",value:14400,display:"4 hours"}],tq=[.1,.5,1,2];function tG({onSuccess:e,onError:t}){let{walletAddress:s,isPrivy:a,isConnected:o,signRawHash:d,publicKeyHex:c,signAndSubmitTransaction:u}=(0,e9.useWalletContext)(),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[b,j]=(0,i.useState)(10),[N,y]=(0,i.useState)(tz[2].value),[w,S]=(0,i.useState)(50),[E,C]=(0,i.useState)(""),[T,k]=(0,i.useState)({}),[D,A]=(0,i.useState)(!1),[I,L]=(0,i.useState)(null),R=(0,i.useCallback)(async(e,t)=>(0,v.fetchTokenBalance)(e.address,t,e.decimals),[]);(0,i.useEffect)(()=>{(async()=>{if(!s)return k({});let e={};await Promise.all(e7.TOKEN_LIST.map(async t=>{let a=await R(t,s);e[t.address]=a})),k(e)})()},[s,R]),(0,i.useEffect)(()=>{m&&T[m.address]?C(T[m.address]):C("")},[m,T]);let _=f&&parseFloat(f)>0?(parseFloat(f)/b).toFixed(4):"0",P=b*N/60,F=async()=>{let r=(()=>{if(!m)return"Select input token";if(!p)return"Select output token";if(m.address===p.address)return"Tokens must be different";if(!f||0>=parseFloat(f))return"Enter total amount";let e=parseFloat(E||"0");return parseFloat(f)>e?"Insufficient balance":null})();if(r)return void L(r);if(s&&m&&p){A(!0),L(null);try{let t,r=BigInt(Math.floor(parseFloat(f)*Math.pow(10,m.decimals))),n=Math.floor(Date.now()/1e3)+60;if(a&&d&&c)t=await td(s,m.address,p.address,r,b,N,w,n,d,c);else if(u)t=await tc(s,m.address,p.address,r,b,N,w,n,u);else throw Error("No wallet connected");g(""),e?.(t)}catch(s){let e=s.message||"Transaction failed";L(e),t?.(e)}finally{A(!1)}}},O=e7.TOKEN_LIST.filter(e=>e.address!==m?.address);return(0,r.jsxs)(l.Card,{className:"w-full max-w-md mx-auto p-6 bg-card border-border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"TWAP Order"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(e8,{value:f,onChange:g,token:m,balance:E,label:"Total Amount",disabled:D})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:m,onSelect:x,tokens:e7.TOKEN_LIST,balance:E,balances:T,disabled:D})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Split into"}),(0,r.jsx)(e5,{selectedToken:p,onSelect:h,tokens:O,balances:T,disabled:D})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Number of Chunks"}),(0,r.jsx)("div",{className:"flex gap-2",children:tK.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:b===e.value?"default":"outline",size:"sm",onClick:()=>j(e.value),disabled:D,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Interval Between Chunks"}),(0,r.jsx)("div",{className:"flex gap-2",children:tz.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:N===e.value?"default":"outline",size:"sm",onClick:()=>y(e.value),disabled:D,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Max Slippage per Chunk"}),(0,r.jsx)("div",{className:"flex gap-2",children:tq.map(e=>(0,r.jsxs)(n.Button,{type:"button",variant:w===100*e?"default":"outline",size:"sm",onClick:()=>S(100*e),disabled:D,className:"flex-1",children:[e,"%"]},e))})]}),(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 border border-border space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Amount per chunk:"}),(0,r.jsxs)("span",{children:[_," ",m?.symbol||"-"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total duration:"}),(0,r.jsx)("span",{children:P<60?`${P} minutes`:P<1440?`${(P/60).toFixed(1)} hours`:`${(P/1440).toFixed(1)} days`})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Execution schedule:"}),(0,r.jsxs)("span",{children:["Every ",tz.find(e=>e.value===N)?.display]})]})]}),I&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:I})}),(0,r.jsx)(n.Button,{type:"button",onClick:F,disabled:D||!o,className:"w-full h-12 text-base font-medium",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tC.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):o?"Create TWAP Order":"Connect Wallet"})]})]})}let tY=[{label:"4",value:4},{label:"12",value:12},{label:"24",value:24},{label:"52",value:52}],tZ=[{label:"Daily",value:1,seconds:86400},{label:"Weekly",value:7,seconds:604800},{label:"Bi-weekly",value:14,seconds:1209600},{label:"Monthly",value:30,seconds:2592e3}];function tJ({onSuccess:e,onError:t}){let{walletAddress:s,isPrivy:a,isConnected:o,signRawHash:d,publicKeyHex:c,signAndSubmitTransaction:u}=(0,e9.useWalletContext)(),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[b,j]=(0,i.useState)(12),[N,y]=(0,i.useState)(7),[w,S]=(0,i.useState)(""),[E,C]=(0,i.useState)({}),[T,k]=(0,i.useState)(!1),[D,A]=(0,i.useState)(null),I=(0,i.useCallback)(async(e,t)=>(0,v.fetchTokenBalance)(e.address,t,e.decimals),[]);(0,i.useEffect)(()=>{(async()=>{if(!s)return C({});let e={};await Promise.all(e7.TOKEN_LIST.map(async t=>{let a=await I(t,s);e[t.address]=a})),C(e)})()},[s,I]),(0,i.useEffect)(()=>{m&&E[m.address]?S(E[m.address]):S("")},[m,E]);let L=f&&parseFloat(f)>0?(parseFloat(f)*b).toFixed(2):"0",R=b*N,_=async()=>{let r=(()=>{if(!m)return"Select input token";if(!p)return"Select output token";if(m.address===p.address)return"Tokens must be different";if(!f||0>=parseFloat(f))return"Enter amount per period";let e=parseFloat(w||"0");return parseFloat(L)>e?"Insufficient balance for total investment":null})();if(r)return void A(r);if(s&&m&&p){k(!0),A(null);try{let t,r=BigInt(Math.floor(parseFloat(f)*Math.pow(10,m.decimals))),n=24*N*3600;if(a&&d&&c)t=await tu(s,m.address,p.address,r,b,n,d,c);else if(u)t=await tm(s,m.address,p.address,r,b,n,u);else throw Error("No wallet connected");g(""),e?.(t)}catch(s){let e=s.message||"Transaction failed";A(e),t?.(e)}finally{k(!1)}}},P=e7.TOKEN_LIST.filter(e=>e.address!==m?.address);return(0,r.jsxs)(l.Card,{className:"w-full max-w-md mx-auto p-6 bg-card border-border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"DCA (Dollar Cost Average)"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(e8,{value:f,onChange:g,token:m,balance:w,label:"Amount per Period",disabled:T})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:m,onSelect:x,tokens:e7.TOKEN_LIST,balance:w,balances:E,disabled:T})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"To buy"}),(0,r.jsx)(e5,{selectedToken:p,onSelect:h,tokens:P,balances:E,disabled:T})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Total Periods"}),(0,r.jsx)("div",{className:"flex gap-2",children:tY.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:b===e.value?"default":"outline",size:"sm",onClick:()=>j(e.value),disabled:T,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Frequency"}),(0,r.jsx)("div",{className:"flex gap-2 flex-wrap",children:tZ.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:N===e.value?"default":"outline",size:"sm",onClick:()=>y(e.value),disabled:T,className:"flex-1 min-w-[70px]",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50 border border-border space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total investment:"}),(0,r.jsxs)("span",{children:[L," ",m?.symbol||"-"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Duration:"}),(0,r.jsxs)("span",{children:[R," days"]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Next buy:"}),(0,r.jsx)("span",{children:"Immediately after creation"})]})]}),(0,r.jsx)("div",{className:"p-3 bg-amber-500/10 text-amber-400 rounded-lg text-sm",children:"DCA helps reduce the impact of volatility by spreading purchases over time."}),D&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:D})}),(0,r.jsx)(n.Button,{type:"button",onClick:_,disabled:T||!o,className:"w-full h-12 text-base font-medium",children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tC.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):o?"Start DCA":"Connect Wallet"})]})]})}var tQ=e.i(615923),t0=e.i(503116);let t1=(0,eY.default)("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);function t2({value:e,onChange:t}){return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(e3.Label,{className:"text-sm text-muted-foreground",children:"Auction Type"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>t(tQ.AuctionType.SEALED_BID),className:`flex flex-col items-center justify-center rounded-lg border-2 p-4 cursor-pointer transition-colors ${e===tQ.AuctionType.SEALED_BID?"border-blue-500 bg-blue-500/10":"border-border bg-muted/50 hover:bg-muted"}`,children:[(0,r.jsx)(t1,{className:`h-6 w-6 mb-2 ${e===tQ.AuctionType.SEALED_BID?"text-blue-400":"text-muted-foreground"}`}),(0,r.jsx)("span",{className:"font-medium",children:"Sealed Bid"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"Best offer wins"})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>t(tQ.AuctionType.DUTCH),className:`flex flex-col items-center justify-center rounded-lg border-2 p-4 cursor-pointer transition-colors ${e===tQ.AuctionType.DUTCH?"border-green-500 bg-green-500/10":"border-border bg-muted/50 hover:bg-muted"}`,children:[(0,r.jsx)(t0.Clock,{className:`h-6 w-6 mb-2 ${e===tQ.AuctionType.DUTCH?"text-green-400":"text-muted-foreground"}`}),(0,r.jsx)("span",{className:"font-medium",children:"Dutch"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground text-center mt-1",children:"First taker wins"})]})]})]})}let t4=[{label:"1.1x",value:110},{label:"1.2x",value:120},{label:"1.5x",value:150},{label:"2x",value:200}],t3=[{label:"15s",value:15},{label:"30s",value:30},{label:"1m",value:60},{label:"2m",value:120}];function t5({startPriceMultiplier:e,duration:t,onStartPriceChange:s,onDurationChange:a,basePrice:n}){let l=Number(n)*e/100;return(0,r.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-green-500/5 border border-green-500/20",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-green-400 flex items-center gap-2",children:"Dutch Auction Settings"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Start Price Multiplier"}),(0,r.jsxs)("span",{className:"text-foreground",children:[(e/100).toFixed(1),"x"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t4.map(t=>(0,r.jsx)("button",{type:"button",onClick:()=>s(t.value),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${e===t.value?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:t.label},t.value))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)(e3.Label,{className:"text-muted-foreground",children:"Duration"}),(0,r.jsx)("span",{className:"text-foreground",children:t<60?`${t}s`:`${t/60}m`})]}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t3.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>a(e.value),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t===e.value?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-green-500/20",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Start Price:"}),(0,r.jsx)("span",{className:"text-green-400 font-mono",children:(l/1e8).toFixed(4)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"End Price (Min):"}),(0,r.jsx)("span",{className:"text-red-400 font-mono",children:(Number(n)/1e8).toFixed(4)})]})]})]})}let t6=[{label:"10m",value:600},{label:"30m",value:1800},{label:"1h",value:3600},{label:"4h",value:14400}],t8=[{label:"15s",value:15},{label:"30s",value:30},{label:"1m",value:60},{label:"2m",value:120}];function t7({onSuccess:e,onError:t}){let{walletAddress:s,isPrivy:a,isConnected:o,signRawHash:d,publicKeyHex:c,signAndSubmitTransaction:u}=(0,e9.useWalletContext)(),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),[f,g]=(0,i.useState)(""),[b,j]=(0,i.useState)(""),[N,y]=(0,i.useState)(t6[1].value),[w,S]=(0,i.useState)(""),[E,C]=(0,i.useState)({}),[T,k]=(0,i.useState)(0),[D,A]=(0,i.useState)(!1),[I,L]=(0,i.useState)(!1),[R,_]=(0,i.useState)(null),[P,F]=(0,i.useState)(tQ.AuctionType.SEALED_BID),[O,M]=(0,i.useState)(t8[1].value),[B,H]=(0,i.useState)(120),[$,V]=(0,i.useState)(60),W=BigInt(Math.floor(1e8*parseFloat(b||"0"))),U=(0,i.useCallback)(async(e,t)=>(0,v.fetchTokenBalance)(e.address,t,e.decimals),[]);(0,i.useEffect)(()=>{(async()=>{if(!s)return C({});let e={};await Promise.all(e7.TOKEN_LIST.map(async t=>{let a=await U(t,s);e[t.address]=a})),C(e)})()},[s,U]),(0,i.useEffect)(()=>{m&&E[m.address]?S(E[m.address]):S("")},[m,E]),(0,i.useEffect)(()=>{let e=setTimeout(async()=>{if(!m||!p||!f||0>=parseFloat(f)){j(""),k(0);return}A(!0);try{let e=await tw(parseFloat(f),m.symbol,p.symbol,.5);k(e.exchangeRate),e.outputAmount>0?j(e.outputAmount.toFixed(6)):j("")}catch(e){console.error("Error fetching quote:",e),j(""),k(0)}finally{A(!1)}},300);return()=>clearTimeout(e)},[f,m,p]);let X=async()=>{let r=(()=>{if(!m)return"Select input token";if(!p)return"Select output token";if(m.address===p.address)return"Tokens must be different";if(!f||0>=parseFloat(f))return"Enter amount";let e=parseFloat(w||"0");return parseFloat(f)>e?"Insufficient balance":null})();if(r)return void _(r);if(s&&m&&p){L(!0),_(null);try{let t,r=BigInt(Math.floor(parseFloat(f)*Math.pow(10,m.decimals))),n=BigInt(Math.floor(parseFloat(b)*Math.pow(10,p.decimals))),l=Math.floor(Date.now()/1e3)+N;if(P===tQ.AuctionType.SEALED_BID)if(a&&d&&c)t=await tx(s,m.address,p.address,r,n,l,O,d,c);else if(u)t=await tp(s,m.address,p.address,r,n,l,O,u);else throw Error("No wallet connected");else{let e=n*BigInt(B)/BigInt(100);if(a&&d&&c)t=await th(s,m.address,p.address,r,n,e,l,$,d,c);else if(u)t=await tf(s,m.address,p.address,r,n,e,l,$,u);else throw Error("No wallet connected")}g(""),j(""),e?.(t)}catch(s){let e=s instanceof Error?s.message:"Transaction failed";_(e),t?.(e)}finally{L(!1)}}},K=e7.TOKEN_LIST.filter(e=>e.address!==m?.address);return(0,r.jsxs)(l.Card,{className:"w-full max-w-md mx-auto p-6 bg-card border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[P===tQ.AuctionType.SEALED_BID?(0,r.jsx)(t1,{className:"w-5 h-5 text-blue-400"}):(0,r.jsx)(t0.Clock,{className:"w-5 h-5 text-green-400"}),(0,r.jsxs)("h2",{className:"text-xl font-semibold",children:[P===tQ.AuctionType.SEALED_BID?"Sealed-Bid":"Dutch"," Auction Swap"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(t2,{value:P,onChange:F}),(0,r.jsx)("div",{className:`border rounded-lg p-3 ${P===tQ.AuctionType.SEALED_BID?"bg-blue-500/10 border-blue-500/20":"bg-green-500/10 border-green-500/20"}`,children:(0,r.jsx)("p",{className:`text-sm ${P===tQ.AuctionType.SEALED_BID?"text-blue-400":"text-green-400"}`,children:P===tQ.AuctionType.SEALED_BID?"Solvers submit sealed bids. Best offer wins after auction ends.":"Price drops from start to min. First solver to accept wins."})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(e8,{value:f,onChange:g,token:m,balance:w,label:"You pay",disabled:I})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:m,onSelect:x,tokens:e7.TOKEN_LIST,balance:w,balances:E,disabled:I})})]}),(0,r.jsx)("div",{className:"flex justify-center -my-2",children:(0,r.jsx)(n.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{x(p),h(m),g(""),j("")},disabled:I,className:"rounded-full border border-border bg-background hover:bg-accent",children:(0,r.jsx)(tE,{className:"w-4 h-4"})})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-sm text-muted-foreground",children:"You receive (min)"}),(0,r.jsx)("div",{className:"h-12 px-3 flex items-center bg-muted/50 rounded-lg border border-border",children:D?(0,r.jsx)(tT.RefreshCw,{className:"w-4 h-4 animate-spin text-muted-foreground"}):(0,r.jsx)("span",{className:"text-lg font-medium text-muted-foreground",children:b||"0.00"})})]})}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)(e5,{selectedToken:p,onSelect:h,tokens:K,balances:E,disabled:I})})]}),T>0&&m&&p&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground bg-muted/30 px-3 py-2 rounded-lg",children:["1 ",m.symbol," = ",tS(T)," ",p.symbol]}),P===tQ.AuctionType.SEALED_BID?(0,r.jsxs)("div",{className:"space-y-1.5 p-4 rounded-lg bg-blue-500/5 border border-blue-500/20",children:[(0,r.jsxs)("label",{className:"block text-sm text-blue-400 flex items-center gap-1",children:[(0,r.jsx)(t1,{className:"w-3 h-3"})," Sealed Bid Duration"]}),(0,r.jsx)("div",{className:"flex gap-2",children:t8.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:O===e.value?"default":"outline",size:"sm",onClick:()=>M(e.value),disabled:I,className:"flex-1",children:e.label},e.value))})]}):(0,r.jsx)(t5,{startPriceMultiplier:B,duration:$,onStartPriceChange:H,onDurationChange:V,basePrice:W}),(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("label",{className:"block text-sm text-muted-foreground",children:"Order Deadline"}),(0,r.jsx)("div",{className:"flex gap-2",children:t6.map(e=>(0,r.jsx)(n.Button,{type:"button",variant:N===e.value?"default":"outline",size:"sm",onClick:()=>y(e.value),disabled:I,className:"flex-1",children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Slippage tolerance: ",.5,"%"]}),R&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:R})}),(0,r.jsx)(n.Button,{type:"button",onClick:X,disabled:I||!o,className:`w-full h-12 text-base font-medium ${P===tQ.AuctionType.SEALED_BID?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"}`,children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tC.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):o?P===tQ.AuctionType.SEALED_BID?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t1,{className:"w-4 h-4 mr-2"}),"Create Sealed-Bid Auction"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t0.Clock,{className:"w-4 h-4 mr-2"}),"Create Dutch Auction"]}):"Connect Wallet"})]})]})}function t9({onSuccess:e,onError:t}){return(0,r.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,r.jsxs)(S.Tabs,{defaultValue:"swap",className:"w-full",children:[(0,r.jsxs)(S.TabsList,{className:"grid w-full grid-cols-5",children:[(0,r.jsx)(S.TabsTrigger,{value:"swap",children:"Swap"}),(0,r.jsx)(S.TabsTrigger,{value:"auction",children:"Auction"}),(0,r.jsx)(S.TabsTrigger,{value:"limit",children:"Limit"}),(0,r.jsx)(S.TabsTrigger,{value:"twap",children:"TWAP"}),(0,r.jsx)(S.TabsTrigger,{value:"dca",children:"DCA"})]}),(0,r.jsx)(S.TabsContent,{value:"swap",children:(0,r.jsx)(tD,{onSuccess:e,onError:t})}),(0,r.jsx)(S.TabsContent,{value:"auction",children:(0,r.jsx)(t7,{onSuccess:e,onError:t})}),(0,r.jsx)(S.TabsContent,{value:"limit",children:(0,r.jsx)(tX,{onSuccess:e,onError:t})}),(0,r.jsx)(S.TabsContent,{value:"twap",children:(0,r.jsx)(tG,{onSuccess:e,onError:t})}),(0,r.jsx)(S.TabsContent,{value:"dca",children:(0,r.jsx)(tJ,{onSuccess:e,onError:t})})]})})}e.s(["IntentTabs",()=>t9],964427);var se=e.i(30656);let st={pending:{label:"Pending",variant:"warning"},partially_filled:{label:"Partial",variant:"info"},filled:{label:"Filled",variant:"success"},cancelled:{label:"Cancelled",variant:"muted"},expired:{label:"Expired",variant:"destructive"}};function ss({status:e,className:t}){let s=st[e];return(0,r.jsx)(se.Badge,{variant:s.variant,className:(0,g.cn)("text-xs",t),children:s.label})}var sa=e.i(944473),sr=e.i(279779),sn=e.i(37727),sl=e.i(87316),si=e.i(115057),so=e.i(417835),sd=e.i(25652);function sc(e,t){let s=BigInt(10**t),a=(e%s).toString().padStart(t,"0").slice(0,4);return`${e/s}.${a}`}function su(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.symbol||e.slice(0,6)+"..."}function sm(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.decimals||8}function sx({intent:e,onCancel:t,onClick:s,isCancelling:a}){var l;let[o,d]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[m,x]=(0,i.useState)(""),[p,h]=(0,i.useState)(!0),f=su(e.inputToken),g=su(e.outputToken),b=sm(e.inputToken),j=sm(e.outputToken),N="pending"===e.status||"partially_filled"===e.status,y=(0,i.useCallback)(async()=>{let[t,s]=await Promise.all([(0,sa.getScheduledIntentInfo)(e.id),(0,sa.fetchPeriodFillEvents)(e.id)]);d(t),u(s),h(!1)},[e.id]);(0,i.useEffect)(()=>{y();let e=setInterval(y,1e4);return()=>clearInterval(e)},[y]),(0,i.useEffect)(()=>{if(!o)return;let e=()=>{let e=Math.floor(Date.now()/1e3),t=o.nextExecution-e;if(t<=0)return void(o.isReady?x("Ready to execute"):x("Waiting for solver..."));let s=Math.floor(t/86400),a=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),n=t%60;s>0?x(`${s}d ${a}h ${r}m`):a>0?x(`${a}h ${r}m ${n}s`):r>0?x(`${r}m ${n}s`):x(`${n}s`)};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[o]);let w=o?.chunksExecuted??e.periodsExecuted??c.length,S=o?.totalChunks??e.totalPeriods??0,E=S>0?w/S*100:0,C=o?.isCompleted||w>=S,T=e.amountPerPeriod??BigInt(0),k=sc(T,b),D=sc(e.amountIn,b),A=sc(c.reduce((e,t)=>e+t.outputAmount,BigInt(0)),j);return(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-4 rounded-lg bg-card border border-border hover:border-primary/30 transition-colors cursor-pointer",onClick:s,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(sl.Calendar,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground uppercase font-medium",children:"DCA"}),(0,r.jsxs)("span",{className:"text-sm font-semibold",children:[f," â†’ ",g]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[C?(0,r.jsx)(ss,{status:"filled"}):(0,r.jsx)(ss,{status:e.status}),N&&!C&&t&&(0,r.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),t(e.id)},disabled:a,className:"h-7 w-7 p-0 text-muted-foreground hover:text-destructive",children:a?(0,r.jsx)(tC.Loader2,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(sn.X,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,r.jsxs)("span",{className:"font-medium",children:[w," / ",S," periods"]})]}),(0,r.jsx)(sr.Progress,{value:E,className:"h-2"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Per Period:"}),(0,r.jsxs)("span",{className:"ml-1 font-medium",children:[k," ",f]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,r.jsxs)("span",{className:"ml-1 font-medium",children:[D," ",f]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Interval:"}),(0,r.jsx)("span",{className:"ml-1",children:(l=e.intervalSeconds??0)<60?`${l}s`:l<3600?`${Math.floor(l/60)}m`:l<86400?`${Math.floor(l/3600)}h`:`${Math.floor(l/86400)}d`})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Spent:"}),(0,r.jsxs)("span",{className:"ml-1",children:[sc(T*BigInt(w),b)," ",f]})]})]}),w>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50 border border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(sd.TrendingUp,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Accumulated:"})]}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-green-500",children:[A," ",g]})]}),!C&&N&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-primary/10 border border-primary/20",children:[(0,r.jsx)(so.Timer,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Next buy in:"}),p?(0,r.jsx)(tC.Loader2,{className:"h-4 w-4 animate-spin text-primary"}):(0,r.jsx)("span",{className:"text-sm font-semibold text-primary",children:m})]}),C&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-green-500/10 border border-green-500/20",children:[(0,r.jsx)(eG.Check,{className:"h-4 w-4 text-green-500"}),(0,r.jsxs)("span",{className:"text-sm text-green-600",children:["All ",S," periods completed!"]})]}),c.length>0&&(0,r.jsxs)("div",{className:"border-t border-border pt-3 mt-1",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground mb-2 block",children:"Period Fills:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 transition-colors",onClick:e=>e.stopPropagation(),title:`Period #${e.periodNumber}: ${sc(e.outputAmount,j)} ${g}`,children:[(0,r.jsxs)("span",{children:["#",e.periodNumber]}),(0,r.jsx)(si.ArrowUpRight,{className:"h-3 w-3"})]},e.txHash))})]}),e.submissionTxHash&&(0,r.jsx)("div",{className:"flex items-center gap-4 text-xs pt-2 border-t border-border/50",children:(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.submissionTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(t0.Clock,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Created: ",e.submissionTxHash.slice(0,8),"..."]})]})})]})}function sp(e,t){let s=BigInt(10**t),a=(e%s).toString().padStart(t,"0").slice(0,4);return`${e/s}.${a}`}function sh(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.symbol||e.slice(0,6)+"..."}function sf(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.decimals||8}function sg({intent:e,onCancel:t,onClick:s,isCancelling:a}){var l;let[o,d]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[m,x]=(0,i.useState)(""),[p,h]=(0,i.useState)(!0),f=sh(e.inputToken),g=sh(e.outputToken),b=sf(e.inputToken),j=sf(e.outputToken),N="pending"===e.status||"partially_filled"===e.status,y=(0,i.useCallback)(async()=>{let[t,s]=await Promise.all([(0,sa.getScheduledIntentInfo)(e.id),(0,sa.fetchPeriodFillEvents)(e.id)]);d(t),u(s),h(!1)},[e.id]);(0,i.useEffect)(()=>{y();let e=setInterval(y,1e4);return()=>clearInterval(e)},[y]),(0,i.useEffect)(()=>{if(!o)return;let e=()=>{let e=Math.floor(Date.now()/1e3),t=o.nextExecution-e;if(t<=0)return void x(o.isReady?"Ready to execute":"Waiting for solver...");let s=Math.floor(t/3600),a=Math.floor(t%3600/60),r=t%60;s>0?x(`${s}h ${a}m ${r}s`):a>0?x(`${a}m ${r}s`):x(`${r}s`)};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[o]);let w=o?.chunksExecuted??e.chunksExecuted??c.length,S=o?.totalChunks??e.numChunks??0,E=S>0?w/S*100:0,C=o?.isCompleted||w>=S,T=e.amountIn,k=sp(S>0?T/BigInt(S):BigInt(0),b),D=sp(T,b),A=sp(c.reduce((e,t)=>e+t.outputAmount,BigInt(0)),j);return(0,r.jsxs)("div",{className:"flex flex-col gap-3 p-4 rounded-lg bg-card border border-border hover:border-primary/30 transition-colors cursor-pointer",onClick:s,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(sd.TrendingUp,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground uppercase font-medium",children:"TWAP"}),(0,r.jsxs)("span",{className:"text-sm font-semibold",children:[f," â†’ ",g]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[C?(0,r.jsx)(ss,{status:"filled"}):(0,r.jsx)(ss,{status:e.status}),N&&!C&&t&&(0,r.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),t(e.id)},disabled:a,className:"h-7 w-7 p-0 text-muted-foreground hover:text-destructive",children:a?(0,r.jsx)(tC.Loader2,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(sn.X,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,r.jsxs)("span",{className:"font-medium",children:[w," / ",S," chunks"]})]}),(0,r.jsx)(sr.Progress,{value:E,className:"h-2"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Per Chunk:"}),(0,r.jsxs)("span",{className:"ml-1 font-medium",children:[k," ",f]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,r.jsxs)("span",{className:"ml-1 font-medium",children:[D," ",f]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Interval:"}),(0,r.jsx)("span",{className:"ml-1",children:(l=e.intervalSeconds??0)<60?`${l}s`:l<3600?`${Math.floor(l/60)}m`:l<86400?`${Math.floor(l/3600)}h`:`${Math.floor(l/86400)}d`})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Max Slippage:"}),(0,r.jsxs)("span",{className:"ml-1",children:[((e.maxSlippageBps??0)/100).toFixed(2),"%"]})]})]}),w>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50 border border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(sd.TrendingUp,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Accumulated:"})]}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-green-500",children:[A," ",g]})]}),!C&&N&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-primary/10 border border-primary/20",children:[(0,r.jsx)(so.Timer,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Next chunk in:"}),p?(0,r.jsx)(tC.Loader2,{className:"h-4 w-4 animate-spin text-primary"}):(0,r.jsx)("span",{className:"text-sm font-semibold text-primary",children:m})]}),C&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-green-500/10 border border-green-500/20",children:[(0,r.jsx)(eG.Check,{className:"h-4 w-4 text-green-500"}),(0,r.jsxs)("span",{className:"text-sm text-green-600",children:["All ",S," chunks completed!"]})]}),c.length>0&&(0,r.jsxs)("div",{className:"border-t border-border pt-3 mt-1",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground mb-2 block",children:"Chunk Fills:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 transition-colors",onClick:e=>e.stopPropagation(),title:`Chunk #${e.periodNumber}: ${sp(e.outputAmount,j)} ${g}`,children:[(0,r.jsxs)("span",{children:["#",e.periodNumber]}),(0,r.jsx)(si.ArrowUpRight,{className:"h-3 w-3"})]},e.txHash))})]}),e.submissionTxHash&&(0,r.jsx)("div",{className:"flex items-center gap-4 text-xs pt-2 border-t border-border/50",children:(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.submissionTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(t0.Clock,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Created: ",e.submissionTxHash.slice(0,8),"..."]})]})})]})}function sb(e,t){let s=BigInt(10**t),a=(e%s).toString().padStart(t,"0").slice(0,4);return`${e/s}.${a}`}function sv(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function sj(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.symbol||e.slice(0,6)+"..."}function sN(e){let t=e7.TOKEN_LIST.find(t=>t.address===e);return t?.decimals||8}function sy({intent:e,onCancel:t,onClick:s,isCancelling:a,compact:l,periodFillTxHashes:i}){let o,d,c,u;if("dca"===e.intentType)return(0,r.jsx)(sx,{intent:e,onCancel:t,onClick:s,isCancelling:a,periodFillTxHashes:i});if("twap"===e.intentType)return(0,r.jsx)(sg,{intent:e,onCancel:t,onClick:s,isCancelling:a,chunkFillTxHashes:i});let m=sj(e.inputToken),x=sj(e.outputToken),p=sN(e.inputToken),h=sN(e.outputToken),f=sb(e.amountIn,p),g="pending"===e.status||"partially_filled"===e.status,b="filled"===e.status,j=e.outputAmount?sb(e.outputAmount,h):null;return(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-card border border-border hover:border-border/80 transition-colors cursor-pointer",onClick:s,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-3 flex-1",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground uppercase",children:(0,tQ.getIntentTypeDisplay)(e.intentType)}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[f," ",m," â†’ ",j?`${j} `:"",x]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[!l&&(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:(o=new Date(1e3*e.createdAt),u=Math.floor((c=Math.floor((d=Math.floor((new Date().getTime()-o.getTime())/6e4))/60))/24),d<1?"Just now":d<60?`${d}m ago`:c<24?`${c}h ago`:`${u}d ago`)}),(0,r.jsx)(ss,{status:e.status}),g&&t&&(0,r.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),t(e.id)},disabled:a,className:"h-7 w-7 p-0 text-muted-foreground hover:text-destructive",children:(0,r.jsx)(sn.X,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs flex-wrap",children:[e.submissionTxHash&&(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.submissionTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(si.ArrowUpRight,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Submitted: ",sv(e.submissionTxHash)]})]}),b&&e.settlementTxHash&&(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.settlementTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary hover:text-primary/80 transition-colors",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(eG.Check,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:["Settled: ",sv(e.settlementTxHash)]})]})]})]})}var sw=e.i(21218);function sS({intents:e,loading:t,onCancel:s,cancellingId:a}){let n=e.filter(e=>"pending"===e.status||"partially_filled"===e.status);return 0===n.length?null:(0,r.jsxs)(l.Card,{className:"border-primary/20 bg-primary/5",children:[(0,r.jsx)(l.CardHeader,{className:"pb-3",children:(0,r.jsxs)(l.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(sw.Activity,{className:"h-4 w-4 text-primary"}),"Active Intents",t&&(0,r.jsx)(tC.Loader2,{className:"h-3 w-3 animate-spin text-muted-foreground"}),(0,r.jsxs)("span",{className:"ml-auto text-sm font-normal text-muted-foreground",children:[n.length," active"]})]})}),(0,r.jsx)(l.CardContent,{children:(0,r.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,r.jsx)(sy,{intent:e,onCancel:s,isCancelling:a===e.id,compact:!0},e.id.toString()))})})]})}e.s(["ActiveIntents",()=>sS],963088);var sE=e.i(341288),sC=e.i(972520),sT=e.i(778917);let sk={swap:"bg-primary/10 text-primary",limit_order:"bg-primary/10 text-primary",twap:"bg-primary/10 text-primary",dca:"bg-primary/10 text-primary"},sD={pending:"bg-muted text-muted-foreground",filled:"bg-primary/10 text-primary",partially_filled:"bg-primary/10 text-primary",cancelled:"bg-muted text-muted-foreground",expired:"bg-destructive/10 text-destructive"};function sA(e){return e===sE.TOKENS.tUSDC.address?"tUSDC":e===sE.TOKENS.tMOVE.address?"tMOVE":e.slice(0,8)+"..."}function sI(e){return(Number(e)/1e8).toFixed(4)}function sL(e){return e?new Date(1e3*e).toLocaleString():"--"}function sR({intent:e,open:t,onOpenChange:s}){var a;let[n,l]=(0,i.useState)(null),[o,c]=(0,i.useState)([]),[u,m]=(0,i.useState)(""),x=e?.intentType==="dca"||e?.intentType==="twap",p=(0,i.useCallback)(async()=>{if(!e||!x)return;let[t,s]=await Promise.all([(0,sa.getScheduledIntentInfo)(e.id),(0,sa.fetchPeriodFillEvents)(e.id)]);l(t),c(s)},[e,x]);if((0,i.useEffect)(()=>{if(t&&x){p();let e=setInterval(p,1e4);return()=>clearInterval(e)}},[t,x,p]),(0,i.useEffect)(()=>{if(!n||!t)return;let e=()=>{let e=Math.floor(Date.now()/1e3),t=n.nextExecution-e;if(t<=0)return void m(n.isReady?"Ready to execute":"Waiting for solver...");let s=Math.floor(t/86400),a=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),l=t%60;s>0?m(`${s}d ${a}h ${r}m`):a>0?m(`${a}h ${r}m ${l}s`):r>0?m(`${r}m ${l}s`):m(`${l}s`)};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[n,t]),!e)return null;let h=n?.chunksExecuted??e.periodsExecuted??o.length,f=n?.totalChunks??e.totalPeriods??e.numChunks??0,g=f>0?h/f*100:0,j=n?.isCompleted||f>0&&h>=f,N=o.reduce((e,t)=>e+t.outputAmount,BigInt(0));return(0,r.jsx)(d.Dialog,{open:t,onOpenChange:s,children:(0,r.jsxs)(d.DialogContent,{className:"max-w-md",children:[(0,r.jsx)(d.DialogHeader,{children:(0,r.jsxs)(d.DialogTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(se.Badge,{className:sk[e.intentType],children:(0,tQ.getIntentTypeDisplay)(e.intentType)}),(0,r.jsxs)("span",{children:["Intent #",e.id.toString()]})]})}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,r.jsx)(se.Badge,{className:sD[e.status],children:e.status.replace("_"," ").toUpperCase()})]}),(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 py-2",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold",children:sI(e.amountIn)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:sA(e.inputToken)})]}),(0,r.jsx)(sC.ArrowRight,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold",children:e.outputAmount?sI(e.outputAmount):"?"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:sA(e.outputToken)})]})]}),(0,r.jsx)(b,{}),e.filledAmount>BigInt(0)&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Filled"}),(0,r.jsx)("span",{children:sI(e.filledAmount)})]}),"swap"===e.intentType&&e.minAmountOut&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Min Output"}),(0,r.jsx)("span",{children:sI(e.minAmountOut)})]}),"limit_order"===e.intentType&&(0,r.jsxs)(r.Fragment,{children:[e.limitPrice&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Limit Price"}),(0,r.jsx)("span",{children:(Number(e.limitPrice)/1e4).toFixed(4)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Partial Fill"}),(0,r.jsx)("span",{children:e.partialFillAllowed?"Yes":"No"})]})]}),"twap"===e.intentType&&(0,r.jsxs)(r.Fragment,{children:[e.numChunks&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Chunks"}),(0,r.jsxs)("span",{children:[e.chunksExecuted??0," / ",e.numChunks]})]}),e.intervalSeconds&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Interval"}),(0,r.jsxs)("span",{children:[e.intervalSeconds,"s"]})]}),e.maxSlippageBps&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Max Slippage"}),(0,r.jsxs)("span",{children:[(e.maxSlippageBps/100).toFixed(2),"%"]})]})]}),"dca"===e.intentType&&(0,r.jsxs)(r.Fragment,{children:[f>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,r.jsxs)("span",{className:"font-medium",children:[h," / ",f," periods"]})]}),(0,r.jsx)(sr.Progress,{value:g,className:"h-2"})]}),!j&&u&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-primary/10 border border-primary/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(so.Timer,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Next buy:"})]}),(0,r.jsx)("span",{className:"text-sm font-semibold text-primary",children:u})]}),j&&(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-green-500/10 border border-green-500/20",children:[(0,r.jsx)(eG.Check,{className:"h-4 w-4 text-green-500"}),(0,r.jsxs)("span",{className:"text-sm text-green-600",children:["All ",f," periods completed!"]})]}),N>BigInt(0)&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50 border border-border",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(sd.TrendingUp,{className:"h-4 w-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Accumulated:"})]}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-green-500",children:[sI(N)," ",sA(e.outputToken)]})]}),(0,r.jsx)(b,{}),e.amountPerPeriod&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Per Period"}),(0,r.jsx)("span",{children:sI(e.amountPerPeriod)})]}),e.intervalSeconds&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Interval"}),(0,r.jsx)("span",{children:(a=e.intervalSeconds)<60?`${a} seconds`:a<3600?`${Math.floor(a/60)} minutes`:a<86400?`${Math.floor(a/3600)} hours`:`${Math.floor(a/86400)} days`})]}),o.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"Period Fills:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.txHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:[(0,r.jsxs)("span",{children:["#",e.periodNumber]}),(0,r.jsx)(si.ArrowUpRight,{className:"h-3 w-3"})]},e.txHash))})]})]})]}),(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(t0.Clock,{className:"h-3 w-3"}),sL(e.createdAt)]})]}),e.deadline&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Deadline"}),(0,r.jsx)("span",{children:sL(e.deadline)})]}),(e.submissionTxHash||e.settlementTxHash)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[e.submissionTxHash&&(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.submissionTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between text-sm hover:text-primary",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Submission Tx"}),(0,r.jsxs)("span",{className:"flex items-center gap-1 text-primary",children:[e.submissionTxHash.slice(0,8),"...",(0,r.jsx)(sT.ExternalLink,{className:"h-3 w-3"})]})]}),e.settlementTxHash&&(0,r.jsxs)("a",{href:(0,v.getExplorerUrl)(e.settlementTxHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between text-sm hover:text-primary",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Settlement Tx"}),(0,r.jsxs)("span",{className:"flex items-center gap-1 text-primary",children:[e.settlementTxHash.slice(0,8),"...",(0,r.jsx)(sT.ExternalLink,{className:"h-3 w-3"})]})]})]})]})]})]})})}var s_=e.i(250121);let sP=(0,eY.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function sF(){return(0,r.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"p-3 rounded-lg bg-muted/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s_.Skeleton,{className:"h-3 w-12"}),(0,r.jsx)(s_.Skeleton,{className:"h-4 w-32"})]}),(0,r.jsx)(s_.Skeleton,{className:"h-5 w-16 rounded-full"})]})},t))})}function sO(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[(0,r.jsx)(sP,{className:"h-8 w-8 mb-2 opacity-50"}),(0,r.jsx)("p",{className:"text-sm",children:"No intent history yet"}),(0,r.jsx)("p",{className:"text-xs mt-1",children:"Your submitted intents will appear here"})]})}function sM({intents:e,loading:t,onCancel:s,cancellingId:a}){let[n,o]=(0,i.useState)(null),[d,c]=(0,i.useState)(!1);return t&&0===e.length?(0,r.jsxs)(l.Card,{children:[(0,r.jsx)(l.CardHeader,{className:"pb-3",children:(0,r.jsxs)(l.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(sP,{className:"h-4 w-4"}),"Intent History"]})}),(0,r.jsx)(l.CardContent,{children:(0,r.jsx)(sF,{})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Card,{children:[(0,r.jsx)(l.CardHeader,{className:"pb-3",children:(0,r.jsxs)(l.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(sP,{className:"h-4 w-4"}),"Intent History",t&&(0,r.jsx)(tC.Loader2,{className:"h-3 w-3 animate-spin text-muted-foreground"})]})}),(0,r.jsx)(l.CardContent,{children:0===e.length?(0,r.jsx)(sO,{}):(0,r.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:e.map(e=>(0,r.jsx)(sy,{intent:e,onCancel:s,onClick:()=>{o(e),c(!0)},isCancelling:a===e.id},e.id.toString()))})})]}),(0,r.jsx)(sR,{intent:n,open:d,onOpenChange:c})]})}function sB(e){let[t,s]=(0,i.useState)([]),[a,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(null),o=(0,i.useCallback)(async(t=!1)=>{if(!e)return void s([]);try{t&&r(!0),l(null);let a=await (0,sa.getUserIntents)(e);if(0===a.length)return void s([]);await (0,sa.fetchIntentEvents)(a,e);let n=a.map(e=>(0,sa.getIntent)(e)),i=(await Promise.all(n)).filter(e=>null!==e).map(e=>{let t=(0,sa.getIntentEventData)(e.id);return t?{...e,submissionTxHash:t.submissionTxHash||e.submissionTxHash,settlementTxHash:t.settlementTxHash||e.settlementTxHash,outputAmount:t.outputAmount||e.outputAmount}:e}).sort((e,t)=>t.createdAt-e.createdAt);s(i)}catch(e){console.error("[Velox] Error fetching intents:",e),l(e instanceof Error?e.message:"Failed to fetch intents")}finally{r(!1)}},[e]);return(0,i.useEffect)(()=>{o(!0)},[o]),(0,i.useEffect)(()=>{if(!e)return;let t=setInterval(()=>o(!1),5e3);return()=>clearInterval(t)},[e,o]),{intents:t,loading:a,error:n,refetch:()=>o(!1)}}e.s(["IntentHistory",()=>sM],991411),e.s(["useUserIntents",()=>sB],400113)}]);