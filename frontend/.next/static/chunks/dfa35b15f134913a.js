(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,733821,(e,t,r)=>{"use strict";t.exports=function e(t){if("number"==typeof t&&isNaN(t))throw Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw Error("Infinity is not allowed");if(null===t||"object"!=typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){let r=t.reduce((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`,"");return`[${r}]`}let r=Object.keys(t).sort().reduce((r,n)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let a=0===r.length?"":",";return`${r}${a}${e(n)}:${e(t[n])}`},"");return`{${r}}`}},31557,63398,110043,e=>{"use strict";var t=e.i(467034),r=e.i(733821);class n extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class a extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class i extends Error{constructor({error:e,code:t,response:r}){super(e),this.code=t,this.error=e,this.response=r}}async function o(e,n){let i=(0,r.default)(n);if(void 0===i)throw new a({error:"Failed to prepare the payload for signing",code:"invalid_input"});let o=t.Buffer.from(i).toString("base64"),{signature:s}=await e({message:o});return{signature:s}}e.s(["MoonpayApiError",()=>i,"PrivyApiError",()=>n,"PrivyClientError",()=>a],63398),e.s(["generateAuthorizationSignature",()=>o],31557);var s=e.i(271645),c=e.i(515502);let u=()=>{let{walletProxy:e,client:t}=(0,c.u)();return(0,s.useMemo)(()=>({signWithUserSigner:async({message:r,targetAppId:n})=>{if(!e)throw Error("Wallet proxy not initialized");let a=await t.getAccessToken();if(!a)throw Error("User must be authenticated");let{signature:i}=await e.signWithUserSigner({accessToken:a,message:r,targetAppId:n});return{signature:i}}}),[e,t])};e.s(["u",()=>u],110043)},722262,e=>{"use strict";let t=({origin:e,path:t,query:r={},hash:n={}})=>{let a=new URL(t,e.endsWith("/")?e:`${e}/`);for(let[e,t]of Object.entries(r))void 0!==t&&a.searchParams.set(e,t);let i=Object.entries(n);if(i.length>0){let e=new URLSearchParams;for(let[t,r]of i)void 0!==r&&e.append(t,r);a.hash=e.toString()}return a.href};e.s(["constructURL",()=>t])},320065,e=>{"use strict";let t=e=>window.open(e?.location,void 0,(({w:e,h:t})=>{let r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(a-e)/2/(a/window.screen.availWidth)+r},top=${(i-t)/2/(i/window.screen.availHeight)+n}`})({w:440,h:680}));e.s(["trigger",()=>t],320065)},450223,e=>{"use strict";var t=e.i(150292);let r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,n=r.fetch?(...e)=>r.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),a=r.Headers,i=r.AbortController,o=(0,t.c)({fetch:n,Headers:a,AbortController:i});e.s(["ofetch",()=>o])},920209,e=>{"use strict";var t=e.i(991120),r=e.i(331191),n=e.i(83319),a=e.i(744645),i=e.i(853317),o=e.i(958747),s=e.i(707213);let c={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}},u=new Set([t.mainnet.id,r.arbitrum.id,n.base.id,a.polygon.id,i.avalanche.id,o.celo.id]),d=new Set([t.mainnet.id,r.arbitrum.id,s.optimism.id,n.base.id,a.polygon.id,i.avalanche.id]);function l(e,t){switch(t){case"native-currency":return u.has(e);case"USDC":return d.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function h(e,s){switch(e){case r.arbitrum.id:return"native-currency"===s?"ETH_ARBITRUM":"USDC_ARBITRUM";case i.avalanche.id:return"native-currency"===s?"AVAX_CCHAIN":"USDC_CCHAIN";case n.base.id:return"native-currency"===s?"ETH_BASE":"USDC_BASE";case o.celo.id:return"CELO_CELO";case a.polygon.id:return"native-currency"===s?"MATIC_POLYGON":"USDC_POLYGON";case t.mainnet.id:return"native-currency"===s?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}e.s(["MoonpayEnvironments",()=>c,"chainToMoonpayCurrency",()=>h,"isSupportedChainIdForMoonpay",()=>l])},611573,e=>{"use strict";var t=e.i(569934);class r extends t.BaseError{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class n extends t.BaseError{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}e.s(["AccountNotFoundError",()=>r,"AccountTypeNotSupportedError",()=>n])},888794,942305,e=>{"use strict";var t=e.i(189991),r=e.i(611573),n=e.i(569934),a=e.i(290392),i=e.i(505880);function o({chain:e,currentChainId:t}){if(!e)throw new i.ChainNotFoundError;if(t!==e.id)throw new i.ChainMismatchError({chain:e,currentChainId:t})}e.s(["assertCurrentChain",()=>o],942305);var s=e.i(10725),c=e.i(264404),u=e.i(190521),d=e.i(467125),l=e.i(976677),h=e.i(353464),p=e.i(975948),w=e.i(368941),m=e.i(638291);let f=new l.LruMap(128);async function g(e,i){let{account:l=e.account,chain:g=e.chain,accessList:T,authorizationList:y,blobs:x,data:v,gas:b,gasPrice:C,maxFeePerBlobGas:E,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:H,type:I,value:R,...P}=i;if(void 0===l)throw new r.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});let N=l?(0,t.parseAccount)(l):null;try{(0,h.assertRequest)(i);let t=await (async()=>i.to?i.to:null!==i.to&&y&&y.length>0?await (0,a.recoverAuthorizationAddress)({authorization:y[0]}).catch(()=>{throw new n.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(N?.type==="json-rpc"||null===N){let r;null!==g&&(r=await (0,d.getAction)(e,p.getChainId,"getChainId")({}),o({currentChainId:r,chain:g}));let n=e.chain?.formatters?.transactionRequest?.format,a=(n||u.formatTransactionRequest)({...(0,c.extract)(P,{format:n}),accessList:T,account:N,authorizationList:y,blobs:x,chainId:r,data:v,gas:b,gasPrice:C,maxFeePerBlobGas:E,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:H,to:t,type:I,value:R},"sendTransaction"),i=f.get(e.uid);try{return await e.request({method:i?"wallet_sendTransaction":"eth_sendTransaction",params:[a]},{retryCount:0})}catch(t){if(!1===i)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[a]},{retryCount:0}).then(t=>(f.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw f.set(e.uid,!1),t;throw r});throw t}}if(N?.type==="local"){let r=await (0,d.getAction)(e,w.prepareTransactionRequest,"prepareTransactionRequest")({account:N,accessList:T,authorizationList:y,blobs:x,chain:g,data:v,gas:b,gasPrice:C,maxFeePerBlobGas:E,maxFeePerGas:A,maxPriorityFeePerGas:S,nonce:H,nonceManager:N.nonceManager,parameters:[...w.defaultParameters,"sidecars"],type:I,value:R,...P,to:t}),n=g?.serializers?.transaction,a=await N.signTransaction(r,{serializer:n});return await (0,d.getAction)(e,m.sendRawTransaction,"sendRawTransaction")({serializedTransaction:a})}if(N?.type==="smart")throw new r.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new r.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:N?.type})}catch(e){if(e instanceof r.AccountTypeNotSupportedError)throw e;throw(0,s.getTransactionError)(e,{...i,account:N,chain:i.chain||void 0})}}e.s(["sendTransaction",()=>g],888794)},509916,460841,e=>{"use strict";var t=e.i(790063),r=e.i(8406),n=e.i(450323),a=e.i(839080),i=e.i(189991),o=e.i(569934),s=e.i(383856),c=e.i(656679),u=e.i(147526),d=e.i(675107),l=e.i(10725),h=e.i(888794);let p="0x5792579257925792579257925792579257925792579257925792579257925792",w=(0,d.numberToHex)(0,{size:32});async function m(e,t){let{account:r=e.account,capabilities:a,chain:m=e.chain,experimental_fallback:f,experimental_fallbackDelay:g=32,forceAtomic:T=!1,id:y,version:x="2.0.0"}=t,v=r?(0,i.parseAccount)(r):null,b=t.calls.map(e=>{let t=e.abi?(0,c.encodeFunctionData)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,u.concat)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,d.numberToHex)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:T,calls:b,capabilities:a,chainId:(0,d.numberToHex)(m.id),from:v?.address,id:y,version:x}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(f&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(a&&Object.values(a).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new s.UnsupportedNonOptionalCapabilityError(new o.BaseError(e,{details:e}))}if(T&&b.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new s.AtomicityNotSupportedError(new o.BaseError(e,{details:e}))}let t=[];for(let r of b){let a=(0,h.sendTransaction)(e,{account:v,chain:m,data:r.data,to:r.to,value:r.value?(0,n.hexToBigInt)(r.value):void 0});t.push(a),g>0&&await new Promise(e=>setTimeout(e,g))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let i=r.map(e=>"fulfilled"===e.status?e.value:w);return{id:(0,u.concat)([...i,(0,d.numberToHex)(m.id,{size:32}),p])}}throw(0,l.getTransactionError)(r,{...t,account:v,chain:t.chain})}}async function f(e,i){let o;async function s(a){if(a.endsWith(p.slice(2))){let i=(0,r.trim)((0,t.sliceHex)(a,-64,-32)),o=(0,t.sliceHex)(a,0,-64).slice(2).match(/.{1,64}/g),s=await Promise.all(o.map(t=>w.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),c=s.some(e=>null===e)?100:s.every(e=>e?.status==="0x1")?200:s.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,n.hexToNumber)(i),receipts:s.filter(Boolean),status:c,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[a]})}let{atomic:c=!1,chainId:u,receipts:d,version:l="2.0.0",...h}=await s(i.id),[m,f]=(o=h.status)>=100&&o<200?["pending",o]:o>=200&&o<300?["success",o]:o>=300&&o<700?["failure",o]:"CONFIRMED"===o?["success",200]:"PENDING"===o?["pending",100]:[void 0,o];return{...h,atomic:c,chainId:u?(0,n.hexToNumber)(u):void 0,receipts:d?.map(e=>({...e,blockNumber:(0,n.hexToBigInt)(e.blockNumber),gasUsed:(0,n.hexToBigInt)(e.gasUsed),status:a.receiptStatuses[e.status]}))??[],statusCode:f,status:m,version:l}}e.s(["fallbackMagicIdentifier",0,p,"fallbackTransactionErrorMagicIdentifier",0,w,"sendCalls",()=>m],460841),e.s(["getCallsStatus",()=>f],509916)},829897,e=>{"use strict";var t=e.i(189991),r=e.i(611573),n=e.i(806685),a=e.i(467125),i=e.i(975948),o=e.i(937445);async function s(e,s){let{account:c=e.account,chainId:u,nonce:d}=s;if(!c)throw new r.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});let l=(0,t.parseAccount)(c),h=(()=>{if(s.executor)return"self"===s.executor?s.executor:(0,t.parseAccount)(s.executor)})(),p={address:s.contractAddress??s.address,chainId:u,nonce:d};return void 0===p.chainId&&(p.chainId=e.chain?.id??await (0,a.getAction)(e,i.getChainId,"getChainId")({})),void 0===p.nonce&&(p.nonce=await (0,a.getAction)(e,o.getTransactionCount,"getTransactionCount")({address:l.address,blockTag:"pending"}),("self"===h||h?.address&&(0,n.isAddressEqual)(h.address,l.address))&&(p.nonce+=1)),p}e.s(["prepareAuthorization",()=>s])},403058,e=>{"use strict";var t=e.i(569934);class r extends t.BaseError{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}e.s(["BundleFailedError",()=>r])},763448,e=>{"use strict";var t=e.i(569934),r=e.i(403058),n=e.i(467125),a=e.i(43473),i=e.i(976215),o=e.i(509486),s=e.i(204202),c=e.i(34888),u=e.i(509916);async function d(e,t){let d,{id:h,pollingInterval:p=e.pollingInterval,status:w=({statusCode:e})=>200===e||e>=300,retryCount:m=4,retryDelay:f=({count:e})=>200*~~(1<<e),timeout:g=6e4,throwOnFailure:T=!1}=t,y=(0,c.stringify)(["waitForCallsStatus",e.uid,h]),{promise:x,resolve:v,reject:b}=(0,o.withResolvers)(),C=(0,a.observe)(y,{resolve:v,reject:b},t=>{let a=(0,i.poll)(async()=>{let i=e=>{clearTimeout(d),a(),e(),C()};try{let a=await (0,s.withRetry)(async()=>{let t=await (0,n.getAction)(e,u.getCallsStatus,"getCallsStatus")({id:h});if(T&&"failure"===t.status)throw new r.BundleFailedError(t);return t},{retryCount:m,delay:f});if(!w(a))return;i(()=>t.resolve(a))}catch(e){i(()=>t.reject(e))}},{interval:p,emitOnBegin:!0});return a});return d=g?setTimeout(()=>{C(),clearTimeout(d),b(new l({id:h}))},g):void 0,await x}class l extends t.BaseError{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}e.s(["WaitForCallsStatusTimeoutError",()=>l,"waitForCallsStatus",()=>d])},189643,e=>{"use strict";var t=e.i(337575),r=e.i(675107);function n(e){let{r:n,s:a}=t.secp256k1.Signature.fromCompact(e.slice(2,130)),i=Number(`0x${e.slice(130)}`),[o,s]=(()=>{if(0===i||1===i)return[void 0,i];if(27===i)return[BigInt(i),0];if(28===i)return[BigInt(i),1];throw Error("Invalid yParityOrV value")})();return void 0!==o?{r:(0,r.numberToHex)(n,{size:32}),s:(0,r.numberToHex)(a,{size:32}),v:o,yParity:s}:{r:(0,r.numberToHex)(n,{size:32}),s:(0,r.numberToHex)(a,{size:32}),yParity:s}}e.s(["parseSignature",()=>n])},538463,e=>{"use strict";function t(e){let t={formatters:void 0,fees:void 0,serializers:void 0,...e};return Object.assign(t,{extend:function e(t){return r=>{let n="function"==typeof r?r(t):r,a={...t,...n};return Object.assign(a,{extend:e(a)})}}(t)})}function r(){return{}}e.s(["defineChain",()=>t,"extendSchema",()=>r])},785904,e=>{"use strict";e.s(["erc6492MagicBytes",0,"0x6492649264926492649264926492649264926492649264926492649264926492","zeroHash",0,"0x0000000000000000000000000000000000000000000000000000000000000000"])},87246,e=>{"use strict";var t=e.i(478492);e.s(["EventEmitter",()=>t.default])},492975,996980,450689,477480,916207,652946,288854,494001,385421,42430,377018,599976,866797,431254,784248,439287,e=>{"use strict";var t=e.i(675107);async function r(e,{chain:r}){let{id:n,name:a,nativeCurrency:i,rpcUrls:o,blockExplorers:s}=r;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,t.numberToHex)(n),chainName:a,nativeCurrency:i,rpcUrls:o.default.http,blockExplorerUrls:s?Object.values(s).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}e.s(["addChain",()=>r],492975);var n=e.i(289169),a=e.i(888794);function i(e,t){let{abi:r,args:i,bytecode:o,...s}=t,c=(0,n.encodeDeployData)({abi:r,args:i,bytecode:o});return(0,a.sendTransaction)(e,{...s,...s.authorizationList?{to:null}:{},data:c})}e.s(["deployContract",()=>i],996980);var o=e.i(823838);async function s(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,o.checksumAddress)(e))}e.s(["getAddresses",()=>s],450689);var c=e.i(189991);async function u(e,r={}){let{account:n=e.account,chainId:a}=r,i=n?(0,c.parseAccount)(n):void 0,o=a?[i?.address,[(0,t.numberToHex)(a)]]:[i?.address],s=await e.request({method:"wallet_getCapabilities",params:o}),d={};for(let[e,t]of Object.entries(s))for(let[r,n]of(d[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),d[Number(e)][r]=n;return"number"==typeof a?d[a]:d}async function d(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function l(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,o.getAddress)(e))}async function h(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}e.s(["getCapabilities",()=>u],477480),e.s(["getPermissions",()=>d],916207),e.s(["requestAddresses",()=>l],652946),e.s(["requestPermissions",()=>h],288854);var p=e.i(460841),w=e.i(763448);async function m(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),a=await (0,p.sendCalls)(e,t);return await (0,w.waitForCallsStatus)(e,{...t,id:a.id,timeout:n})}e.s(["sendCallsSync",()=>m],494001);var f=e.i(611573),g=e.i(569934),T=e.i(393702),y=e.i(290392),x=e.i(942305),v=e.i(10725),b=e.i(264404),C=e.i(190521),E=e.i(467125),A=e.i(976677),S=e.i(353464),H=e.i(975948),I=e.i(948789),R=e.i(368941),P=e.i(738977);let N=new A.LruMap(128);async function q(e,t){let{account:r=e.account,chain:n=e.chain,accessList:a,authorizationList:i,blobs:o,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,pollingInterval:m,throwOnReceiptRevert:A,type:q,value:z,...F}=t,M=t.timeout??Math.max((n?.blockTime??0)*3,5e3);if(void 0===r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});let _=r?(0,c.parseAccount)(r):null;try{(0,S.assertRequest)(t);let r=await (async()=>t.to?t.to:null!==t.to&&i&&i.length>0?await (0,y.recoverAuthorizationAddress)({authorization:i[0]}).catch(()=>{throw new g.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(_?.type==="json-rpc"||null===_){let t;null!==n&&(t=await (0,E.getAction)(e,H.getChainId,"getChainId")({}),(0,x.assertCurrentChain)({currentChainId:t,chain:n}));let c=e.chain?.formatters?.transactionRequest?.format,f=(c||C.formatTransactionRequest)({...(0,b.extract)(F,{format:c}),accessList:a,account:_,authorizationList:i,blobs:o,chainId:t,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,to:r,type:q,value:z},"sendTransaction"),g=N.get(e.uid),y=g?"wallet_sendTransaction":"eth_sendTransaction",v=await (async()=>{try{return await e.request({method:y,params:[f]},{retryCount:0})}catch(t){if(!1===g)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[f]},{retryCount:0}).then(t=>(N.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw N.set(e.uid,!1),t;throw r});throw t}})(),S=await (0,E.getAction)(e,I.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:v,pollingInterval:m,timeout:M});if(A&&"reverted"===S.status)throw new T.TransactionReceiptRevertedError({receipt:S});return S}if(_?.type==="local"){let t=await (0,E.getAction)(e,R.prepareTransactionRequest,"prepareTransactionRequest")({account:_,accessList:a,authorizationList:i,blobs:o,chain:n,data:s,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:w,nonceManager:_.nonceManager,parameters:[...R.defaultParameters,"sidecars"],type:q,value:z,...F,to:r}),c=n?.serializers?.transaction,m=await _.signTransaction(t,{serializer:c});return await (0,E.getAction)(e,P.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:m,throwOnReceiptRevert:A})}if(_?.type==="smart")throw new f.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new f.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(e){if(e instanceof f.AccountTypeNotSupportedError)throw e;throw(0,v.getTransactionError)(e,{...t,account:_,chain:t.chain||void 0})}}async function z(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}e.s(["sendTransactionSync",()=>q],385421),e.s(["showCallsStatus",()=>z],42430);var F=e.i(829897);async function M(e,t){let{account:r=e.account}=t;if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,c.parseAccount)(r);if(!n.signAuthorization)throw new f.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let a=await (0,F.prepareAuthorization)(e,t);return n.signAuthorization(a)}async function _(e,{account:r=e.account,message:n}){if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});let a=(0,c.parseAccount)(r);if(a.signMessage)return a.signMessage({message:n});let i="string"==typeof n?(0,t.stringToHex)(n):n.raw instanceof Uint8Array?(0,t.toHex)(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,a.address]},{retryCount:0})}async function U(e,r){let{account:n=e.account,chain:a=e.chain,...i}=r;if(!n)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let o=(0,c.parseAccount)(n);(0,S.assertRequest)({account:o,...r});let s=await (0,E.getAction)(e,H.getChainId,"getChainId")({});null!==a&&(0,x.assertCurrentChain)({currentChainId:s,chain:a});let u=a?.formatters||e.chain?.formatters,d=u?.transactionRequest?.format||C.formatTransactionRequest;return o.signTransaction?o.signTransaction({...i,chainId:s},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...d({...i,account:o},"signTransaction"),chainId:(0,t.numberToHex)(s),from:o.address}]},{retryCount:0})}e.s(["signAuthorization",()=>M],377018),e.s(["signMessage",()=>_],599976),e.s(["signTransaction",()=>U],866797);var B=e.i(643506);async function L(e,t){let{account:r=e.account,domain:n,message:a,primaryType:i}=t;if(!r)throw new f.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let o=(0,c.parseAccount)(r),s={EIP712Domain:(0,B.getTypesForEIP712Domain)({domain:n}),...t.types};if((0,B.validateTypedData)({domain:n,message:a,primaryType:i,types:s}),o.signTypedData)return o.signTypedData({domain:n,message:a,primaryType:i,types:s});let u=(0,B.serializeTypedData)({domain:n,message:a,primaryType:i,types:s});return e.request({method:"eth_signTypedData_v4",params:[o.address,u]},{retryCount:0})}async function O(e,{id:r}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,t.numberToHex)(r)}]},{retryCount:0})}async function k(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}e.s(["signTypedData",()=>L],431254),e.s(["switchChain",()=>O],784248),e.s(["watchAsset",()=>k],439287)},938630,e=>{"use strict";var t=e.i(189991),r=e.i(611573),n=e.i(656679),a=e.i(807749),i=e.i(467125),o=e.i(888794);async function s(e,t){return s.internal(e,o.sendTransaction,"sendTransaction",t)}(s||(s={})).internal=async function(e,o,s,c){let{abi:u,account:d=e.account,address:l,args:h,dataSuffix:p,functionName:w,...m}=c;if(void 0===d)throw new r.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let f=d?(0,t.parseAccount)(d):null,g=(0,n.encodeFunctionData)({abi:u,args:h,functionName:w});try{return await (0,i.getAction)(e,o,s)({data:`${g}${p?p.replace("0x",""):""}`,to:l,account:f,...m})}catch(e){throw(0,a.getContractError)(e,{abi:u,address:l,args:h,docsPath:"/docs/contract/writeContract",functionName:w,sender:f?.address})}},e.s(["writeContract",()=>s])},57159,414639,e=>{"use strict";var t=e.i(363625),r=e.i(818249),n=e.i(975948),a=e.i(492975),i=e.i(996980),o=e.i(450689),s=e.i(509916),c=e.i(477480),u=e.i(916207),d=e.i(829897),l=e.i(368941),h=e.i(652946),p=e.i(288854),w=e.i(460841),m=e.i(494001),f=e.i(638291),g=e.i(738977),T=e.i(888794),y=e.i(385421),x=e.i(42430),v=e.i(377018),b=e.i(599976),C=e.i(866797),E=e.i(431254),A=e.i(784248),S=e.i(763448),H=e.i(439287),I=e.i(938630);async function R(e,t){return I.writeContract.internal(e,y.sendTransactionSync,"sendTransactionSync",t)}function P(e){return{addChain:t=>(0,a.addChain)(e,t),deployContract:t=>(0,i.deployContract)(e,t),fillTransaction:t=>(0,r.fillTransaction)(e,t),getAddresses:()=>(0,o.getAddresses)(e),getCallsStatus:t=>(0,s.getCallsStatus)(e,t),getCapabilities:t=>(0,c.getCapabilities)(e,t),getChainId:()=>(0,n.getChainId)(e),getPermissions:()=>(0,u.getPermissions)(e),prepareAuthorization:t=>(0,d.prepareAuthorization)(e,t),prepareTransactionRequest:t=>(0,l.prepareTransactionRequest)(e,t),requestAddresses:()=>(0,h.requestAddresses)(e),requestPermissions:t=>(0,p.requestPermissions)(e,t),sendCalls:t=>(0,w.sendCalls)(e,t),sendCallsSync:t=>(0,m.sendCallsSync)(e,t),sendRawTransaction:t=>(0,f.sendRawTransaction)(e,t),sendRawTransactionSync:t=>(0,g.sendRawTransactionSync)(e,t),sendTransaction:t=>(0,T.sendTransaction)(e,t),sendTransactionSync:t=>(0,y.sendTransactionSync)(e,t),showCallsStatus:t=>(0,x.showCallsStatus)(e,t),signAuthorization:t=>(0,v.signAuthorization)(e,t),signMessage:t=>(0,b.signMessage)(e,t),signTransaction:t=>(0,C.signTransaction)(e,t),signTypedData:t=>(0,E.signTypedData)(e,t),switchChain:t=>(0,A.switchChain)(e,t),waitForCallsStatus:t=>(0,S.waitForCallsStatus)(e,t),watchAsset:t=>(0,H.watchAsset)(e,t),writeContract:t=>(0,I.writeContract)(e,t),writeContractSync:t=>R(e,t)}}function N(e){let{key:r="wallet",name:n="Wallet Client",transport:a}=e;return(0,t.createClient)({...e,key:r,name:n,transport:a,type:"walletClient"}).extend(P)}e.s(["walletActions",()=>P],414639),e.s(["createWalletClient",()=>N],57159)},273260,e=>{"use strict";e.s(["serializeAuthorizationList",()=>n]);var t=e.i(675107),r=e.i(766816);function n(e){if(!e||0===e.length)return[];let n=[];for(let a of e){let{chainId:e,nonce:i,...o}=a,s=a.address;n.push([e?(0,t.toHex)(e):"0x",s,i?(0,t.toHex)(i):"0x",...(0,r.toYParitySignatureArray)({},o)])}return n}},647314,e=>{"use strict";var t=e.i(556047),r=e.i(674768),n=e.i(608861),a=e.i(569934),i=e.i(86741),o=e.i(505880),s=e.i(853532),c=e.i(796516),u=e.i(401319),d=e.i(790063),l=e.i(450323);function h(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!(0,c.isAddress)(r))throw new n.InvalidAddressError({address:r});if(t<0)throw new o.InvalidChainIdError({chainId:t})}w(e)}function p(e){let{blobVersionedHashes:r}=e;if(r){if(0===r.length)throw new i.EmptyBlobError;for(let e of r){let r=(0,u.size)(e),n=(0,l.hexToNumber)((0,d.slice)(e,0,1));if(32!==r)throw new i.InvalidVersionedHashSizeError({hash:e,size:r});if(n!==t.versionedHashVersionKzg)throw new i.InvalidVersionedHashVersionError({hash:e,version:n})}}w(e)}function w(e){let{chainId:t,maxPriorityFeePerGas:a,maxFeePerGas:i,to:u}=e;if(t<=0)throw new o.InvalidChainIdError({chainId:t});if(u&&!(0,c.isAddress)(u))throw new n.InvalidAddressError({address:u});if(i&&i>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:i});if(a&&i&&a>i)throw new s.TipAboveFeeCapError({maxFeePerGas:i,maxPriorityFeePerGas:a})}function m(e){let{chainId:t,maxPriorityFeePerGas:i,gasPrice:u,maxFeePerGas:d,to:l}=e;if(t<=0)throw new o.InvalidChainIdError({chainId:t});if(l&&!(0,c.isAddress)(l))throw new n.InvalidAddressError({address:l});if(i||d)throw new a.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(u&&u>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:u})}function f(e){let{chainId:t,maxPriorityFeePerGas:i,gasPrice:u,maxFeePerGas:d,to:l}=e;if(l&&!(0,c.isAddress)(l))throw new n.InvalidAddressError({address:l});if(void 0!==t&&t<=0)throw new o.InvalidChainIdError({chainId:t});if(i||d)throw new a.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(u&&u>r.maxUint256)throw new s.FeeCapTooHighError({maxFeePerGas:u})}e.s(["assertTransactionEIP1559",()=>w,"assertTransactionEIP2930",()=>m,"assertTransactionEIP4844",()=>p,"assertTransactionEIP7702",()=>h,"assertTransactionLegacy",()=>f])},766816,621490,e=>{"use strict";e.s(["serializeTransaction",()=>f,"toYParitySignatureArray",()=>g],766816);var t=e.i(393702),r=e.i(273260),n=e.i(94371),a=e.i(49810),i=e.i(883031),o=e.i(310538),s=e.i(147526),c=e.i(8406),u=e.i(675107),d=e.i(70326),l=e.i(647314),h=e.i(576213),p=e.i(608861),w=e.i(796516);function m(e){if(!e||0===e.length)return[];let r=[];for(let n=0;n<e.length;n++){let{address:a,storageKeys:i}=e[n];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new t.InvalidStorageKeySizeError({storageKey:i[e]});if(!(0,w.isAddress)(a,{strict:!1}))throw new p.InvalidAddressError({address:a});r.push([a,i])}return r}function f(e,p){let w=(0,h.getTransactionType)(e);return"eip1559"===w?function(e,t){let{chainId:r,gas:n,nonce:a,to:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:h,accessList:p,data:w}=e;(0,l.assertTransactionEIP1559)(e);let f=m(p),T=[(0,u.numberToHex)(r),a?(0,u.numberToHex)(a):"0x",h?(0,u.numberToHex)(h):"0x",c?(0,u.numberToHex)(c):"0x",n?(0,u.numberToHex)(n):"0x",i??"0x",o?(0,u.numberToHex)(o):"0x",w??"0x",f,...g(e,t)];return(0,s.concatHex)(["0x02",(0,d.toRlp)(T)])}(e,p):"eip2930"===w?function(e,t){let{chainId:r,gas:n,data:a,nonce:i,to:o,value:c,accessList:h,gasPrice:p}=e;(0,l.assertTransactionEIP2930)(e);let w=m(h),f=[(0,u.numberToHex)(r),i?(0,u.numberToHex)(i):"0x",p?(0,u.numberToHex)(p):"0x",n?(0,u.numberToHex)(n):"0x",o??"0x",c?(0,u.numberToHex)(c):"0x",a??"0x",w,...g(e,t)];return(0,s.concatHex)(["0x01",(0,d.toRlp)(f)])}(e,p):"eip4844"===w?function(e,t){let{chainId:r,gas:c,nonce:h,to:p,value:w,maxFeePerBlobGas:f,maxFeePerGas:T,maxPriorityFeePerGas:y,accessList:x,data:v}=e;(0,l.assertTransactionEIP4844)(e);let b=e.blobVersionedHashes,C=e.sidecars;if(e.blobs&&(void 0===b||void 0===C)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,u.bytesToHex)(e)),r=e.kzg,s=(0,n.blobsToCommitments)({blobs:t,kzg:r});if(void 0===b&&(b=(0,i.commitmentsToVersionedHashes)({commitments:s})),void 0===C){let e=(0,a.blobsToProofs)({blobs:t,commitments:s,kzg:r});C=(0,o.toBlobSidecars)({blobs:t,commitments:s,proofs:e})}}let E=m(x),A=[(0,u.numberToHex)(r),h?(0,u.numberToHex)(h):"0x",y?(0,u.numberToHex)(y):"0x",T?(0,u.numberToHex)(T):"0x",c?(0,u.numberToHex)(c):"0x",p??"0x",w?(0,u.numberToHex)(w):"0x",v??"0x",E,f?(0,u.numberToHex)(f):"0x",b??[],...g(e,t)],S=[],H=[],I=[];if(C)for(let e=0;e<C.length;e++){let{blob:t,commitment:r,proof:n}=C[e];S.push(t),H.push(r),I.push(n)}return(0,s.concatHex)(["0x03",C?(0,d.toRlp)([A,S,H,I]):(0,d.toRlp)(A)])}(e,p):"eip7702"===w?function(e,t){let{authorizationList:n,chainId:a,gas:i,nonce:o,to:c,value:h,maxFeePerGas:p,maxPriorityFeePerGas:w,accessList:f,data:T}=e;(0,l.assertTransactionEIP7702)(e);let y=m(f),x=(0,r.serializeAuthorizationList)(n);return(0,s.concatHex)(["0x04",(0,d.toRlp)([(0,u.numberToHex)(a),o?(0,u.numberToHex)(o):"0x",w?(0,u.numberToHex)(w):"0x",p?(0,u.numberToHex)(p):"0x",i?(0,u.numberToHex)(i):"0x",c??"0x",h?(0,u.numberToHex)(h):"0x",T??"0x",y,x,...g(e,t)])])}(e,p):function(e,r){let{chainId:n=0,gas:a,data:i,nonce:o,to:s,value:h,gasPrice:p}=e;(0,l.assertTransactionLegacy)(e);let w=[o?(0,u.numberToHex)(o):"0x",p?(0,u.numberToHex)(p):"0x",a?(0,u.numberToHex)(a):"0x",s??"0x",h?(0,u.numberToHex)(h):"0x",i??"0x"];if(r){let e=(()=>{if(r.v>=35n)return(r.v-35n)/2n>0?r.v:27n+(35n===r.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+r.v-27n);let e=27n+(27n===r.v?0n:1n);if(r.v!==e)throw new t.InvalidLegacyVError({v:r.v});return e})(),a=(0,c.trim)(r.r),i=(0,c.trim)(r.s);w=[...w,(0,u.numberToHex)(e),"0x00"===a?"0x":a,"0x00"===i?"0x":i]}else n>0&&(w=[...w,(0,u.numberToHex)(n),"0x","0x"]);return(0,d.toRlp)(w)}(e,p)}function g(e,t){let r=t??e,{v:n,yParity:a}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===a)return[];let i=(0,c.trim)(r.r),o=(0,c.trim)(r.s);return["number"==typeof a?a?(0,u.numberToHex)(1):"0x":0n===n?"0x":1n===n?(0,u.numberToHex)(1):27n===n?"0x":(0,u.numberToHex)(1),"0x00"===i?"0x":i,"0x00"===o?"0x":o]}e.s(["serializeAccessList",()=>m],621490)}]);