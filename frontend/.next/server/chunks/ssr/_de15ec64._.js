module.exports=[768770,a=>a.a(async(b,c)=>{try{var d=a.i(572131),e=a.i(760264),f=a.i(409300),g=b([e,f]);[e,f]=g.then?(await g)():g;let i=f.MOVEMENT_CONFIGS[f.CURRENT_NETWORK].fullnode;function h(){let[a,b]=(0,d.useState)([]),[c,g]=(0,d.useState)([]),[h,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(null),m=(0,d.useCallback)(async(a=!1)=>{try{a&&j(!0),l(null);let c=await (0,e.getTotalIntents)(),d=Number(c);if(0===d){b([]),g([]);return}let h=Math.max(0,d-50),k=[];for(let a=d-1;a>=h;a--)k.push((0,e.getIntent)(BigInt(a)));let m=(await Promise.all(k)).filter(a=>null!==a).sort((a,b)=>b.createdAt-a.createdAt);b(m);let n=new Map;try{let a=await fetch(`${i}/accounts/${f.VELOX_ADDRESS}/transactions?limit=200`);if(a.ok){for(let b of(await a.json()))if(b.events){for(let a of b.events)if(a.type===`${f.VELOX_ADDRESS}::settlement::IntentFilled`){let b=a.data,c=b.solver,d=BigInt(b.output_amount||"0"),e=n.get(c)||{address:c,fillCount:0,totalVolume:BigInt(0)};e.fillCount+=1,e.totalVolume+=d,n.set(c,e)}}}}catch{}let o=Array.from(n.values()).sort((a,b)=>b.fillCount-a.fillCount);g(o)}catch(b){let a=b instanceof Error?b.message:String(b);a.includes("MISSING_DATA")||(console.warn("[Velox] Error fetching all intents:",b),l(a))}finally{j(!1)}},[]);return(0,d.useEffect)(()=>{m(!0)},[m]),(0,d.useEffect)(()=>{let a=setInterval(()=>m(!1),15e3);return()=>clearInterval(a)},[m]),{intents:a,solvers:c,loading:h,error:k,refetch:()=>m(!1)}}a.s(["useAllIntents",()=>h]),c()}catch(a){c(a)}},!1),577573,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(750104),f=a.i(224050),g=a.i(777192),h=a.i(30553),i=a.i(507827),j=a.i(225152),k=a.i(392843),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(189736);let B=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,A.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...c}));B.displayName=t.displayName;let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...c}));C.displayName=v.displayName,c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...c})).displayName=x.displayName,a.s(["Tabs",()=>r,"TabsList",()=>B,"TabsTrigger",()=>C],577573)},596924,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(572131),f=a.i(238246),g=a.i(597837),h=a.i(760264),i=a.i(561792),j=a.i(574601),k=a.i(539707),l=a.i(732860),m=a.i(50522),n=a.i(114753),o=a.i(941675),p=a.i(724669),q=a.i(533441),r=b([h]);[h]=r.then?(await r)():r;let v={pending:"bg-yellow-500/10 text-yellow-500",filled:"bg-primary/10 text-primary",partially_filled:"bg-primary/10 text-primary",cancelled:"bg-muted text-muted-foreground",expired:"bg-destructive/10 text-destructive"},w={swap:"bg-primary/10 text-primary",limit_order:"bg-primary/10 text-primary",twap:"bg-primary/10 text-primary",dca:"bg-primary/10 text-primary"};function s(a,b=8){let c=BigInt(10**b),d=(a%c).toString().padStart(b,"0").slice(0,2);return`${a/c}.${d}`}function t(a){let b=k.TOKEN_LIST.find(b=>b.address===a);return b?.symbol||a.slice(0,6)+"..."}function u({intent:a}){var b;let c,r="dca"===a.intentType||"twap"===a.intentType,[u,x]=(0,e.useState)(null),[y,z]=(0,e.useState)(0),[A,B]=(0,e.useState)(""),C=t(a.inputToken),D=t(a.outputToken),E=(b=a.inputToken,c=k.TOKEN_LIST.find(a=>a.address===b),c?.decimals||8),F=(0,e.useCallback)(async()=>{if(!r)return;let[b,c]=await Promise.all([(0,h.getScheduledIntentInfo)(a.id),(0,h.fetchPeriodFillEvents)(a.id)]);x(b),z(c.length)},[a.id,r]);(0,e.useEffect)(()=>{if(r){F();let a=setInterval(()=>void F(),15e3);return()=>clearInterval(a)}},[F,r]),(0,e.useEffect)(()=>{if(!u)return;let a=()=>{let a=Math.floor(Date.now()/1e3),b=u.nextExecution-a;if(b<=0)return void B(u.isReady?"Ready":"Waiting...");let c=Math.floor(b/3600),d=Math.floor(b%3600/60),e=b%60;c>0?B(`${c}h ${d}m`):d>0?B(`${d}m ${e}s`):B(`${e}s`)};a();let b=setInterval(a,1e3);return()=>clearInterval(b)},[u]);let G=u?.chunksExecuted??a.periodsExecuted??a.chunksExecuted??y,H=u?.totalChunks??a.totalPeriods??a.numChunks??0,I=u?.isCompleted||H>0&&G>=H;return r?(0,d.jsxs)(f.default,{href:`/explorer/intent/${a.id.toString()}`,className:"block p-3 hover:bg-muted/50 text-sm cursor-pointer",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:["dca"===a.intentType?(0,d.jsx)(o.Calendar,{className:"h-4 w-4 text-primary"}):(0,d.jsx)(p.TrendingUp,{className:"h-4 w-4 text-primary"}),(0,d.jsx)(i.Badge,{className:w[a.intentType]+" text-xs",children:(0,g.getIntentTypeDisplay)(a.intentType)}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:["#",a.id.toString()]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[I?(0,d.jsxs)(i.Badge,{className:"bg-primary/10 text-primary text-xs",children:[(0,d.jsx)(q.Check,{className:"h-3 w-3 mr-1"}),"COMPLETED"]}):(0,d.jsx)(i.Badge,{className:v[a.status]+" text-xs",children:a.status.toUpperCase()}),(0,d.jsx)(m.ChevronRight,{className:"h-4 w-4 text-muted-foreground"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs mb-2",children:[(0,d.jsxs)("span",{className:"font-medium",children:[s(a.amountIn,E)," ",C]}),(0,d.jsx)(l.ArrowRight,{className:"h-3 w-3 text-muted-foreground"}),(0,d.jsx)("span",{children:D})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,d.jsxs)("span",{className:"font-medium",children:[G,"/",H]})]}),(0,d.jsx)(j.Progress,{value:H>0?G/H*100:0,className:"h-1.5"})]}),!I&&A&&(0,d.jsxs)("div",{className:"flex items-center gap-1 text-xs text-primary",children:[(0,d.jsx)(n.Timer,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"font-medium",children:A})]})]})]}):(0,d.jsxs)(f.default,{href:`/explorer/intent/${a.id.toString()}`,className:"block p-3 hover:bg-muted/50 text-sm cursor-pointer",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.Badge,{className:w[a.intentType]+" text-xs",children:(0,g.getIntentTypeDisplay)(a.intentType)}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:["#",a.id.toString()]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.Badge,{className:v[a.status]+" text-xs",children:a.status.toUpperCase()}),(0,d.jsx)(m.ChevronRight,{className:"h-4 w-4 text-muted-foreground"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,d.jsxs)("span",{children:[s(a.amountIn,E)," ",C]}),(0,d.jsx)(l.ArrowRight,{className:"h-3 w-3 text-muted-foreground"}),(0,d.jsx)("span",{children:D}),(0,d.jsx)("span",{className:"ml-auto text-muted-foreground",children:function(a){if(!a)return"--";let b=new Date(1e3*a);return b.toLocaleDateString()+" "+b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}(a.createdAt)})]})]})}a.s(["ExplorerIntentRow",()=>u]),c()}catch(a){c(a)}},!1),290669,a=>{"use strict";let b=(0,a.i(170106).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],290669)},478022,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(572131),f=a.i(239984),g=a.i(588517),h=a.i(488483),i=a.i(768770),j=a.i(206893),k=a.i(561792),l=a.i(405539),m=a.i(577573),n=a.i(597837),o=a.i(409300);a.i(906259);var p=a.i(596924),q=a.i(290669),r=a.i(660246),s=a.i(452495),t=b([f,g,i,o,p]);[f,g,i,o,p]=t.then?(await t)():t;let v=[{value:"all",label:"All"},{value:"swap",label:"Swap"},{value:"limit_order",label:"Limit"},{value:"dca",label:"DCA"},{value:"twap",label:"TWAP"}];function u(){let{walletAddress:a}=(0,h.useWalletContext)(),{intents:b,solvers:c,loading:t}=(0,i.useAllIntents)(),[u,w]=(0,e.useState)("all"),x=(0,e.useMemo)(()=>"all"===u?b:b.filter(a=>a.intentType===u),[b,u]),y=b.filter(a=>"filled"===a.status).length,z=b.filter(a=>"pending"===a.status).length;return(0,d.jsxs)("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[(0,d.jsx)(f.Header,{address:a||""}),(0,d.jsxs)("main",{className:"flex-1 container mx-auto px-4 py-6 md:px-6 md:py-8",children:[(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:"Velox Explorer"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Real-time data from Velox smart contracts"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[(0,d.jsx)(j.Card,{children:(0,d.jsxs)(j.CardContent,{className:"p-3",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Intents"}),t?(0,d.jsx)(l.Skeleton,{className:"h-6 w-12 mt-1"}):(0,d.jsx)("p",{className:"text-xl font-bold",children:b.length})]})}),(0,d.jsx)(j.Card,{children:(0,d.jsxs)(j.CardContent,{className:"p-3",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Filled"}),t?(0,d.jsx)(l.Skeleton,{className:"h-6 w-12 mt-1"}):(0,d.jsx)("p",{className:"text-xl font-bold text-primary",children:y})]})}),(0,d.jsx)(j.Card,{children:(0,d.jsxs)(j.CardContent,{className:"p-3",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pending"}),t?(0,d.jsx)(l.Skeleton,{className:"h-6 w-12 mt-1"}):(0,d.jsx)("p",{className:"text-xl font-bold",children:z})]})}),(0,d.jsx)(j.Card,{children:(0,d.jsxs)(j.CardContent,{className:"p-3",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active Solvers"}),t?(0,d.jsx)(l.Skeleton,{className:"h-6 w-12 mt-1"}):(0,d.jsx)("p",{className:"text-xl font-bold",children:c.length})]})})]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,d.jsxs)(j.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,d.jsx)(q.Activity,{className:"h-4 w-4"})," Recent Intents"]}),(0,d.jsx)(m.Tabs,{value:u,onValueChange:a=>w(a),children:(0,d.jsx)(m.TabsList,{className:"h-8 flex-wrap",children:v.map(a=>(0,d.jsx)(m.TabsTrigger,{value:a.value,className:"text-xs px-2 py-1",children:a.label},a.value))})})]})}),(0,d.jsx)(j.CardContent,{className:"p-0",children:t?(0,d.jsx)("div",{className:"p-4 space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(l.Skeleton,{className:"h-12 w-full"},b))}):0===x.length?(0,d.jsx)("p",{className:"p-4 text-muted-foreground text-sm",children:"all"===u?"No intents yet":`No ${(0,n.getIntentTypeDisplay)(u)} intents`}):(0,d.jsx)("div",{className:"divide-y divide-border max-h-[500px] overflow-y-auto",children:x.slice(0,20).map(a=>(0,d.jsx)(p.ExplorerIntentRow,{intent:a},a.id.toString()))})})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)(j.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,d.jsx)(r.Users,{className:"h-4 w-4"})," Solver Leaderboard"]})}),(0,d.jsx)(j.CardContent,{className:"p-0",children:t?(0,d.jsx)("div",{className:"p-4 space-y-3",children:[void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(l.Skeleton,{className:"h-10 w-full"},b))}):0===c.length?(0,d.jsx)("p",{className:"p-4 text-muted-foreground text-sm",children:"No solvers yet"}):(0,d.jsx)("div",{className:"divide-y divide-border max-h-[400px] overflow-y-auto",children:c.map((a,b)=>{var c,e,f;let g;return(0,d.jsxs)("div",{className:"p-3 hover:bg-muted/50",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:"text-xs text-muted-foreground",children:["#",b+1]}),(0,d.jsxs)("a",{href:(c=a.address,g=o.MOVEMENT_CONFIGS[o.CURRENT_NETWORK].explorer,`https://explorer.movementnetwork.xyz/account/${c}?network=${g}`),target:"_blank",rel:"noopener noreferrer",className:"text-sm font-mono hover:text-primary flex items-center gap-1",children:[(e=a.address).slice(0,6)+"..."+e.slice(-4),(0,d.jsx)(s.ExternalLink,{className:"h-3 w-3"})]})]}),(0,d.jsxs)(k.Badge,{className:"bg-primary/10 text-primary text-xs",children:[a.fillCount," fills"]})]}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Vol: ",(f=a.totalVolume,(Number(f)/1e8).toFixed(2))]})]},a.address)})})})]})})]})]}),(0,d.jsx)(g.Footer,{})]})}a.s(["default",()=>u]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_de15ec64._.js.map