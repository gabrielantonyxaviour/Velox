module.exports=[935112,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactDOM},224361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},814747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},347299,(a,b,c)=>{b.exports=a.x("node:http",()=>require("node:http"))},743698,(a,b,c)=>{b.exports=a.x("node:https",()=>require("node:https"))},727028,(a,b,c)=>{b.exports=a.x("node:zlib",()=>require("node:zlib"))},81111,(a,b,c)=>{b.exports=a.x("node:stream",()=>require("node:stream"))},951615,(a,b,c)=>{b.exports=a.x("node:buffer",()=>require("node:buffer"))},812057,(a,b,c)=>{b.exports=a.x("node:util",()=>require("node:util"))},857764,(a,b,c)=>{b.exports=a.x("node:url",()=>require("node:url"))},761095,(a,b,c)=>{b.exports=a.x("node:net",()=>require("node:net"))},59639,(a,b,c)=>{b.exports=a.x("node:process",()=>require("node:process"))},506228,582945,73158,a=>{"use strict";var b=a.i(906301),c=a.i(20246),d=a.i(187924),e=a.i(572131),f=a.i(485334),g=a.i(610113);let h={path:"/api/v1/wallets",method:"POST"},i={path:"/api/v1/wallets/:wallet_id",method:"GET"},j={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},k={path:"/api/v1/wallets/:wallet_id",method:"PATCH"},l={path:"/api/v1/wallets/revoke",method:"POST"};async function m(a,{request:b}){return await a.fetchPrivyRoute(h,{body:b})}a.s(["WalletCreate",()=>h,"WalletGet",()=>i,"WalletRpc",()=>j,"WalletUpdate",()=>k,"WalletsRevoke",()=>l],582945),a.s(["create",()=>m],73158);var n=a.i(945498),o=a.i(866756);function p(a){return{name:a.metadata?.shortName||a.name||"",universalLink:a.mobile.universal,deepLink:a.mobile.native}}function q(a,d){let e=p(d);if(b.isMobile&&e.universalLink)return y(e.universalLink,a);if(e.deepLink)return x(e.deepLink,a);if(e.universalLink)return y(e.universalLink,a);throw new c.a(`Unsupported wallet ${d.id}`)}function r(a,b){let c=p(b);if(c.universalLink)return y(c.universalLink,a)}let s="WALLETCONNECT_DEEPLINK_CHOICE";function t(){try{localStorage.removeItem(s)}catch{}}function u({href:a,name:b}){try{localStorage.setItem(s,JSON.stringify({href:a,name:b}))}catch{}}function v(){try{localStorage.removeItem(s)}catch{}}function w(a){return a.startsWith("http://")||a.startsWith("https://")}function x(a,b){if(w(a))return y(a,b);let c=a;return c.includes("://")||(c=a.replaceAll("/","").replaceAll(":",""),c=`${c}://`),c.endsWith("/")||(c=`${c}/`),{redirect:`${c}wc?uri=${encodeURIComponent(b)}`,href:c}}function y(a,b){if(!w(a))return x(a,b);let c=a;return c.endsWith("/")||(c=`${c}/`),{redirect:`${c}wc?uri=${encodeURIComponent(b)}`,href:c}}function z(a,b){window.open(a,b,"noreferrer noopener")}let A=({address:a,nonce:b})=>`${window.location.host} wants you to sign in with your Solana account:
${a}

You are proving you own ${a}.

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${b}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`,B=(0,e.createContext)({plugins:{current:{}}}),C=({children:a})=>{let b=(0,e.useRef)({});return(0,d.jsx)(B.Provider,{value:{plugins:b},children:a})},D=()=>{let{plugins:a}=(0,e.useContext)(B);return(0,e.useCallback)(b=>a.current[b],[a])},E=Symbol("solana-funding-plugin"),F=Symbol("solana-ledger-plugin"),G=(a,{chainType:b,walletIndex:c}={})=>a?.linkedAccounts.filter(a=>"wallet"===a.type&&"privy"===a.walletClientType&&(void 0===c||a.walletIndex===c)&&(void 0===b||a.chainType===b))??[],H=async({user:a,accessToken:b,proxy:c,refreshSessionAndUser:d,privy:e,appConfig:g,recoverEmbeddedWallet:h,setUser:i,walletIndex:j,chainType:k,recoveryMethod:l,recoveryPassword:o,recoveryAccessToken:p})=>{if(0===j)if("user-controlled-server-wallets-only"===g.embeddedWallets.mode)await m(e,{request:{chain_type:k}});else if("ethereum"===k){let d=(0,f.c)(a);d&&await h({address:d.address}),await c.create({accessToken:b,solanaAddress:d?.address,recoveryMethod:l,recoveryPassword:o,recoveryAccessToken:p})}else{if("solana"!==k)throw Error("Invalid input to create wallet");{let d=(0,f.b)(a);d&&await h({address:d.address}),await c.createSolana({accessToken:b,ethereumAddress:d?.address,recoveryMethod:l,recoveryPassword:o,recoveryAccessToken:p})}}else if("user-controlled-server-wallets-only"===g.embeddedWallets.mode)await m(e,{request:{chain_type:k}});else{let{entropyId:d,entropyIdVerifier:e}=(0,n.g)(a);await h(),await c.addWallet({accessToken:b,entropyId:d,entropyIdVerifier:e,chainType:k,hdWalletIndex:j})}let q=await d(),r=G(q,{chainType:k,walletIndex:j})[0];return i(q),{user:q,account:r}},I=async({accessToken:a,appConfig:b,privy:d,emitPrivyEvent:e,proxy:g,refreshSessionAndUser:h,recoverEmbeddedWallet:i,user:j,walletIndex:k,setModalData:l,openModal:m,chainType:n,setUser:o})=>{if(k<0)throw e("createWallet","onError",c.b.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${k}) is invalid.`);let p=(0,f.g)(j);if(k>0&&!p)throw e("createWallet","onError",c.b.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(b.embeddedWallets.requireUserOwnedRecoveryOnCreate&&"user-controlled-server-wallets-only"===b.embeddedWallets.mode)throw e("createWallet","onError",c.b.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&b.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await J({emitPrivyEvent:e,setModalData:l,openModal:m,chainType:n});let q=G(j,{chainType:n,walletIndex:k})[0];if(q)return{user:j,account:q};if(0===k&&!g)return J({emitPrivyEvent:e,setModalData:l,openModal:m,chainType:n});if(!g)throw e("createWallet","onError",c.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return H({appConfig:b,walletIndex:k,chainType:n,user:j,accessToken:a,proxy:g,refreshSessionAndUser:h,privy:d,recoverEmbeddedWallet:i,setUser:o})},J=async({emitPrivyEvent:a,setModalData:b,openModal:d,chainType:e})=>new Promise((f,g)=>{b({createWallet:{onSuccess:({user:b,account:c})=>{a("createWallet","onSuccess",{wallet:c}),f({user:b,account:c})},onFailure:b=>{a("createWallet","onError",c.b.UNKNOWN_EMBEDDED_WALLET_ERROR),g(b)},callAuthOnSuccessOnClose:!1,shouldCreateEth:"ethereum"===e,shouldCreateSol:"solana"===e}}),d("EmbeddedWalletOnAccountCreateScreen")}),K=()=>{let a=(0,o.u)(),b=(0,g.a)(),{setModalData:d}=(0,f.a)(),{initializeWalletProxy:e,recoverEmbeddedWallet:h,setUser:i,openModal:j,refreshSessionAndUser:k,privy:l,client:m}=(0,c.u)();return{create:async({chainType:f,options:g,latestUser:n})=>{let p=n;if(p||(p=await k()),!p)throw b("createWallet","onError",c.b.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await (async({appConfig:a,getAccessToken:b,initializeWalletProxy:d,user:e,privy:f,emitPrivyEvent:g,recoverEmbeddedWallet:h,setModalData:i,openModal:j,setUser:k,options:l,timeoutDuration:m,refreshSessionAndUser:n,chainType:o})=>{let[p,q]=await Promise.all([d(m),b()]);if(!q||!e)throw g("createWallet","onError",c.b.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!p&&a.customAuth?.enabled)throw g("createWallet","onError",c.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(l&&"walletIndex"in l&&"number"==typeof l.walletIndex){if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)throw g("createWallet","onError",c.b.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return I({accessToken:q,appConfig:a,privy:f,emitPrivyEvent:g,openModal:j,proxy:p,refreshSessionAndUser:n,recoverEmbeddedWallet:h,setModalData:i,user:e,walletIndex:l.walletIndex,chainType:o,setUser:k})}let r=l&&"createAdditional"in l&&l.createAdditional,s=G(e,{chainType:o});if(s[0]&&!r)throw g("createWallet","onError",c.b.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return I({accessToken:q,appConfig:a,privy:f,emitPrivyEvent:g,openModal:j,proxy:p,recoverEmbeddedWallet:h,setModalData:i,user:e,walletIndex:(s.reduce((a,b)=>!a||a.walletIndex<b.walletIndex?b:a,null)?.walletIndex??-1)+1,chainType:o,refreshSessionAndUser:n,setUser:k})})({appConfig:a,privy:l,getAccessToken:()=>m.getAccessToken(),refreshSessionAndUser:k,initializeWalletProxy:e,user:p,emitPrivyEvent:b,recoverEmbeddedWallet:h,setModalData:d,openModal:j,setUser:i,options:g,timeoutDuration:o.W,chainType:f})}}},L=async({emitPrivyEvent:a,getAccessToken:b,initializeWalletProxy:d,refreshSessionAndUser:e,user:g,appConfig:h},{privateKey:i,chainType:j,additionalSigners:k})=>{if(!g)throw a("linkAccount","onError",c.b.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new c.a("User must be authenticated before linking an account.");let l="user-controlled-server-wallets-only"===h.embeddedWallets.mode?"tee":"on-device";if(k&&"on-device"===l)throw new c.a("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[m,n]=await Promise.all([b(),d(15e3)]);if(!n||!m)throw a("linkAccount","onError",c.b.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new c.a("User must be authenticated before linking an account.");let{address:o}=await n.importWallet({privateKey:i,accessToken:m,chainType:j,mode:l,additionalSigners:k}),p=await e(),q="solana"===j?(0,f.j)(p):(0,f.f)(p),r=q?.find(a=>a.address===o);if(!r)throw a("createWallet","onError",c.b.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return a("createWallet","onSuccess",{wallet:r}),r},M=()=>{let{importWallet:a}=(()=>{let{user:a}=(0,f.u)(),{client:b,refreshSessionAndUser:d,initializeWalletProxy:h}=(0,c.u)(),i=(0,g.a)(),j=(0,o.u)();return{importWallet:(0,e.useCallback)(({privateKey:c,additionalSigners:e})=>L({getAccessToken:()=>b.getAccessToken(),user:a,initializeWalletProxy:h,refreshSessionAndUser:d,emitPrivyEvent:i,appConfig:j},{privateKey:c,chainType:"ethereum",additionalSigners:e}),[a,b,d,h,i,j])}})(),{createWallet:b}=function(a){let{create:b}=K();return(0,g.u)("createWallet",void 0),{createWallet:async a=>{a&&"target"in a&&a&&(a=void 0);let{account:c}=await b({chainType:"ethereum",options:a});return c}}}();return{...(0,e.useContext)(f.P),importWallet:a,createWallet:b}};a.s(["P",()=>C,"S",()=>E,"a",()=>r,"b",()=>q,"c",()=>D,"d",()=>t,"e",()=>F,"f",()=>K,"k",()=>H,"o",()=>z,"p",()=>A,"r",()=>v,"s",()=>u,"u",()=>M],506228)},406461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},921517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},524836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},427699,(a,b,c)=>{b.exports=a.x("events",()=>require("events"))},504446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},755004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},792509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},446786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},254799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},501060,a=>{"use strict";function b(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function c(a,b){return!!Array.isArray(b)&&(0===b.length||(a?b.every(a=>"string"==typeof a):b.every(a=>Number.isSafeInteger(a))))}function d(a){if("function"!=typeof a)throw Error("function expected");return!0}function e(a,b){if("string"!=typeof b)throw Error(`${a}: string expected`);return!0}function f(a){if(!Number.isSafeInteger(a))throw Error(`invalid integer: ${a}`)}function g(a){if(!Array.isArray(a))throw Error("array expected")}function h(a,b){if(!c(!0,b))throw Error(`${a}: array of strings expected`)}function i(a,b){if(!c(!1,b))throw Error(`${a}: array of numbers expected`)}function j(...a){let b=a=>a,c=(a,b)=>c=>a(b(c));return{encode:a.map(a=>a.encode).reduceRight(c,b),decode:a.map(a=>a.decode).reduce(c,b)}}function k(a){let b="string"==typeof a?a.split(""):a,c=b.length;h("alphabet",b);let d=new Map(b.map((a,b)=>[a,b]));return{encode:d=>(g(d),d.map(d=>{if(!Number.isSafeInteger(d)||d<0||d>=c)throw Error(`alphabet.encode: digit index outside alphabet "${d}". Allowed: ${a}`);return b[d]})),decode:b=>(g(b),b.map(b=>{e("alphabet.decode",b);let c=d.get(b);if(void 0===c)throw Error(`Unknown letter: "${b}". Allowed: ${a}`);return c}))}}function l(a=""){return e("join",a),{encode:b=>(h("join.decode",b),b.join(a)),decode:b=>(e("join.decode",b),b.split(a))}}function m(a,b="="){return f(a),e("padding",b),{encode(c){for(h("padding.encode",c);c.length*a%8;)c.push(b);return c},decode(c){h("padding.decode",c);let d=c.length;if(d*a%8)throw Error("padding: invalid, string should have whole number of bytes");for(;d>0&&c[d-1]===b;d--)if((d-1)*a%8==0)throw Error("padding: invalid, string has too much padding");return c.slice(0,d)}}}function n(a,b,c){if(b<2)throw Error(`convertRadix: invalid from=${b}, base cannot be less than 2`);if(c<2)throw Error(`convertRadix: invalid to=${c}, base cannot be less than 2`);if(g(a),!a.length)return[];let d=0,e=[],h=Array.from(a,a=>{if(f(a),a<0||a>=b)throw Error(`invalid integer: ${a}`);return a}),i=h.length;for(;;){let a=0,f=!0;for(let e=d;e<i;e++){let g=h[e],i=b*a,j=i+g;if(!Number.isSafeInteger(j)||i/b!==a||j-g!==i)throw Error("convertRadix: carry overflow");let k=j/c;a=j%c;let l=Math.floor(k);if(h[e]=l,!Number.isSafeInteger(l)||l*c+a!==j)throw Error("convertRadix: carry overflow");f&&(l?f=!1:d=e)}if(e.push(a),f)break}for(let b=0;b<a.length-1&&0===a[b];b++)e.push(0);return e.reverse()}let o=(a,b)=>0===b?a:o(b,a%b),p=(a,b)=>a+(b-o(a,b)),q=(()=>{let a=[];for(let b=0;b<40;b++)a.push(2**b);return a})();function r(a,b,c,d){if(g(a),b<=0||b>32)throw Error(`convertRadix2: wrong from=${b}`);if(c<=0||c>32)throw Error(`convertRadix2: wrong to=${c}`);if(p(b,c)>32)throw Error(`convertRadix2: carry overflow from=${b} to=${c} carryBits=${p(b,c)}`);let e=0,h=0,i=q[b],j=q[c]-1,k=[];for(let d of a){if(f(d),d>=i)throw Error(`convertRadix2: invalid data word=${d} from=${b}`);if(e=e<<b|d,h+b>32)throw Error(`convertRadix2: carry overflow pos=${h} from=${b}`);for(h+=b;h>=c;h-=c)k.push((e>>h-c&j)>>>0);let a=q[h];if(void 0===a)throw Error("invalid carry");e&=a-1}if(e=e<<c-h&j,!d&&h>=b)throw Error("Excess padding");if(!d&&e>0)throw Error(`Non-zero padding: ${e}`);return d&&h>0&&k.push(e>>>0),k}function s(a){return f(a),{encode:c=>{if(!b(c))throw Error("radix.encode input should be Uint8Array");return n(Array.from(c),256,a)},decode:b=>(i("radix.decode",b),Uint8Array.from(n(b,a,256)))}}function t(a,c=!1){if(f(a),a<=0||a>32)throw Error("radix2: bits should be in (0..32]");if(p(8,a)>32||p(a,8)>32)throw Error("radix2: carry overflow");return{encode:d=>{if(!b(d))throw Error("radix2.encode input should be Uint8Array");return r(Array.from(d),8,a,!c)},decode:b=>(i("radix2.decode",b),Uint8Array.from(r(b,a,8,c)))}}function u(a,c){return f(a),d(c),{encode(d){if(!b(d))throw Error("checksum.encode: input should be Uint8Array");let e=c(d).slice(0,a),f=new Uint8Array(d.length+a);return f.set(d),f.set(e,d.length),f},decode(d){if(!b(d))throw Error("checksum.decode: input should be Uint8Array");let e=d.slice(0,-a),f=d.slice(-a),g=c(e).slice(0,a);for(let b=0;b<a;b++)if(g[b]!==f[b])throw Error("Invalid checksum");return e}}}let v=j(t(5),k("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),m(5),l("")),w="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64?{encode:a=>((function(a,...c){if(!b(a))throw Error("Uint8Array expected");if(c.length>0&&!c.includes(a.length))throw Error("Uint8Array expected of length "+c+", got length="+a.length)})(a),a.toBase64()),decode:a=>((a,b)=>{if(e("base64",a),a.length>0&&!(b?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/).test(a))throw Error("invalid base64");return Uint8Array.fromBase64(a,{alphabet:b?"base64url":"base64",lastChunkHandling:"strict"})})(a,!1)}:j(t(6),k("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),m(6),l("")),x=j(s(58),k("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),l("")),y=j(k("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),l(""));"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||d(a=>{if("string"!=typeof a||a.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()}),a.s(["base32",0,v,"base58",0,x,"base64",0,w,"createBase58check",0,a=>j(u(4,b=>a(a(b))),x),"utils",0,{alphabet:k,chain:j,checksum:u,convertRadix:n,convertRadix2:r,radix:s,radix2:t,join:l,padding:m}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__63f2440d._.js.map