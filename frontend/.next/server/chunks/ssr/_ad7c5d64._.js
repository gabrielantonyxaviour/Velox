module.exports=[641710,a=>{"use strict";let b=(0,a.i(170106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],641710)},546842,a=>{"use strict";let b=(0,a.i(170106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],546842)},501027,a=>{"use strict";let b=(0,a.i(170106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],501027)},922520,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);a.s(["ArrowUpRight",()=>b],922520)},183822,a=>a.a(async(b,c)=>{try{var d=a.i(187924),e=a.i(572131),f=a.i(50944),g=a.i(239984),h=a.i(588517),i=a.i(488483),j=a.i(206893),k=a.i(561792),l=a.i(405539),m=a.i(574601),n=a.i(597837),o=a.i(760264),p=a.i(409300),q=a.i(906259),r=a.i(539707),s=a.i(452495),t=a.i(732860),u=a.i(641710),v=a.i(546842),w=a.i(501027),x=a.i(114753),y=a.i(724669),z=a.i(533441),A=a.i(922520),B=a.i(941675),C=b([g,h,o,p]);[g,h,o,p]=C.then?(await C)():C;let K=p.MOVEMENT_CONFIGS[p.CURRENT_NETWORK].explorer,L=a=>`https://explorer.movementnetwork.xyz/txn/${a}?network=${K}`;function D(a,b=8){let c=BigInt(10**b),d=(a%c).toString().padStart(b,"0").slice(0,4);return`${a/c}.${d}`}function E(a){return(Number(a)/1e8).toFixed(6)}function F(a){return a?new Date(1e3*a).toLocaleString():"--"}function G(a){return a<60?`${a} seconds`:a<3600?`${Math.floor(a/60)} minutes`:a<86400?`${Math.floor(a/3600)} hours`:`${Math.floor(a/86400)} days`}function H(a){let b=r.TOKEN_LIST.find(b=>b.address===a);return b?b.symbol:a===q.TOKENS.tUSDC.address?"tUSDC":a===q.TOKENS.tMOVE.address?"tMOVE":a.slice(0,8)+"..."}function I(a){let b=r.TOKEN_LIST.find(b=>b.address===a);return b?.decimals||8}let M={pending:"bg-yellow-500/10 text-yellow-500",filled:"bg-primary/10 text-primary",partially_filled:"bg-primary/10 text-primary",cancelled:"bg-muted text-muted-foreground",expired:"bg-destructive/10 text-destructive"};function J(){let a,b,c,p,q,r,C,J,N,O=(0,f.useParams)().id,{walletAddress:P}=(0,i.useWalletContext)(),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)(!0),[U,V]=(0,e.useState)(null),[W,X]=(0,e.useState)(null),[Y,Z]=(0,e.useState)([]),[$,_]=(0,e.useState)(""),aa=Q?.intentType==="dca"||Q?.intentType==="twap",ab=(0,e.useCallback)(async()=>{if(!Q||!aa)return;let[a,b]=await Promise.all([(0,o.getScheduledIntentInfo)(Q.id),(0,o.fetchPeriodFillEvents)(Q.id)]);X(a),Z(b)},[Q,aa]);(0,e.useEffect)(()=>{async function a(){try{T(!0);let a=BigInt(O);await (0,o.fetchIntentEvents)([a]);let b=await (0,o.getIntent)(a);if(b){let c=(0,o.getIntentEventData)(a);c&&(b.submissionTxHash=c.submissionTxHash||b.submissionTxHash,b.settlementTxHash=c.settlementTxHash||b.settlementTxHash,b.outputAmount=c.outputAmount||b.outputAmount)}R(b)}catch(a){V(a instanceof Error?a.message:"Failed to load intent")}finally{T(!1)}}O&&a()},[O]),(0,e.useEffect)(()=>{if(aa&&Q){ab();let a=setInterval(ab,1e4);return()=>clearInterval(a)}},[aa,Q,ab]),(0,e.useEffect)(()=>{if(!W)return;let a=()=>{let a=Math.floor(Date.now()/1e3),b=W.nextExecution-a;if(b<=0)return void _(W.isReady?"Ready to execute":"Waiting for solver...");let c=Math.floor(b/86400),d=Math.floor(b%86400/3600),e=Math.floor(b%3600/60),f=b%60;c>0?_(`${c}d ${d}h ${e}m`):d>0?_(`${d}h ${e}m ${f}s`):e>0?_(`${e}m ${f}s`):_(`${f}s`)};a();let b=setInterval(a,1e3);return()=>clearInterval(b)},[W]);let ac=(a,b)=>(0,d.jsxs)("div",{className:"flex justify-between py-2 border-b border-border last:border-0",children:[(0,d.jsx)("span",{className:"text-muted-foreground text-sm",children:a}),(0,d.jsx)("span",{className:"text-sm font-medium",children:b})]}),ad=(a,b)=>(0,d.jsxs)("a",{href:"tx"===b?L(a):`https://explorer.movementnetwork.xyz/account/${a}?network=${K}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1 font-mono text-xs",children:[a.slice(0,10),"...",a.slice(-6)," ",(0,d.jsx)(s.ExternalLink,{className:"h-3 w-3"})]});return(0,d.jsxs)("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[(0,d.jsx)(g.Header,{address:P||""}),(0,d.jsx)("main",{className:"flex-1 container mx-auto px-4 py-6 max-w-3xl",children:S?(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardContent,{className:"p-6",children:(0,d.jsx)(l.Skeleton,{className:"h-64 w-full"})})}):U||!Q?(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardContent,{className:"p-6 text-center text-destructive",children:U||"Intent not found"})}):(0,d.jsx)("div",{className:"space-y-4",children:(a=I(Q.inputToken),b=I(Q.outputToken),c=H(Q.inputToken),p=H(Q.outputToken),q=W?.chunksExecuted??Q.periodsExecuted??Q.chunksExecuted??Y.length,C=(r=W?.totalChunks??Q.totalPeriods??Q.numChunks??0)>0?q/r*100:0,J=W?.isCompleted||r>0&&q>=r,N=Y.reduce((a,b)=>a+b.outputAmount,BigInt(0)),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:["dca"===Q.intentType&&(0,d.jsx)(B.Calendar,{className:"h-5 w-5 text-primary"}),"twap"===Q.intentType&&(0,d.jsx)(y.TrendingUp,{className:"h-5 w-5 text-primary"}),(0,d.jsxs)(j.CardTitle,{className:"text-lg",children:["Intent #",Q.id.toString()]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(k.Badge,{className:"bg-primary/10 text-primary",children:(0,n.getIntentTypeDisplay)(Q.intentType)}),aa&&J?(0,d.jsxs)(k.Badge,{className:"bg-primary/10 text-primary",children:[(0,d.jsx)(z.Check,{className:"h-3 w-3 mr-1"}),"COMPLETED"]}):(0,d.jsx)(k.Badge,{className:M[Q.status],children:Q.status.toUpperCase()})]})]})}),(0,d.jsx)(j.CardContent,{children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-3 py-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:D(Q.amountIn,a)}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]}),(0,d.jsx)(t.ArrowRight,{className:"h-6 w-6 text-muted-foreground"}),(0,d.jsx)("div",{className:"text-center",children:aa?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-2xl font-bold text-green-500",children:N>BigInt(0)?D(N,b):"--"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:p}),N>BigInt(0)&&(0,d.jsx)("p",{className:"text-xs text-green-500 mt-1",children:"Accumulated"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:Q.outputAmount?D(Q.outputAmount,b):"--"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:p})]})})]})})]}),aa&&(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)(j.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(x.Timer,{className:"h-4 w-4"})," Progress"]})}),(0,d.jsxs)(j.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"dca"===Q.intentType?"Periods":"Chunks"}),(0,d.jsxs)("span",{className:"font-medium",children:[q," / ",r]})]}),(0,d.jsx)(m.Progress,{value:C,className:"h-2"})]}),!J&&$&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md bg-primary/10 border border-primary/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(x.Timer,{className:"h-4 w-4 text-primary"}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Next ","dca"===Q.intentType?"buy":"chunk",":"]})]}),(0,d.jsx)("span",{className:"text-sm font-semibold text-primary",children:$})]}),J&&(0,d.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-md bg-green-500/10 border border-green-500/20",children:[(0,d.jsx)(z.Check,{className:"h-4 w-4 text-green-500"}),(0,d.jsxs)("span",{className:"text-sm text-green-600",children:["All ",r," ","dca"===Q.intentType?"periods":"chunks"," completed!"]})]}),N>BigInt(0)&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md bg-muted/50 border border-border",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.TrendingUp,{className:"h-4 w-4 text-green-500"}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Accumulated:"})]}),(0,d.jsxs)("span",{className:"text-sm font-semibold text-green-500",children:[D(N,b)," ",p]})]}),Y.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:["dca"===Q.intentType?"Period":"Chunk"," Fills:"]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:Y.map(a=>(0,d.jsxs)("a",{href:L(a.txHash),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 transition-colors",title:`#${a.periodNumber}: ${D(a.outputAmount,b)} ${p}`,children:[(0,d.jsxs)("span",{children:["#",a.periodNumber]}),(0,d.jsx)(A.ArrowUpRight,{className:"h-3 w-3"})]},a.txHash))})]})]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)(j.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(v.User,{className:"h-4 w-4"})," Details"]})}),(0,d.jsxs)(j.CardContent,{className:"space-y-0",children:[ac("User",ad(Q.user,"account")),ac("Input Token",(0,d.jsx)("span",{className:"font-mono text-xs",children:Q.inputToken})),ac("Output Token",(0,d.jsx)("span",{className:"font-mono text-xs",children:Q.outputToken})),ac("Amount In",`${D(Q.amountIn,a)} ${c}`),!aa&&Q.outputAmount&&ac("Amount Out",`${D(Q.outputAmount,b)} ${p}`),Q.filledAmount>BigInt(0)&&ac("Filled Amount",D(Q.filledAmount,a)),Q.executionPrice&&ac("Execution Price",E(Q.executionPrice)),Q.solver&&ac("Solver",ad(Q.solver,"account"))]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)(j.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(u.Clock,{className:"h-4 w-4"})," Timestamps"]})}),(0,d.jsxs)(j.CardContent,{className:"space-y-0",children:[ac("Created At",F(Q.createdAt)),Q.deadline&&ac("Deadline",F(Q.deadline))]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsxs)(j.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,d.jsx)(w.Zap,{className:"h-4 w-4"})," ",(0,n.getIntentTypeDisplay)(Q.intentType)," Parameters"]})}),(0,d.jsxs)(j.CardContent,{className:"space-y-0",children:["swap"===Q.intentType&&void 0!==Q.minAmountOut&&ac("Min Amount Out",`${D(Q.minAmountOut,b)} ${p}`),"limit_order"===Q.intentType&&(0,d.jsxs)(d.Fragment,{children:[void 0!==Q.limitPrice&&ac("Limit Price",E(Q.limitPrice)),ac("Partial Fill",Q.partialFillAllowed?"Allowed":"Not Allowed")]}),"twap"===Q.intentType&&(0,d.jsxs)(d.Fragment,{children:[void 0!==Q.numChunks&&ac("Total Chunks",Q.numChunks.toString()),ac("Chunks Executed",q.toString()),void 0!==Q.intervalSeconds&&ac("Interval",G(Q.intervalSeconds)),void 0!==Q.maxSlippageBps&&ac("Max Slippage",`${(Q.maxSlippageBps/100).toFixed(2)}%`)]}),"dca"===Q.intentType&&(0,d.jsxs)(d.Fragment,{children:[void 0!==Q.totalPeriods&&ac("Total Periods",Q.totalPeriods.toString()),ac("Periods Executed",q.toString()),void 0!==Q.amountPerPeriod&&ac("Amount Per Period",`${D(Q.amountPerPeriod,a)} ${c}`),void 0!==Q.intervalSeconds&&ac("Interval",G(Q.intervalSeconds))]})]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-2",children:(0,d.jsx)(j.CardTitle,{className:"text-base",children:"Transactions"})}),(0,d.jsxs)(j.CardContent,{className:"space-y-0",children:[ac("Submission Tx",Q.submissionTxHash?ad(Q.submissionTxHash,"tx"):(0,d.jsx)("span",{className:"text-muted-foreground",children:"--"})),ac("Settlement Tx",Q.settlementTxHash?ad(Q.settlementTxHash,"tx"):(0,d.jsx)("span",{className:"text-muted-foreground",children:"--"}))]})]})]}))})}),(0,d.jsx)(h.Footer,{})]})}a.s(["default",()=>J]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_ad7c5d64._.js.map