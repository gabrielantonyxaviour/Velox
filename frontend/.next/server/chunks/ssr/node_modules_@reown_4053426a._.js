module.exports=[883148,a=>{"use strict";let b={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:"undefined"!=typeof process&&!1};a.s(["ConstantsUtil",0,b])},680704,a=>{"use strict";function b(a){if(!a)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${a}:connected_connector_id`}function c(){return!1}a.s(["SafeLocalStorage",0,{setItem(a,b){},getItem(a){},removeItem(a){},clear(){}},"SafeLocalStorageKeys",0,{WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"},"getSafeConnectorIdKey",()=>b,"isSafe",()=>c])},583335,316266,a=>{"use strict";let b=Symbol(),c=Symbol(),d=Object.getPrototypeOf,e=new WeakMap,f=a=>a&&(e.has(a)?e.get(a):d(a)===Object.prototype||d(a)===Array.prototype),g=(a,b=!0)=>{e.set(a,b)},h={get url(){return`file://${a.P("node_modules/@reown/appkit-controllers/node_modules/valtio/esm/vanilla.mjs")}`}},i=a=>"object"==typeof a&&null!==a,j=(a,b)=>{let c=m.get(a);if((null==c?void 0:c[0])===b)return c[1];let d=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return g(d,!0),m.set(a,[b,d]),Reflect.ownKeys(a).forEach(b=>{if(Object.getOwnPropertyDescriptor(d,b))return;let c=Reflect.get(a,b),{enumerable:e}=Reflect.getOwnPropertyDescriptor(a,b),f={value:c,enumerable:e,configurable:!0};if(l.has(c))g(c,!1);else if(k.has(c)){let[a,b]=k.get(c);f.value=j(a,b())}Object.defineProperty(d,b,f)}),Object.preventExtensions(d)},k=new WeakMap,l=new WeakSet,m=new WeakMap,n=[1],o=new WeakMap,p=Object.is;function q(a={}){let b,d,e;if(!i(a))throw Error("object required");let g=o.get(a);if(g)return g;let j=n[0],m=new Set,r=(a,b=++n[0])=>{j!==b&&(s=j=b,m.forEach(c=>c(a,b)))},s=j,t=a=>(b,c)=>{let d=[...b];d[1]=[a,...d[1]],r(d,c)},u=new Map,v=!0,w=new Proxy(a,(b=()=>v,d=(a,b)=>{let c=!l.has(b)&&k.get(b);if(c){if((h.env?h.env.MODE:void 0)!=="production"&&u.has(a))throw Error("prop listener already exists");if(m.size){let b=c[2](t(a));u.set(a,[c,b])}else u.set(a,[c])}},e=a=>{var b;let c=u.get(a);c&&(u.delete(a),null==(b=c[1])||b.call(c))},{deleteProperty(a,b){let c=Reflect.get(a,b);e(b);let d=Reflect.deleteProperty(a,b);return d&&r(["delete",[b],c]),d},set(a,g,h,j){var m;let n,s=!b()&&Reflect.has(a,g),t=Reflect.get(a,g,j);if(s&&(p(t,h)||o.has(h)&&p(t,o.get(h))))return!0;e(g),i(h)&&(h=f(m=h)&&m[c]||h);let u=!k.has(h)&&i(n=h)&&!l.has(n)&&(Array.isArray(n)||!(Symbol.iterator in n))&&!(n instanceof WeakMap)&&!(n instanceof WeakSet)&&!(n instanceof Error)&&!(n instanceof Number)&&!(n instanceof Date)&&!(n instanceof String)&&!(n instanceof RegExp)&&!(n instanceof ArrayBuffer)&&!(n instanceof Promise)?q(h):h;return d(g,u),Reflect.set(a,g,u,j),r(["set",[g],h,t]),!0}}));o.set(a,w);let x=[a,(a=n[0])=>(s!==a&&(s=a,u.forEach(([b])=>{let c=b[1](a);c>j&&(j=c)})),j),a=>(m.add(a),1===m.size&&u.forEach(([a,b],c)=>{if((h.env?h.env.MODE:void 0)!=="production"&&b)throw Error("remove already exists");let d=a[2](t(c));u.set(c,[a,d])}),()=>{m.delete(a),0===m.size&&u.forEach(([a,b],c)=>{b&&(b(),u.set(c,[a]))})})];return k.set(w,x),Reflect.ownKeys(a).forEach(b=>{let c=Object.getOwnPropertyDescriptor(a,b);"value"in c&&c.writable&&(w[b]=a[b])}),v=!1,w}function r(a,b,c){let d,e=k.get(a);(h.env?h.env.MODE:void 0)==="production"||e||console.warn("Please use proxy object");let f=[],g=e[2],i=!1,j=g(a=>{(f.push(a),c)?b(f.splice(0)):d||(d=Promise.resolve().then(()=>{d=void 0,i&&b(f.splice(0))}))});return i=!0,()=>{i=!1,j()}}function s(a){let b=k.get(a);(h.env?h.env.MODE:void 0)==="production"||b||console.warn("Please use proxy object");let[c,d]=b;return j(c,d())}function t(a){return l.add(a),a}function u(){return{proxyStateMap:k,refSet:l,snapCache:m,versionHolder:n,proxyCache:o}}function v(a,b,c,d){let e=a[b];return r(a,()=>{let d=a[b];Object.is(e,d)||c(e=d)},d)}a.s(["proxy",()=>q,"ref",()=>t,"snapshot",()=>s,"subscribe",()=>r,"unstable_getInternalStates",()=>u],583335),Symbol();let{proxyStateMap:w,snapCache:x}=u();function y(a){let b=[],c=0,d=new Map,e=new WeakMap,f=a=>e.get(a)||d;if(a){if("function"!=typeof a[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[e,f]of a)d.set(e,c),b[c++]=f}let g={data:b,index:c,epoch:0,get size(){return w.has(this)||(()=>{let a=x.get(g),b=null==a?void 0:a[1];if(b&&!e.has(b)){let a=new Map(d);e.set(b,a)}})(),f(this).size},get(a){let b=f(this).get(a);return void 0===b?void this.epoch:this.data[b]},has(a){let b=f(this);return this.epoch,b.has(a)},set(a,b){if(!w.has(this))throw Error("Cannot perform mutations on a snapshot");let c=d.get(a);return void 0===c?(d.set(a,this.index),this.data[this.index++]=b):this.data[c]=b,this.epoch++,this},delete(a){if(!w.has(this))throw Error("Cannot perform mutations on a snapshot");let b=d.get(a);return void 0!==b&&(delete this.data[b],d.delete(a),this.epoch++,!0)},clear(){if(!w.has(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,d.clear()},forEach(a){this.epoch,f(this).forEach((b,c)=>{a(this.data[b],c,this)})},*entries(){for(let[a,b]of(this.epoch,f(this)))yield[a,this.data[b]]},*keys(){for(let a of(this.epoch,f(this).keys()))yield a},*values(){for(let a of(this.epoch,f(this).values()))yield this.data[a]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},h=q(g);return Object.defineProperties(h,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(h),h}let{proxyStateMap:z,snapCache:A}=u();a.s(["proxyMap",()=>y,"subscribeKey",()=>v],316266)},977601,a=>{"use strict";var b=a.i(883148);let c=("undefined"!=typeof process&&void 0!==process.env?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",d={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:c,SECURE_SITE_DASHBOARD:`${c}/dashboard`,SECURE_SITE_FAVICON:`${c}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[b.ConstantsUtil.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[b.ConstantsUtil.CHAIN.EVM,b.ConstantsUtil.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}};a.s(["ConstantsUtil",0,d,"MELD_PUBLIC_KEY",0,"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU","ONRAMP_PROVIDERS",0,[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}]])},135323,82228,939546,a=>{"use strict";var b=a.i(883148),c=a.i(977601),d=a.i(680704);let e={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired:(a,b)=>Date.now()-a>b,getActiveNetworkProps(){let a=e.getActiveNamespace(),b=e.getActiveCaipNetworkId(),c=b?b.split(":")[1]:void 0;return{namespace:a,caipNetworkId:b,chainId:c?isNaN(Number(c))?c:Number(c):void 0}},setWalletConnectDeepLink({name:a,href:b}){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:b,name:a}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE);if(a)return JSON.parse(a)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE,a)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,a),e.setActiveNamespace(a.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(a){try{let b=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.removeItem(b)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(a){try{let b=e.getRecentWallets();b.find(b=>b.id===a.id)||(b.unshift(a),b.length>2&&b.pop(),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(b)),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.RECENT_WALLET,JSON.stringify(a)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLETS);return a?JSON.parse(a):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.RECENT_WALLET);return a?JSON.parse(a):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(a,b){try{let c=(0,d.getSafeConnectorIdKey)(a);d.SafeLocalStorage.setItem(c,b)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(a){if(a)try{let b=(0,d.getSafeConnectorIdKey)(a);return d.SafeLocalStorage.getItem(b)}catch(b){console.info("Unable to get connected connector id in namespace",a)}},setConnectedSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL,a)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);return a?.split(":")?.[1]},setConnectionStatus(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTION_STATUS,a)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES);if(!a?.length)return[];return a.split(",")}catch{return[]}},setConnectedNamespaces(a){try{let b=Array.from(new Set(a));d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTED_NAMESPACES,b.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(a){try{let b=e.getConnectedNamespaces();b.includes(a)||(b.push(a),e.setConnectedNamespaces(b))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(a){try{let b=e.getConnectedNamespaces(),c=b.indexOf(a);c>-1&&(b.splice(c,1),e.setConnectedNamespaces(b))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER,a)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getBalanceCacheForCaipAddress(a){try{let b=e.getBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.portfolio))return b.balance;e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateBalanceCache(a){try{let b=e.getBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getNativeBalanceCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get balance cache")}return a},removeAddressFromNativeBalanceCache(a){try{let b=e.getBalanceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove address from balance cache",a)}},getNativeBalanceCacheForCaipAddress(a){try{let b=e.getNativeBalanceCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.nativeBalance))return b;console.info("Discarding cache for address",a),e.removeAddressFromBalanceCache(a)}catch{console.info("Unable to get balance cache for address",a)}},updateNativeBalanceCache(a){try{let b=e.getNativeBalanceCache();b[a.caipAddress]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update balance cache",a)}},getEnsCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.ENS_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get ens name cache")}return a},getEnsFromCacheForAddress(a){try{let b=e.getEnsCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.ens))return b.ens;e.removeEnsFromCache(a)}catch{console.info("Unable to get ens name from cache",a)}},updateEnsCache(a){try{let b=e.getEnsCache();b[a.address]=a,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify(b))}catch{console.info("Unable to update ens name cache",a)}},removeEnsFromCache(a){try{let b=e.getEnsCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.ENS_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove ens name from cache",a)}},getIdentityCache(){let a={};try{let b=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.IDENTITY_CACHE);a=b?JSON.parse(b):{}}catch{console.info("Unable to get identity cache")}return a},getIdentityFromCacheForAddress(a){try{let b=e.getIdentityCache()[a];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.identity))return b.identity;e.removeIdentityFromCache(a)}catch{console.info("Unable to get identity from cache",a)}},updateIdentityCache(a){try{let b=e.getIdentityCache();b[a.address]={identity:a.identity,timestamp:a.timestamp},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify(b))}catch{console.info("Unable to update identity cache",a)}},removeIdentityFromCache(a){try{let b=e.getIdentityCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.IDENTITY_CACHE,JSON.stringify({...b,[a]:void 0}))}catch{console.info("Unable to remove identity from cache",a)}},clearAddressCache(){try{d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.PORTFOLIO_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.NATIVE_BALANCE_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.ENS_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.IDENTITY_CACHE),d.SafeLocalStorage.removeItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(a){try{d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES,JSON.stringify(a))}catch{console.info("Unable to set preferred account types",a)}},getPreferredAccountTypes(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.PREFERRED_ACCOUNT_TYPES);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(a,c){try{let f=e.getConnections(),g=f[c]??[],h=new Map;for(let a of g)h.set(a.connectorId,{...a});for(let c of a){let a=h.get(c.connectorId),d=c.connectorId===b.ConstantsUtil.CONNECTOR_ID.AUTH;if(a&&!d){let b=new Set(a.accounts.map(a=>a.address.toLowerCase())),d=c.accounts.filter(a=>!b.has(a.address.toLowerCase()));a.accounts.push(...d)}else h.set(c.connectorId,{...c})}let i={...f,[c]:Array.from(h.values())};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify(i))}catch(a){console.error("Unable to sync connections to storage",a)}},getConnections(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.CONNECTIONS);if(!a)return{};return JSON.parse(a)}catch(a){return console.error("Unable to get connections from storage",a),{}}},deleteAddressFromConnection({connectorId:a,address:b,namespace:c}){try{let f=e.getConnections(),g=f[c]??[],h=new Map(g.map(a=>[a.connectorId,a])),i=h.get(a);if(i){let c=i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase());0===c.length?h.delete(a):h.set(a,{...i,accounts:i.accounts.filter(a=>a.address.toLowerCase()!==b.toLowerCase())})}d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.CONNECTIONS,JSON.stringify({...f,[c]:Array.from(h.values())}))}catch{console.error(`Unable to remove address "${b}" from connector "${a}" in namespace "${c}"`)}},getDisconnectedConnectorIds(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS);if(!a)return{};return JSON.parse(a)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f.push(a),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to set disconnected connector id "${a}" for namespace "${b}"`)}},removeDisconnectedConnectorId(a,b){try{let c=e.getDisconnectedConnectorIds(),f=c[b]??[];f=f.filter(b=>b.toLowerCase()!==a.toLowerCase()),d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...c,[b]:Array.from(new Set(f))}))}catch{console.error(`Unable to remove disconnected connector id "${a}" for namespace "${b}"`)}},isConnectorDisconnected(a,b){try{return(e.getDisconnectedConnectorIds()[b]??[]).some(b=>b.toLowerCase()===a.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${a}" for namespace "${b}"`)}return!1},getTransactionsCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:a,chainId:b=""}){try{let c=e.getTransactionsCache(),d=c[a]?.[b];if(d&&!this.isCacheExpired(d.timestamp,this.cacheExpiry.transactionsHistory))return d.transactions;e.removeTransactionsCache({address:a,chainId:b})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:a,chainId:b="",timestamp:c,transactions:f}){try{let g=e.getTransactionsCache();g[a]={...g[a],[b]:{timestamp:c,transactions:f}},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(g))}catch{console.info("Unable to update transactions cache",{address:a,chainId:b,timestamp:c,transactions:f})}},removeTransactionsCache({address:a,chainId:b}){try{let c=e.getTransactionsCache(),{[b]:f,...g}=c?.[a]||{};d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...c,[a]:g}))}catch{console.info("Unable to remove transactions cache",{address:a,chainId:b})}},getTokenPriceCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE);return a?JSON.parse(a):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(a){try{let b=e.getTokenPriceCache()[a.join(",")];if(b&&!this.isCacheExpired(b.timestamp,this.cacheExpiry.tokenPrice))return b.tokenPrice;e.removeTokenPriceCache(a)}catch{console.info("Unable to get token price cache for addresses",a)}},updateTokenPriceCache(a){try{let b=e.getTokenPriceCache();b[a.addresses.join(",")]={timestamp:a.timestamp,tokenPrice:a.tokenPrice},d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify(b))}catch{console.info("Unable to update token price cache",a)}},removeTokenPriceCache(a){try{let b=e.getTokenPriceCache();d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.TOKEN_PRICE_CACHE,JSON.stringify({...b,[a.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",a)}},getLatestAppKitVersion(){try{let a=this.getLatestAppKitVersionCache(),b=a?.version;if(b&&!this.isCacheExpired(a.timestamp,this.cacheExpiry.latestAppKitVersion))return b}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let a=d.SafeLocalStorage.getItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION);return a?JSON.parse(a):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(a){try{let b=e.getLatestAppKitVersionCache();b.timestamp=a.timestamp,b.version=a.version,d.SafeLocalStorage.setItem(d.SafeLocalStorageKeys.LATEST_APPKIT_VERSION,JSON.stringify(b))}catch{console.info("Unable to update latest AppKit version on local storage",a)}}};a.s(["StorageUtil",0,e],82228);let f={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(a,b="")=>a?.caipNetworkId.toLocaleLowerCase().includes(b.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return f.isMobile()&&a.includes("android")},isIos(){if(!this.isMobile())return!1;let a=window?.navigator.userAgent.toLowerCase();return a.includes("iphone")||a.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>!1,isPairingExpired:a=>!a||a-Date.now()<=c.ConstantsUtil.TEN_SEC_MS,isAllowedRetry:(a,b=c.ConstantsUtil.ONE_SEC_MS)=>Date.now()-a>=b,copyToClopboard(a){navigator.clipboard.writeText(a)},isIframe(){try{return window?.self!==window?.top}catch(a){return!1}},isSafeApp(){if(f.isClient()&&window.self!==window.top)try{let a=window?.location?.ancestorOrigins?.[0];if(a){let b=new URL(a),c=new URL("https://app.safe.global");return b.hostname===c.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+c.ConstantsUtil.FOUR_MINUTES_MS,getNetworkId:a=>a?.split(":")[1],getPlainAddress:a=>a?.split(":")[2],wait:async a=>new Promise(b=>{setTimeout(b,a)}),debounce(a,b=500){let c;return(...d)=>{c&&clearTimeout(c),c=setTimeout(function(){a(...d)},b)}},isHttpUrl:a=>a.startsWith("http://")||a.startsWith("https://"),formatNativeUrl(a,b,c=null){if(f.isHttpUrl(a))return this.formatUniversalUrl(a,b);let d=a,e=c;d&&(d.includes("://")||(d=a.replaceAll("/","").replaceAll(":",""),d=`${d}://`),d.endsWith("/")||(d=`${d}/`)),e&&!e?.endsWith("/")&&(e=`${e}/`),this.isTelegram()&&this.isAndroid()&&(b=encodeURIComponent(b));let g=encodeURIComponent(b);return{redirect:`${d}wc?uri=${g}`,redirectUniversalLink:e?`${e}wc?uri=${g}`:void 0,href:d}},formatUniversalUrl(a,b){if(!f.isHttpUrl(a))return this.formatNativeUrl(a,b);let c=a;c.endsWith("/")||(c=`${c}/`);let d=encodeURIComponent(b);return{redirect:`${c}wc?uri=${d}`,href:c}},getOpenTargetForPlatform(a){return"popupWindow"===a?a:this.isTelegram()?e.getTelegramSocialProvider()?"_top":"_blank":a},openHref(a,b,c){window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},returnOpenHref(a,b,c){return window?.open(a,this.getOpenTargetForPlatform(b),c||"noreferrer noopener")},isTelegram:()=>!1,isPWA:()=>!1,preloadImage:async a=>Promise.race([new Promise((b,c)=>{let d=new Image;d.onload=b,d.onerror=c,d.crossOrigin="anonymous",d.src=a}),f.wait(2e3)]),parseBalance(a,b){let c="0.000";if("string"==typeof a){let b=Number(a);if(!isNaN(b)){let a=(Math.floor(1e3*b)/1e3).toFixed(3);a&&(c=a)}}let[d,e]=c.split("."),f=d||"0",g=e||"000";return{formattedText:`${f}.${g}${b?` ${b}`:""}`,value:f,decimals:g,symbol:b}},getApiUrl:()=>b.ConstantsUtil.W3M_API_URL,getBlockchainApiUrl:()=>b.ConstantsUtil.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>b.ConstantsUtil.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,a=>{let b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)}),parseError:a=>"string"==typeof a?a:"string"==typeof a?.issues?.[0]?.message?a.issues[0].message:a instanceof Error?a.message:"Unknown error",sortRequestedNetworks(a,b=[]){let c={};return b&&a&&(a.forEach((a,b)=>{c[a]=b}),b.sort((a,b)=>{let d=c[a.id],e=c[b.id];return void 0!==d&&void 0!==e?d-e:void 0!==d?-1:1*(void 0!==e)})),b},calculateBalance(a){let b=0;for(let c of a)b+=c.value??0;return b},formatTokenBalance(a){let[b,c]=a.toFixed(2).split(".");return{dollars:b,pennies:c}},isAddress(a,b="eip155"){switch(b){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(a)||/^(?:0x)?[0-9A-F]{40}$/iu.test(a)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(a);default:return!1}},uniqueBy(a,b){let c=new Set;return a.filter(a=>{let d=a[b];return!c.has(d)&&(c.add(d),!0)})},generateSdkVersion(a,b,d){let e=0===a.length?c.ConstantsUtil.ADAPTER_TYPES.UNIVERSAL:a.map(a=>a.adapterType).join(",");return`${b}-${e}-${d}`},createAccount:(a,b,c,d,e)=>({namespace:a,address:b,type:c,publicKey:d,path:e}),isCaipAddress(a){if("string"!=typeof a)return!1;let c=a.split(":"),d=c[0];return 3===c.filter(Boolean).length&&d in b.ConstantsUtil.CHAIN_NAME_MAP},getAccount:a=>a?"string"==typeof a?{address:a,chainId:void 0}:{address:a.address,chainId:a.chainId}:{address:void 0,chainId:void 0},isMac(){let a=window?.navigator.userAgent.toLowerCase();return a.includes("macintosh")&&!a.includes("safari")},formatTelegramSocialLoginUrl(a){let b=`--${encodeURIComponent(window?.location.href)}`,c="state=";if("auth.magic.link"===new URL(a).host){let d="provider_authorization_url=",e=a.substring(a.indexOf(d)+d.length),f=this.injectIntoUrl(decodeURIComponent(e),c,b);return a.replace(e,encodeURIComponent(f))}return this.injectIntoUrl(a,c,b)},injectIntoUrl(a,b,c){let d=a.indexOf(b);if(-1===d)throw Error(`${b} parameter not found in the URL: ${a}`);let e=a.indexOf("&",d),f=b.length,g=-1!==e?e:a.length;return a.substring(0,d+f)+(a.substring(d+f,g)+c)+a.substring(e)}};async function g(...a){let b=await fetch(...a);if(!b.ok)throw Error(`HTTP status code: ${b.status}`,{cause:b});return b}a.s(["CoreHelperUtil",0,f],135323);class h{constructor({baseUrl:a,clientId:b}){this.baseUrl=a,this.clientId=b}async get({headers:a,signal:b,cache:c,...d}){let e=this.createUrl(d);return(await g(e,{method:"GET",headers:a,signal:b,cache:c})).json()}async getBlob({headers:a,signal:b,...c}){let d=this.createUrl(c);return(await g(d,{method:"GET",headers:a,signal:b})).blob()}async post({body:a,headers:b,signal:c,...d}){let e=this.createUrl(d);return(await g(e,{method:"POST",headers:b,body:a?JSON.stringify(a):void 0,signal:c})).json()}async put({body:a,headers:b,signal:c,...d}){let e=this.createUrl(d);return(await g(e,{method:"PUT",headers:b,body:a?JSON.stringify(a):void 0,signal:c})).json()}async delete({body:a,headers:b,signal:c,...d}){let e=this.createUrl(d);return(await g(e,{method:"DELETE",headers:b,body:a?JSON.stringify(a):void 0,signal:c})).json()}createUrl({path:a,params:b}){let c=new URL(a,this.baseUrl);return b&&Object.entries(b).forEach(([a,b])=>{b&&c.searchParams.append(a,b)}),this.clientId&&c.searchParams.append("clientId",this.clientId),c}sendBeacon({body:a,...b}){let c=this.createUrl(b);return navigator.sendBeacon(c.toString(),a?JSON.stringify(a):void 0)}}a.s(["FetchUtil",()=>h],939546)},898965,929581,706556,a=>{"use strict";a.s(["AssetUtil",()=>q],898965);var b=a.i(583335),c=a.i(321590),d=a.i(316266),e=a.i(135323),f=a.i(939546);let g=Object.freeze({enabled:!0,events:[]});new f.FetchUtil({baseUrl:e.CoreHelperUtil.getAnalyticsUrl(),clientId:null});let h=(0,b.proxy)({...g}),i={state:h,subscribeKey:(a,b)=>(0,d.subscribeKey)(h,a,b),async sendError(a,b){if(!h.enabled)return;let c=Date.now();if(h.events.filter(a=>c-new Date(a.properties.timestamp||"").getTime()<6e4).length>=5)return;let d={type:"error",event:b,properties:{errorType:a.name,errorMessage:a.message,stackTrace:a.stack,timestamp:new Date().toISOString()}};h.events.push(d);try{return}catch{}},enable(){h.enabled=!0},disable(){h.enabled=!1},clearEvents(){h.events=[]}};class j extends Error{constructor(a,b,c){super(a),this.originalName="AppKitError",this.name="AppKitError",this.category=b,this.originalError=c,c&&c instanceof Error&&(this.originalName=c.name),Object.setPrototypeOf(this,j.prototype);let d=!1;if(c instanceof Error&&"string"==typeof c.stack&&c.stack){const a=c.stack,b=a.indexOf("\n");if(b>-1){const c=a.substring(b+1);this.stack=`${this.name}: ${this.message}
${c}`,d=!0}}!d&&(Error.captureStackTrace?Error.captureStackTrace(this,j):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function k(a,b){let c="";try{c=a instanceof Error?a.message:"string"==typeof a?a:"object"==typeof a&&null!==a?0===Object.keys(a).length?"Unknown error":a?.message||JSON.stringify(a):String(a)}catch(a){c="Unknown error",console.error("Error parsing error message",a)}let d=a instanceof j?a:new j(c,b,a);throw i.sendError(d,d.category),d}function l(a,b="INTERNAL_SDK_ERROR"){let c={};return Object.keys(a).forEach(d=>{let e=a[d];if("function"==typeof e){let a=e;a="AsyncFunction"===e.constructor.name?async(...a)=>{try{return await e(...a)}catch(a){return k(a,b)}}:(...a)=>{try{return e(...a)}catch(a){return k(a,b)}},c[d]=a}else c[d]=e}),c}a.s(["AppKitError",()=>j,"withErrorBoundary",()=>l],929581);let m=(0,b.proxy)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),n=l({state:m,subscribeNetworkImages:a=>(0,b.subscribe)(m.networkImages,()=>a(m.networkImages)),subscribeKey:(a,b)=>(0,d.subscribeKey)(m,a,b),subscribe:a=>(0,b.subscribe)(m,()=>a(m)),setWalletImage(a,b){m.walletImages[a]=b},setNetworkImage(a,b){m.networkImages[a]=b},setChainImage(a,b){m.chainImages[a]=b},setConnectorImage(a,b){m.connectorImages={...m.connectorImages,[a]:b}},setTokenImage(a,b){m.tokenImages[a]=b},setCurrencyImage(a,b){m.currencyImages[a]=b}});a.s(["AssetController",0,n],706556);let o={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},p=(0,b.proxy)({networkImagePromises:{}}),q={async fetchWalletImage(a){if(a)return await c.ApiController._fetchWalletImage(a),this.getWalletImageById(a)},async fetchNetworkImage(a){if(!a)return;let b=this.getNetworkImageById(a);return b||(p.networkImagePromises[a]||(p.networkImagePromises[a]=c.ApiController._fetchNetworkImage(a)),await p.networkImagePromises[a],this.getNetworkImageById(a))},getWalletImageById(a){if(a)return n.state.walletImages[a]},getWalletImage:a=>a?.image_url?a?.image_url:a?.image_id?n.state.walletImages[a.image_id]:void 0,getNetworkImage:a=>a?.assets?.imageUrl?a?.assets?.imageUrl:a?.assets?.imageId?n.state.networkImages[a.assets.imageId]:void 0,getNetworkImageById(a){if(a)return n.state.networkImages[a]},getConnectorImage:a=>a?.imageUrl?a.imageUrl:a?.info?.icon?a.info.icon:a?.imageId?n.state.connectorImages[a.imageId]:void 0,getChainImage:a=>n.state.networkImages[o[a]],getTokenImage(a){if(a)return n.state.tokenImages[a]}}},447649,a=>{"use strict";var b=a.i(883148);a.s(["AVAILABLE_NAMESPACES",0,["eip155","solana","polkadot","bip122","cosmos","sui","stacks"],"NetworkUtil",0,{caipNetworkIdToNumber:a=>a?Number(a.split(":")[1]):void 0,parseEvmChainId(a){return"string"==typeof a?this.caipNetworkIdToNumber(a):a},getNetworksByNamespace:(a,b)=>a?.filter(a=>a.chainNamespace===b)||[],getFirstNetworkByNamespace(a,b){return this.getNetworksByNamespace(a,b)[0]},getNetworkNameByCaipNetworkId(a,c){if(!c)return;let d=a.find(a=>a.caipNetworkId===c);if(d)return d.name;let[e]=c.split(":");return b.ConstantsUtil.CHAIN_NAME_MAP?.[e]||void 0}}])},922848,a=>{"use strict";a.s(["ParseUtil",0,{validateCaipAddress(a){if(a.split(":")?.length!==3)throw Error("Invalid CAIP Address");return a},parseCaipAddress(a){let b=a.split(":");if(3!==b.length)throw Error(`Invalid CAIP-10 address: ${a}`);let[c,d,e]=b;if(!c||!d||!e)throw Error(`Invalid CAIP-10 address: ${a}`);return{chainNamespace:c,chainId:d,address:e}},parseCaipNetworkId(a){let b=a.split(":");if(2!==b.length)throw Error(`Invalid CAIP-2 network id: ${a}`);let[c,d]=b;if(!c||!d)throw Error(`Invalid CAIP-2 network id: ${a}`);return{chainNamespace:c,chainId:d}}}])},473439,831218,94702,531657,435044,436868,83965,a=>{"use strict";a.s(["BlockchainApiController",()=>r],473439);var b=a.i(583335),c=a.i(977601),d=a.i(135323),e=a.i(939546),f=a.i(82228),g=a.i(602383);a.s(["OptionsController",()=>k],94702);var h=a.i(316266);a.s(["OptionsUtil",()=>i],831218);let i={getFeatureValue(a,b){let d=b?.[a];return void 0===d?c.ConstantsUtil.DEFAULT_FEATURES[a]:d},filterSocialsByPlatform(a){if(!a||!a.length)return a;if(d.CoreHelperUtil.isTelegram()){if(d.CoreHelperUtil.isIos())return a.filter(a=>"google"!==a);if(d.CoreHelperUtil.isMac())return a.filter(a=>"x"!==a);if(d.CoreHelperUtil.isAndroid())return a.filter(a=>!["facebook","x"].includes(a))}return a},isSocialsEnabled:()=>Array.isArray(k.state.features?.socials)&&k.state.features?.socials.length>0||Array.isArray(k.state.remoteFeatures?.socials)&&k.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!!(k.state.features?.email||k.state.remoteFeatures?.email)},j=(0,b.proxy)({features:c.ConstantsUtil.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:c.ConstantsUtil.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1}),k={state:j,subscribeKey:(a,b)=>(0,h.subscribeKey)(j,a,b),setOptions(a){Object.assign(j,a)},setRemoteFeatures(a){if(!a)return;let b={...j.remoteFeatures,...a};j.remoteFeatures=b,j.remoteFeatures?.socials&&(j.remoteFeatures.socials=i.filterSocialsByPlatform(j.remoteFeatures.socials)),j.features?.pay&&(j.remoteFeatures.email=!1,j.remoteFeatures.socials=!1)},setFeatures(a){if(!a)return;j.features||(j.features=c.ConstantsUtil.DEFAULT_FEATURES);let b={...j.features,...a};j.features=b,j.features?.pay&&j.remoteFeatures&&(j.remoteFeatures.email=!1,j.remoteFeatures.socials=!1)},setProjectId(a){j.projectId=a},setCustomRpcUrls(a){j.customRpcUrls=a},setAllWallets(a){j.allWallets=a},setIncludeWalletIds(a){j.includeWalletIds=a},setExcludeWalletIds(a){j.excludeWalletIds=a},setFeaturedWalletIds(a){j.featuredWalletIds=a},setTokens(a){j.tokens=a},setTermsConditionsUrl(a){j.termsConditionsUrl=a},setPrivacyPolicyUrl(a){j.privacyPolicyUrl=a},setCustomWallets(a){j.customWallets=a},setIsSiweEnabled(a){j.isSiweEnabled=a},setIsUniversalProvider(a){j.isUniversalProvider=a},setSdkVersion(a){j.sdkVersion=a},setMetadata(a){j.metadata=a},setDisableAppend(a){j.disableAppend=a},setEIP6963Enabled(a){j.enableEIP6963=a},setDebug(a){j.debug=a},setEnableWalletGuide(a){j.enableWalletGuide=a},setEnableAuthLogger(a){j.enableAuthLogger=a},setEnableWallets(a){j.enableWallets=a},setPreferUniversalLinks(a){j.experimental_preferUniversalLinks=a},setSIWX(a){if(a)for(let[b,d]of Object.entries(c.ConstantsUtil.SIWX_DEFAULTS))a[b]??=d;j.siwx=a},setConnectMethodsOrder(a){j.features={...j.features,connectMethodsOrder:a}},setWalletFeaturesOrder(a){j.features={...j.features,walletFeaturesOrder:a}},setSocialsOrder(a){j.remoteFeatures={...j.remoteFeatures,socials:a}},setCollapseWallets(a){j.features={...j.features,collapseWallets:a}},setEnableEmbedded(a){j.enableEmbedded=a},setAllowUnsupportedChain(a){j.allowUnsupportedChain=a},setManualWCControl(a){j.manualWCControl=a},setEnableNetworkSwitch(a){j.enableNetworkSwitch=a},setEnableMobileFullScreen(a){j.enableMobileFullScreen=d.CoreHelperUtil.isMobile()&&a},setEnableReconnect(a){j.enableReconnect=a},setDefaultAccountTypes(a={}){Object.entries(a).forEach(([a,b])=>{b&&(j.defaultAccountTypes[a]=b)})},setUniversalProviderConfigOverride(a){j.universalProviderConfigOverride=a},getUniversalProviderConfigOverride:()=>j.universalProviderConfigOverride,getSnapshot:()=>(0,b.snapshot)(j)},l=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),m=(0,b.proxy)({...l}),n={state:m,subscribeKey:(a,b)=>(0,h.subscribeKey)(m,a,b),showLoading(a,b={}){this._showMessage({message:a,variant:"loading",...b})},showSuccess(a){this._showMessage({message:a,variant:"success"})},showSvg(a,b){this._showMessage({message:a,svg:b})},showError(a){let b=d.CoreHelperUtil.parseError(a);this._showMessage({message:b,variant:"error"})},hide(){m.message=l.message,m.variant=l.variant,m.svg=l.svg,m.open=l.open,m.autoClose=l.autoClose},_showMessage({message:a,svg:b,variant:c="success",autoClose:d=l.autoClose}){m.open?(m.open=!1,setTimeout(()=>{m.message=a,m.variant=c,m.svg=b,m.open=!0,m.autoClose=d},150)):(m.message=a,m.variant=c,m.svg=b,m.open=!0,m.autoClose=d)}};a.s(["SnackController",0,n],531657);let o={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},p=d.CoreHelperUtil.getBlockchainApiUrl(),q=(0,b.proxy)({clientId:null,api:new e.FetchUtil({baseUrl:p,clientId:null}),supportedChains:{http:[],ws:[]}}),r={state:q,async get(a){let{st:b,sv:c}=r.getSdkProperties(),d=k.state.projectId,e={...a.params||{},st:b,sv:c,projectId:d};return q.api.get({...a,params:e})},getSdkProperties(){let{sdkType:a,sdkVersion:b}=k.state;return{st:a||"unknown",sv:b||"unknown"}},async isNetworkSupported(a){if(!a)return!1;try{q.supportedChains.http.length||await r.getSupportedNetworks()}catch(a){return!1}return q.supportedChains.http.includes(a)},async getSupportedNetworks(){try{let a=await r.get({path:"v1/supported-chains"});return q.supportedChains=a,a}catch{return q.supportedChains}},async fetchIdentity({address:a}){let b=f.StorageUtil.getIdentityFromCacheForAddress(a);if(b)return b;let c=await r.get({path:`/v1/identity/${a}`,params:{sender:g.ChainController.state.activeCaipAddress?d.CoreHelperUtil.getPlainAddress(g.ChainController.state.activeCaipAddress):void 0}});return f.StorageUtil.updateIdentityCache({address:a,identity:c,timestamp:Date.now()}),c},async fetchTransactions({account:a,cursor:b,signal:c,cache:d,chainId:e}){if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let h=f.StorageUtil.getTransactionsCacheForAddress({address:a,chainId:e});if(h)return h;let i=await r.get({path:`/v1/account/${a}/history`,params:{cursor:b,chainId:e},signal:c,cache:d});return f.StorageUtil.updateTransactionsCache({address:a,chainId:e,timestamp:Date.now(),transactions:i}),i},fetchSwapQuote:async({amount:a,userAddress:b,from:c,to:d,gasPrice:e})=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:a,userAddress:b,from:c,to:d,gasPrice:e}}):{quotes:[]},fetchSwapTokens:async({chainId:a})=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:"/v1/convert/tokens",params:{chainId:a}}):{tokens:[]},async fetchTokenPrice({addresses:a}){if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let b=f.StorageUtil.getTokenPriceCacheForAddresses(a);if(b)return b;let c=await q.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:a,projectId:k.state.projectId},headers:{"Content-Type":"application/json"}});return f.StorageUtil.updateTokenPriceCache({addresses:a,timestamp:Date.now(),tokenPrice:c}),c},fetchSwapAllowance:async({tokenAddress:a,userAddress:b})=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:"/v1/convert/allowance",params:{tokenAddress:a,userAddress:b},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:a}){let{st:b,sv:c}=r.getSdkProperties();if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return r.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:a,st:b,sv:c}})},async generateSwapCalldata({amount:a,from:b,to:d,userAddress:e,disableEstimate:f}){if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return q.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:a,eip155:{slippage:c.ConstantsUtil.CONVERT_SLIPPAGE_TOLERANCE},projectId:k.state.projectId,from:b,to:d,userAddress:e,disableEstimate:f}})},async generateApproveCalldata({from:a,to:b,userAddress:c}){let{st:d,sv:e}=r.getSdkProperties();if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return r.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:c,from:a,to:b,st:d,sv:e}})},async getBalance(a,b,c){let{st:d,sv:e}=r.getSdkProperties();if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return n.showError("Token Balance Unavailable"),{balances:[]};let h=`${b}:${a}`,i=f.StorageUtil.getBalanceCacheForCaipAddress(h);if(i)return i;let j=await r.get({path:`/v1/account/${a}/balance`,params:{currency:"usd",chainId:b,forceUpdate:c,st:d,sv:e}});return f.StorageUtil.updateBalanceCache({caipAddress:h,balance:j,timestamp:Date.now()}),j},lookupEnsName:async a=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:`/v1/profile/account/${a}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:a}){if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return[];let b=g.ChainController.getAccountData()?.address;return r.get({path:`/v1/profile/reverse/${a}`,params:{sender:b,apiVersion:"2"}})},getEnsNameSuggestions:async a=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:`/v1/profile/suggestions/${a}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:a,address:b,message:c,signature:d})=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?q.api.post({path:"/v1/profile/account",body:{coin_type:a,address:b,message:c,signature:d},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:a,partnerUserId:b,defaultNetwork:c,purchaseAmount:d,paymentAmount:e})=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?(await q.api.post({path:"/v1/generators/onrampurl",params:{projectId:k.state.projectId},body:{destinationWallets:a,defaultNetwork:c,partnerUserId:b,defaultExperience:"buy",presetCryptoAmount:d,presetFiatAmount:e}})).url:"",async getOnrampOptions(){if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await r.get({path:"/v1/onramp/options"})}catch(a){return o}},async getOnrampQuote({purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}){try{if(!await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId))return null;return await q.api.post({path:"/v1/onramp/quote",params:{projectId:k.state.projectId},body:{purchaseCurrency:a,paymentCurrency:b,amount:c,network:d}})}catch(a){return{networkFee:{amount:c,currency:b.id},paymentSubtotal:{amount:c,currency:b.id},paymentTotal:{amount:c,currency:b.id},purchaseAmount:{amount:c,currency:b.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async a=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?r.get({path:`/v1/sessions/${a}`}):[],revokeSmartSession:async(a,b,c)=>await r.isNetworkSupported(g.ChainController.state.activeCaipNetwork?.caipNetworkId)?q.api.post({path:`/v1/sessions/${a}/revoke`,params:{projectId:k.state.projectId},body:{pci:b,signature:c}}):{success:!1},setClientId(a){q.clientId=a,q.api=new e.FetchUtil({baseUrl:p,clientId:a})}};function s(){let a=g.ChainController.state.activeCaipNetwork?.chainNamespace||"eip155",b=g.ChainController.state.activeCaipNetwork?.id||1,d=c.ConstantsUtil.NATIVE_TOKEN_ADDRESS[a];return`${a}:${b}:${d}`}function t(a){return g.ChainController.getAccountData(a)?.preferredAccountType}function u(a){return a?g.ChainController.state.chains.get(a)?.networkState?.caipNetwork:g.ChainController.state.activeCaipNetwork}function v(a,b){return"light"===b?{"--w3m-accent":a?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":a?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}a.s(["getActiveCaipNetwork",()=>u,"getActiveNetworkTokenAddress",()=>s,"getPreferredAccountType",()=>t],435044),a.s(["getW3mThemeVariables",()=>v],436868),"undefined"!=typeof process&&void 0!==process.env&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,"undefined"!=typeof process&&void 0!==process.env&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,"undefined"!=typeof process&&void 0!==process.env&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION,a.s(["W3mFrameRpcConstants",0,{SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}],83965)},262275,a=>{"use strict";a.s(["NetworkUtil",()=>f]);var b=a.i(883148),c=a.i(602383),d=a.i(109450),e=a.i(667625);let f={onSwitchNetwork({network:a,ignoreSwitchConfirmation:f=!1}){let g=c.ChainController.state.activeCaipNetwork,h=c.ChainController.state.activeChain,i=e.RouterController.state.data;if(a.id===g?.id)return;let j=!!c.ChainController.getAccountData(h)?.address,k=!!c.ChainController.getAccountData(a.chainNamespace)?.address,l=a.chainNamespace!==h,m=d.ConnectorController.getConnectorId(h)===b.ConstantsUtil.CONNECTOR_ID.AUTH,n=b.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(b=>b===a.chainNamespace);f||m&&n?e.RouterController.push("SwitchNetwork",{...i,network:a}):j&&l&&!k?e.RouterController.push("SwitchActiveChain",{switchToChain:a.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:a}):e.RouterController.push("SwitchNetwork",{...i,network:a})}}},242528,a=>{"use strict";a.s(["EventsController",()=>k]);var b=a.i(583335),c=a.i(135323),d=a.i(939546),e=a.i(602383),f=a.i(94702);let g=c.CoreHelperUtil.getAnalyticsUrl(),h=new d.FetchUtil({baseUrl:g,clientId:null}),i=["MODAL_CREATED"],j=(0,b.proxy)({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),k={state:j,subscribe:a=>(0,b.subscribe)(j,()=>a(j)),getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=f.OptionsController.state;return{projectId:a,st:b,sv:c||"html-wagmi-4.2.2"}},shouldFlushEvents(){let a=JSON.stringify(j.pendingEvents).length/1024>45,b=j.lastFlush+1e4<Date.now();return a||b},_setPendingEvent(a){try{e.ChainController.getAccountData()?.address,"address"in a.data&&a.data.address&&a.data.address,i.includes(a.data.event);return}catch(a){console.warn("_setPendingEvent",a)}},sendEvent(a){j.timestamp=Date.now(),j.data=a,(f.OptionsController.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(a.event))&&k._setPendingEvent(j),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(a){j.walletImpressions.push(a)},_transformPendingEventsForBatch(a){try{return a.filter(a=>{let b=a.props.event;return"WALLET_IMPRESSION"!==b})}catch{return a}},_submitPendingEvents(){if(j.lastFlush=Date.now(),0!==j.pendingEvents.length||0!==j.walletImpressions.length)try{let a=k._transformPendingEventsForBatch(j.pendingEvents);j.walletImpressions.length&&a.push({eventId:c.CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION",items:[...j.walletImpressions]}}),h.sendBeacon({path:"/batch",params:k.getSdkProperties(),body:a}),j.reportedErrors.FORBIDDEN=!1,j.pendingEvents=[],j.walletImpressions=[]}catch(a){j.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){j.subscribedToVisibilityChange||"undefined"!=typeof document&&(j.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&k._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{k._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{k._submitPendingEvents()}),setInterval(()=>{k._submitPendingEvents()},1e4))}}},602383,284799,786183,667625,371188,109450,353292,346280,862723,916451,877548,305077,411210,a=>{"use strict";let b,c;a.s(["ChainController",()=>ar],602383);var d=a.i(583335),e=a.i(316266),f=a.i(883148),g=a.i(447649),h=a.i(922848);a.s(["BalanceUtil",()=>U],862723);var i=a.i(115521),j=a.i(57407),k=a.i(473439);a.s(["ConnectionController",()=>Q],346280);var l=a.i(435044);a.s(["ConnectionControllerUtil",()=>J],353292),a.s(["ConnectorController",()=>I],109450);var m=a.i(436868),n=a.i(83965),o=a.i(43161),p=a.i(82228),q=a.i(929581),r=a.i(321590),s=a.i(94702);a.s(["RouterController",()=>B],667625),a.s(["ModalController",()=>z],786183);var t=a.i(135323),u=a.i(262275),v=a.i(242528);let w=(0,d.proxy)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),x={state:w,subscribe:a=>(0,d.subscribe)(w,()=>a(w)),subscribeOpen:a=>(0,e.subscribeKey)(w,"open",a),set(a){Object.assign(w,{...w,...a})}};a.s(["PublicStateController",0,x],284799);let y=(0,d.proxy)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),z=(0,q.withErrorBoundary)({state:y,subscribe:a=>(0,d.subscribe)(y,()=>a(y)),subscribeKey:(a,b)=>(0,e.subscribeKey)(y,a,b),async open(a){let b=a?.namespace,c=ar.state.activeChain,d=b&&b!==c,e=ar.getAccountData(a?.namespace)?.caipAddress,f=ar.state.noAdapters;if(Q.state.wcBasic?r.ApiController.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await r.ApiController.prefetch(),I.setFilterByNamespace(a?.namespace),z.setLoading(!0,b),b&&d){let a=ar.getNetworkData(b)?.caipNetwork||ar.getRequestedCaipNetworks(b)[0];a&&(f?(await ar.switchActiveNetwork(a),B.push("ConnectingWalletConnectBasic")):u.NetworkUtil.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0}))}else s.OptionsController.state.manualWCControl||f&&!e?t.CoreHelperUtil.isMobile()?B.reset("AllWallets"):B.reset("ConnectingWalletConnectBasic"):a?.view?B.reset(a.view,a.data):e?B.reset("Account"):B.reset("Connect");y.open=!0,x.set({open:!0}),v.EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!e}})},close(){let a=s.OptionsController.state.enableEmbedded,b=!!ar.state.activeCaipAddress;y.open&&v.EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:b}}),y.open=!1,B.reset("Connect"),z.clearLoading(),a?b?B.replace("Account"):B.push("Connect"):x.set({open:!1}),Q.resetUri()},setLoading(a,b){b&&y.loadingNamespaceMap.set(b,a),y.loading=a,x.set({loading:a})},clearLoading(){y.loadingNamespaceMap.clear(),y.loading=!1,x.set({loading:!1})},shake(){y.shake||(y.shake=!0,setTimeout(()=>{y.shake=!1},500))}}),A=(0,d.proxy)({view:"Connect",history:["Connect"],transactionStack:[]}),B=(0,q.withErrorBoundary)({state:A,subscribeKey:(a,b)=>(0,e.subscribeKey)(A,a,b),pushTransactionStack(a){A.transactionStack.push(a)},popTransactionStack(a){let b=A.transactionStack.pop();if(!b)return;let{onSuccess:c,onError:d,onCancel:e}=b;switch(a){case"success":c?.();break;case"error":d?.(),B.goBack();break;case"cancel":e?.(),B.goBack()}},push(a,b){a!==A.view&&(A.view=a,A.history.push(a),A.data=b)},reset(a,b){A.view=a,A.history=[a],A.data=b},replace(a,b){A.history.at(-1)!==a&&(A.view=a,A.history[A.history.length-1]=a,A.data=b)},goBack(){let a=ar.state.activeCaipAddress,b="ConnectingFarcaster"===B.state.view,c=!a&&b;if(A.history.length>1){A.history.pop();let[b]=A.history.slice(-1);b&&(a&&"Connect"===b?A.view="Account":A.view=b)}else z.close();A.data?.wallet&&(A.data.wallet=void 0),A.data?.redirectView&&(A.data.redirectView=void 0),setTimeout(()=>{if(c){ar.setAccountProp("farcasterUrl",void 0,ar.state.activeChain);let a=I.getAuthConnector();a?.provider?.reload();let b=(0,d.snapshot)(s.OptionsController.state);a?.provider?.syncDappData?.({metadata:b.metadata,sdkVersion:b.sdkVersion,projectId:b.projectId,sdkType:b.sdkType})}},100)},goBackToIndex(a){if(A.history.length>1){A.history=A.history.slice(0,a+1);let[b]=A.history.slice(-1);b&&(A.view=b)}},goBackOrCloseModal(){B.state.history.length>1?B.goBack():z.close()}});a.s(["ThemeController",()=>E],371188);let C=(0,d.proxy)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),D={state:C,subscribe:a=>(0,d.subscribe)(C,()=>a(C)),setThemeMode(a){C.themeMode=a;try{let b=I.getAuthConnector();if(b){let c=D.getSnapshot().themeVariables;b.provider.syncTheme({themeMode:a,themeVariables:c,w3mThemeVariables:(0,m.getW3mThemeVariables)(c,a)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(a){C.themeVariables={...C.themeVariables,...a};try{let a=I.getAuthConnector();if(a){let b=D.getSnapshot().themeVariables;a.provider.syncTheme({themeVariables:b,w3mThemeVariables:(0,m.getW3mThemeVariables)(C.themeVariables,C.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,d.snapshot)(C)},E=(0,q.withErrorBoundary)(D),F=Object.fromEntries(g.AVAILABLE_NAMESPACES.map(a=>[a,void 0])),G=Object.fromEntries(g.AVAILABLE_NAMESPACES.map(a=>[a,!0])),H=(0,d.proxy)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:F,filterByNamespaceMap:G}),I=(0,q.withErrorBoundary)({state:H,subscribe:a=>(0,d.subscribe)(H,()=>{a(H)}),subscribeKey:(a,b)=>(0,e.subscribeKey)(H,a,b),initialize(a){a.forEach(a=>{let b=p.StorageUtil.getConnectedConnectorId(a);b&&I.setConnectorId(b,a)})},setActiveConnector(a){a&&(H.activeConnector=(0,d.ref)(a))},setConnectors(a){a.filter(a=>!H.allConnectors.some(b=>b.id===a.id&&I.getConnectorName(b.name)===I.getConnectorName(a.name)&&b.chain===a.chain)).forEach(a=>{"MULTI_CHAIN"!==a.type&&H.allConnectors.push((0,d.ref)(a))});let b=I.getEnabledNamespaces(),c=I.getEnabledConnectors(b);H.connectors=I.mergeMultiChainConnectors(c)},filterByNamespaces(a){Object.keys(H.filterByNamespaceMap).forEach(a=>{H.filterByNamespaceMap[a]=!1}),a.forEach(a=>{H.filterByNamespaceMap[a]=!0}),I.updateConnectorsForEnabledNamespaces()},filterByNamespace(a,b){H.filterByNamespaceMap[a]=b,I.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let a=I.getEnabledNamespaces(),b=I.getEnabledConnectors(a),c=I.areAllNamespacesEnabled();H.connectors=I.mergeMultiChainConnectors(b),c?r.ApiController.clearFilterByNamespaces():r.ApiController.filterByNamespaces(a)},getEnabledNamespaces:()=>Object.entries(H.filterByNamespaceMap).filter(([a,b])=>b).map(([a])=>a),getEnabledConnectors:a=>H.allConnectors.filter(b=>a.includes(b.chain)),areAllNamespacesEnabled:()=>Object.values(H.filterByNamespaceMap).every(a=>a),mergeMultiChainConnectors(a){let b=I.generateConnectorMapByName(a),c=[];return b.forEach(a=>{let b=a[0],d=b?.id===f.ConstantsUtil.CONNECTOR_ID.AUTH;a.length>1&&b?c.push({name:b.name,imageUrl:b.imageUrl,imageId:b.imageId,connectors:[...a],type:d?"AUTH":"MULTI_CHAIN",chain:"eip155",id:b?.id||""}):b&&c.push(b)}),c},generateConnectorMapByName(a){let b=new Map;return a.forEach(a=>{let{name:c}=a,d=I.getConnectorName(c);if(!d)return;let e=b.get(d)||[];e.find(b=>b.chain===a.chain)||e.push(a),b.set(d,e)}),b},getConnectorName:a=>a&&({"Trust Wallet":"Trust"})[a]||a,getUniqueConnectorsByName(a){let b=[];return a.forEach(a=>{b.find(b=>b.chain===a.chain)||b.push(a)}),b},addConnector(a){if(a.id===f.ConstantsUtil.CONNECTOR_ID.AUTH){let b=(0,d.snapshot)(s.OptionsController.state),c=E.getSnapshot().themeMode,e=E.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:b.metadata,sdkVersion:b.sdkVersion,projectId:b.projectId,sdkType:b.sdkType}),a?.provider?.syncTheme({themeMode:c,themeVariables:e,w3mThemeVariables:(0,m.getW3mThemeVariables)(e,c)}),I.setConnectors([a])}else I.setConnectors([a])},getAuthConnector(a){let b=a||ar.state.activeChain,c=H.connectors.find(a=>a.id===f.ConstantsUtil.CONNECTOR_ID.AUTH);if(c)return c?.connectors?.length?c.connectors.find(a=>a.chain===b):c},getAnnouncedConnectorRdns:()=>H.connectors.filter(a=>"ANNOUNCED"===a.type).map(a=>a.info?.rdns),getConnectorById:a=>H.allConnectors.find(b=>b.id===a),getConnector({id:a,rdns:b,namespace:c}){let d=c||ar.state.activeChain;return H.allConnectors.filter(a=>a.chain===d).find(c=>c.explorerId===a||c.info?.rdns===b)},syncIfAuthConnector(a){if("ID_AUTH"!==a.id)return;let b=(0,d.snapshot)(s.OptionsController.state),c=E.getSnapshot().themeMode,e=E.getSnapshot().themeVariables;a?.provider?.syncDappData?.({metadata:b.metadata,sdkVersion:b.sdkVersion,sdkType:b.sdkType,projectId:b.projectId}),a.provider.syncTheme({themeMode:c,themeVariables:e,w3mThemeVariables:(0,m.getW3mThemeVariables)(e,c)})},getConnectorsByNamespace(a){let b=H.allConnectors.filter(b=>b.chain===a);return I.mergeMultiChainConnectors(b)},canSwitchToSmartAccount:a=>ar.checkIfSmartAccountEnabled()&&(0,l.getPreferredAccountType)(a)===n.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,selectWalletConnector(a){let b=B.state.data?.redirectView,c=I.getConnector({id:a.id,rdns:a.rdns});o.MobileWalletUtil.handleMobileDeeplinkRedirect(c?.explorerId||a.id,ar.state.activeChain),c?B.push("ConnectingExternal",{connector:c,wallet:a,redirectView:b}):B.push("ConnectingWalletConnect",{wallet:a,redirectView:b})},getConnectors:a=>a?I.getConnectorsByNamespace(a):I.mergeMultiChainConnectors(H.allConnectors),setFilterByNamespace(a){H.filterByNamespace=a,H.connectors=I.getConnectors(a),r.ApiController.setFilterByNamespace(a)},setConnectorId(a,b){a&&(H.activeConnectorIds={...H.activeConnectorIds,[b]:a},p.StorageUtil.setConnectedConnectorId(b,a))},removeConnectorId(a){H.activeConnectorIds={...H.activeConnectorIds,[a]:void 0},p.StorageUtil.deleteConnectedConnectorId(a)},getConnectorId(a){if(a)return H.activeConnectorIds[a]},isConnected:a=>a?!!H.activeConnectorIds[a]:Object.values(H.activeConnectorIds).some(a=>!!a),resetConnectorIds(){H.activeConnectorIds={...F}}}),J={getConnectionStatus(a,b){let c=I.state.activeConnectorIds[b],d=Q.getConnections(b);return c&&a.connectorId===c?"connected":d.some(b=>b.connectorId.toLowerCase()===a.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:a,connectorId:b,addresses:c})=>a.map(a=>{if(b&&a.connectorId.toLowerCase()===b.toLowerCase()&&c){let b=a.accounts.filter(a=>!c.some(b=>b.toLowerCase()===a.address.toLowerCase()));return{...a,accounts:b}}return a}),excludeExistingConnections(a,b){let c=new Set(a);return b.filter(a=>!c.has(a.connectorId))},getConnectionsByConnectorId:(a,b)=>a.filter(a=>a.connectorId.toLowerCase()===b.toLowerCase()),getConnectionsData(a){let b=!!s.OptionsController.state.remoteFeatures?.multiWallet,c=I.state.activeConnectorIds[a],d=Q.getConnections(a),e=(Q.state.recentConnections.get(a)??[]).filter(a=>I.getConnectorById(a.connectorId)),f=J.excludeExistingConnections([...d.map(a=>a.connectorId),...c?[c]:[]],e);return b?{connections:d,recentConnections:f}:{connections:d.filter(a=>a.connectorId.toLowerCase()===c?.toLowerCase()),recentConnections:[]}}};var K=a.i(977601);let L={checkNamespaceConnectorId:(a,b)=>I.getConnectorId(a)===b,isSocialProvider:a=>K.ConstantsUtil.DEFAULT_REMOTE_FEATURES.socials.includes(a),connectWalletConnect:({walletConnect:a,connector:b,closeModalOnConnect:c=!0,redirectViewOnModalClose:d="Connect",onOpen:e,onConnect:f})=>new Promise((g,i)=>{if(a&&I.setActiveConnector(b),e?.(t.CoreHelperUtil.isMobile()&&a),d){let a=z.subscribeKey("open",b=>{b||(B.state.view!==d&&B.replace(d),a(),i(Error("Modal closed")))})}let j=ar.subscribeKey("activeCaipAddress",a=>{a&&(f?.(),c&&z.close(),j(),g(h.ParseUtil.parseCaipAddress(a)))})}),connectExternal:a=>new Promise((b,c)=>{let d=ar.subscribeKey("activeCaipAddress",a=>{a&&(z.close(),d(),b(h.ParseUtil.parseCaipAddress(a)))});Q.connectExternal(a,a.chain).catch(()=>{d(),c(Error("Connection rejected"))})}),connectSocial({social:a,namespace:b,closeModalOnConnect:c=!0,onOpenFarcaster:e,onConnect:g}){let i=ar.getAccountData(b),j=i?.socialWindow,k=i?.socialProvider,l=!1,m=null,n=b||ar.state.activeChain,o=ar.subscribeKey("activeCaipAddress",a=>{a&&(c&&z.close(),o())});return new Promise((b,c)=>{async function o(a){if(a.data?.resultUri)if(a.origin===f.ConstantsUtil.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",o,!1);try{let d=I.getAuthConnector(n);if(d&&!l){let e=ar.getAccountData(n);j&&(j.close(),ar.setAccountProp("socialWindow",void 0,n),j=e?.socialWindow),l=!0;let f=a.data.resultUri;if(k&&v.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:k}}),k){p.StorageUtil.setConnectedSocialProvider(k),await Q.connectExternal({id:d.id,type:d.type,socialUri:f},d.chain);let a=ar.state.activeCaipAddress;if(!a)return void c(Error("Failed to connect"));b(h.ParseUtil.parseCaipAddress(a)),v.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:k}})}}}catch(a){k&&v.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:k,message:t.CoreHelperUtil.parseError(a)}}),c(Error("Failed to connect"))}}else k&&v.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:k,message:"Untrusted Origin"}})}!async function(){if(a){let b=ar.getAccountData(n);ar.setAccountProp("socialProvider",a,n),k=b?.socialProvider,v.EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:k}})}if("farcaster"===k){e?.();let b=z.subscribeKey("open",d=>{d||"farcaster"!==a||(c(Error("Popup closed")),g?.(),b())}),d=I.getAuthConnector();if(d){let a=ar.getAccountData(n);if(!a?.farcasterUrl)try{let{url:a}=await d.provider.getFarcasterUri();ar.setAccountProp("farcasterUrl",a,n)}catch{c(Error("Failed to connect to farcaster"))}}}else{let a=I.getAuthConnector();m=t.CoreHelperUtil.returnOpenHref(`${f.ConstantsUtil.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(a&&k){let{uri:b}=await a.provider.getSocialRedirectUri({provider:k});if(m&&b){ar.setAccountProp("socialWindow",(0,d.ref)(m),n),j=i?.socialWindow,m.location.href=b;let a=setInterval(()=>{j?.closed&&!l&&(c(Error("Popup closed")),clearInterval(a))},1e3);window.addEventListener("message",o,!1)}else m?.close(),c(Error("Failed to initiate social connection"))}}catch{c(Error("Failed to initiate social connection")),m?.close()}}}()})},connectEmail:({closeModalOnConnect:a=!0,redirectViewOnModalClose:b="Connect",onOpen:c,onConnect:d})=>new Promise((e,f)=>{if(c?.(),b){let a=z.subscribeKey("open",c=>{c||(B.state.view!==b&&B.replace(b),a(),f(Error("Modal closed")))})}let g=ar.subscribeKey("activeCaipAddress",b=>{b&&(d?.(),a&&z.close(),g(),e(h.ParseUtil.parseCaipAddress(b)))})}),async updateEmail(){let a=p.StorageUtil.getConnectedConnectorId(ar.state.activeChain),b=I.getAuthConnector();if(!b)throw Error("No auth connector found");if(a!==f.ConstantsUtil.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let c=b.provider.getEmail()??"";return await z.open({view:"UpdateEmailWallet",data:{email:c,redirectView:void 0}}),new Promise((a,d)=>{let e=setInterval(()=>{let d=b.provider.getEmail()??"";d!==c&&(z.close(),clearInterval(e),f(),a({email:d}))},1e3),f=z.subscribeKey("open",a=>{a||("Connect"!==B.state.view&&B.push("Connect"),clearInterval(e),f(),d(Error("Modal closed")))})})},canSwitchToSmartAccount:a=>ar.checkIfSmartAccountEnabled()&&(0,l.getPreferredAccountType)(a)===n.W3mFrameRpcConstants.ACCOUNT_TYPES.EOA};var M=a.i(531657);let N=(0,d.proxy)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),O=(0,q.withErrorBoundary)({state:N,subscribe:a=>(0,d.subscribe)(N,()=>a(N)),setLastNetworkInView(a){N.lastNetworkInView=a},async fetchTransactions(a){if(!a)throw Error("Transactions can't be fetched without an accountAddress");N.loading=!0;try{let b=await k.BlockchainApiController.fetchTransactions({account:a,cursor:N.next,chainId:ar.state.activeCaipNetwork?.caipNetworkId}),c=O.filterSpamTransactions(b.data),d=O.filterByConnectedChain(c),e=[...N.transactions,...d];N.loading=!1,N.transactions=e,N.transactionsByYear=O.groupTransactionsByYearAndMonth(N.transactionsByYear,d),N.empty=0===e.length,N.next=b.next?b.next:void 0}catch(c){let b=ar.state.activeChain;v.EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:a,projectId:s.OptionsController.state.projectId,cursor:N.next,isSmartAccount:(0,l.getPreferredAccountType)(b)===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),M.SnackController.showError("Failed to fetch transactions"),N.loading=!1,N.empty=!0,N.next=void 0}},groupTransactionsByYearAndMonth:(a={},b=[])=>(b.forEach(b=>{let c=new Date(b.metadata.minedAt).getFullYear(),d=new Date(b.metadata.minedAt).getMonth(),e=a[c]??{},f=(e[d]??[]).filter(a=>a.id!==b.id);a[c]={...e,[d]:[...f,b].sort((a,b)=>new Date(b.metadata.minedAt).getTime()-new Date(a.metadata.minedAt).getTime())}}),a),filterSpamTransactions:a=>a.filter(a=>!a.transfers.every(a=>a.nft_info?.flags.is_spam===!0)),filterByConnectedChain(a){let b=ar.state.activeCaipNetwork?.caipNetworkId;return a.filter(a=>a.metadata.chain===b)},clearCursor(){N.next=void 0},resetTransactions(){N.transactions=[],N.transactionsByYear={},N.lastNetworkInView=void 0,N.loading=!1,N.empty=!1,N.next=void 0}},"API_ERROR"),P=(0,d.proxy)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),Q=(0,q.withErrorBoundary)({state:P,subscribe:a=>(0,d.subscribe)(P,()=>a(P)),subscribeKey:(a,b)=>(0,e.subscribeKey)(P,a,b),_getClient:()=>P._client,setClient(a){P._client=(0,d.ref)(a)},initialize(a){let b=a.filter(a=>!!a.namespace).map(a=>a.namespace);Q.syncStorageConnections(b)},syncStorageConnections(a){let b=p.StorageUtil.getConnections();for(let c of a??Array.from(ar.state.chains.keys())){let a=b[c]??[],d=new Map(P.recentConnections);d.set(c,a),P.recentConnections=d}},getConnections:a=>a?P.connections.get(a)??[]:[],hasAnyConnection:a=>Array.from(Q.state.connections.values()).flatMap(a=>a).some(({connectorId:b})=>b===a),async connectWalletConnect({cache:a="auto"}={}){let c=t.CoreHelperUtil.isTelegram()||t.CoreHelperUtil.isSafari()&&t.CoreHelperUtil.isIos();if("always"===a||"auto"===a&&c){if(b){await b,b=void 0;return}if(!t.CoreHelperUtil.isPairingExpired(P?.wcPairingExpiry)){let a=P.wcUri;P.wcUri=a;return}b=Q._getClient()?.connectWalletConnect?.().catch(()=>void 0),Q.state.status="connecting",await b,b=void 0,P.wcPairingExpiry=void 0,Q.state.status="connected"}else await Q._getClient()?.connectWalletConnect?.()},async connectExternal(a,b,c=!0){let d=await Q._getClient()?.connectExternal?.(a);return c&&ar.setActiveNamespace(b),d},async reconnectExternal(a){await Q._getClient()?.reconnectExternal?.(a);let b=a.chain||ar.state.activeChain;b&&I.setConnectorId(a.id,b)},async setPreferredAccountType(a,b){if(!b)return;z.setLoading(!0,ar.state.activeChain);let c=I.getAuthConnector();c&&(ar.setAccountProp("preferredAccountType",a,b),await c.provider.setPreferredAccount(a),p.StorageUtil.setPreferredAccountTypes(Object.entries(ar.state.chains).reduce((a,[b,c])=>{let d=(0,l.getPreferredAccountType)(b);return void 0!==d&&(a[b]=d),a},{})),await Q.reconnectExternal(c),z.setLoading(!1,ar.state.activeChain),v.EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:a,network:ar.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async a=>Q._getClient()?.signMessage(a),parseUnits:(a,b)=>Q._getClient()?.parseUnits(a,b),formatUnits:(a,b)=>Q._getClient()?.formatUnits(a,b),updateBalance:a=>Q._getClient()?.updateBalance(a),sendTransaction:async a=>Q._getClient()?.sendTransaction(a),getCapabilities:async a=>Q._getClient()?.getCapabilities(a),grantPermissions:async a=>Q._getClient()?.grantPermissions(a),walletGetAssets:async a=>Q._getClient()?.walletGetAssets(a)??{},estimateGas:async a=>Q._getClient()?.estimateGas(a),writeContract:async a=>Q._getClient()?.writeContract(a),getEnsAddress:async a=>Q._getClient()?.getEnsAddress(a),getEnsAvatar:async a=>Q._getClient()?.getEnsAvatar(a),checkInstalled:a=>Q._getClient()?.checkInstalled?.(a)||!1,resetWcConnection(){P.wcUri=void 0,P.wcPairingExpiry=void 0,P.wcLinking=void 0,P.recentWallet=void 0,P.status="disconnected",O.resetTransactions(),p.StorageUtil.deleteWalletConnectDeepLink(),p.StorageUtil.deleteRecentWallet()},resetUri(){P.wcUri=void 0,P.wcPairingExpiry=void 0,b=void 0},finalizeWcConnection(a){let{wcLinking:b,recentWallet:c}=Q.state;b&&p.StorageUtil.setWalletConnectDeepLink(b),c&&p.StorageUtil.setAppKitRecent(c),a&&v.EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a,properties:{method:b?"mobile":"qrcode",name:B.state.data?.wallet?.name||"Unknown",view:B.state.view,walletRank:c?.order}})},setWcBasic(a){P.wcBasic=a},setUri(a){P.wcUri=a,P.wcPairingExpiry=t.CoreHelperUtil.getPairingExpiry()},setWcLinking(a){P.wcLinking=a},setWcError(a){P.wcError=a,P.buffering=!1},setRecentWallet(a){P.recentWallet=a},setBuffering(a){P.buffering=a},setStatus(a){P.status=a},setIsSwitchingConnection(a){P.isSwitchingConnection=a},async disconnect({id:a,namespace:b,initialDisconnect:c}={}){try{await Q._getClient()?.disconnect({id:a,chainNamespace:b,initialDisconnect:c})}catch(a){throw new q.AppKitError("Failed to disconnect","INTERNAL_SDK_ERROR",a)}},async disconnectConnector({id:a,namespace:b}){try{await Q._getClient()?.disconnectConnector({id:a,namespace:b})}catch(a){throw new q.AppKitError("Failed to disconnect connector","INTERNAL_SDK_ERROR",a)}},setConnections(a,b){let c=new Map(P.connections);c.set(b,a),P.connections=c},async handleAuthAccountSwitch({address:a,namespace:b}){let c=ar.getAccountData(b),d=c?.user?.accounts?.find(a=>"smartAccount"===a.type),e=d&&d.address.toLowerCase()===a.toLowerCase()&&L.canSwitchToSmartAccount(b)?"smartAccount":"eoa";await Q.setPreferredAccountType(e,b)},async handleActiveConnection({connection:a,namespace:b,address:c}){let d=I.getConnectorById(a.connectorId),e=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!d)throw Error(`No connector found for connection: ${a.connectorId}`);if(e)e&&c&&await Q.handleAuthAccountSwitch({address:c,namespace:b});else{let a=await Q.connectExternal({id:d.id,type:d.type,provider:d.provider,address:c,chain:b},b);return a?.address}return c},async handleDisconnectedConnection({connection:a,namespace:b,address:c,closeModalOnConnect:d}){let e,g=I.getConnectorById(a.connectorId),h=a.auth?.name?.toLowerCase(),i=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.AUTH,j=a.connectorId===f.ConstantsUtil.CONNECTOR_ID.WALLET_CONNECT;if(!g)throw Error(`No connector found for connection: ${a.connectorId}`);if(i)if(h&&L.isSocialProvider(h)){let{address:a}=await L.connectSocial({social:h,closeModalOnConnect:d,onOpenFarcaster(){z.open({view:"ConnectingFarcaster"})},onConnect(){B.replace("ProfileWallets")}});e=a}else{let{address:a}=await L.connectEmail({closeModalOnConnect:d,onOpen(){z.open({view:"EmailLogin"})},onConnect(){B.replace("ProfileWallets")}});e=a}else if(j){let{address:a}=await L.connectWalletConnect({walletConnect:!0,connector:g,closeModalOnConnect:d,onOpen(a){let b=a?"AllWallets":"ConnectingWalletConnect";z.state.open?B.push(b):z.open({view:b})},onConnect(){B.replace("ProfileWallets")}});e=a}else{let a=await Q.connectExternal({id:g.id,type:g.type,provider:g.provider,chain:b},b);a&&(e=a.address)}return i&&c&&await Q.handleAuthAccountSwitch({address:c,namespace:b}),e},async switchConnection({connection:a,address:b,namespace:c,closeModalOnConnect:d,onChange:e}){let f,g=ar.getAccountData(c)?.caipAddress;if(g){let{address:a}=h.ParseUtil.parseCaipAddress(g);f=a}let i=J.getConnectionStatus(a,c);switch(i){case"connected":case"active":{let d=await Q.handleActiveConnection({connection:a,namespace:c,address:b});if(f&&d){let a=d.toLowerCase()!==f.toLowerCase();e?.({address:d,namespace:c,hasSwitchedAccount:a,hasSwitchedWallet:"active"===i})}break}case"disconnected":{let f=await Q.handleDisconnectedConnection({connection:a,namespace:c,address:b,closeModalOnConnect:d});f&&e?.({address:f,namespace:c,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${i}`)}}}),R={createBalance(a,b){let c={name:a.metadata.name||"",symbol:a.metadata.symbol||"",decimals:a.metadata.decimals||0,value:a.metadata.value||0,price:a.metadata.price||0,iconUrl:a.metadata.iconUrl||""};return{name:c.name,symbol:c.symbol,chainId:b,address:"native"===a.address?void 0:this.convertAddressToCAIP10Address(a.address,b),value:c.value,price:c.price,quantity:{decimals:c.decimals.toString(),numeric:this.convertHexToBalance({hex:a.balance,decimals:c.decimals})},iconUrl:c.iconUrl}},convertHexToBalance:({hex:a,decimals:b})=>(0,j.formatUnits)(BigInt(a),b),convertAddressToCAIP10Address:(a,b)=>`${b}:${a}`,createCAIP2ChainId:(a,b)=>`${b}:${parseInt(a,16)}`,getChainIdHexFromCAIP2ChainId(a){let b=a.split(":");if(b.length<2||!b[1])return"0x0";let c=parseInt(b[1],10);return isNaN(c)?"0x0":`0x${c.toString(16)}`},isWalletGetAssetsResponse(a){return"object"==typeof a&&null!==a&&Object.values(a).every(a=>Array.isArray(a)&&a.every(a=>this.isValidAsset(a)))},isValidAsset:a=>"object"==typeof a&&null!==a&&"string"==typeof a.address&&"string"==typeof a.balance&&("ERC20"===a.type||"NATIVE"===a.type)&&"object"==typeof a.metadata&&null!==a.metadata&&"string"==typeof a.metadata.name&&"string"==typeof a.metadata.symbol&&"number"==typeof a.metadata.decimals&&"number"==typeof a.metadata.price&&"string"==typeof a.metadata.iconUrl};async function S(){if(!c){let{createPublicClient:b,http:d,defineChain:e}=await a.A(74508);c={createPublicClient:b,http:d,defineChain:e}}return c}let T={getBlockchainApiRpcUrl(a,b){let c=new URL("https://rpc.walletconnect.org/v1/");return c.searchParams.set("chainId",a),c.searchParams.set("projectId",b),c.toString()},async getViemChain(a){let{defineChain:b}=await S(),{chainId:c}=h.ParseUtil.parseCaipNetworkId(a.caipNetworkId);return b({...a,id:Number(c)})},async createViemPublicClient(a){let{createPublicClient:b,http:c}=await S(),d=s.OptionsController.state.projectId,e=await T.getViemChain(a);if(!e)throw Error(`Chain ${a.caipNetworkId} not found in viem/chains`);return b({chain:e,transport:c(T.getBlockchainApiRpcUrl(a.caipNetworkId,d))})}},U={async getMyTokensWithBalance(a){let b=ar.getAccountData()?.address,c=ar.state.activeCaipNetwork,d=I.getConnectorId("eip155")===f.ConstantsUtil.CONNECTOR_ID.AUTH;if(!b||!c)return[];let e=`${c.caipNetworkId}:${b}`,g=p.StorageUtil.getBalanceCacheForCaipAddress(e);if(g)return g.balances;if(c.chainNamespace===f.ConstantsUtil.CHAIN.EVM&&d){let a=await this.getEIP155Balances(b,c);if(a)return this.filterLowQualityTokens(a)}let h=await k.BlockchainApiController.getBalance(b,c.caipNetworkId,a);return this.filterLowQualityTokens(h.balances)},async getEIP155Balances(a,b){try{let c=R.getChainIdHexFromCAIP2ChainId(b.caipNetworkId),d=await Q.getCapabilities(a);if(!d?.[c]?.assetDiscovery?.supported)return null;let e=await Q.walletGetAssets({account:a,chainFilter:[c]});if(!R.isWalletGetAssetsResponse(e))return null;let f=(e[c]||[]).map(a=>R.createBalance(a,b.caipNetworkId));return p.StorageUtil.updateBalanceCache({caipAddress:`${b.caipNetworkId}:${a}`,balance:{balances:f},timestamp:Date.now()}),f}catch(a){return null}},filterLowQualityTokens:a=>a.filter(a=>"0"!==a.quantity.decimals),async fetchERC20Balance({caipAddress:a,assetAddress:b,caipNetwork:c}){let d=await T.createViemPublicClient(c),{address:e}=h.ParseUtil.parseCaipAddress(a),[{result:f},{result:g},{result:k},{result:l}]=await d.multicall({contracts:[{address:b,functionName:"name",args:[],abi:i.erc20Abi},{address:b,functionName:"symbol",args:[],abi:i.erc20Abi},{address:b,functionName:"balanceOf",args:[e],abi:i.erc20Abi},{address:b,functionName:"decimals",args:[],abi:i.erc20Abi}]});return{name:f,symbol:g,decimals:l,balance:k&&l?(0,j.formatUnits)(k,l):"0"}}};a.s(["SendController",()=>am],411210);let V={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(a){try{if("object"==typeof a&&null!==a){let b="string"==typeof a.message,c="number"==typeof a.code;return b&&c}return!1}catch{return!1}},isUserRejectedMessage:a=>a.toLowerCase().includes("user rejected")||a.toLowerCase().includes("user cancelled")||a.toLowerCase().includes("user canceled"),isUserRejectedRequestError:a=>V.isRpcProviderError(a)?a.code===V.RPC_ERROR_CODE.USER_REJECTED_REQUEST||V.isUserRejectedMessage(a.message):a instanceof Error&&V.isUserRejectedMessage(a.message)};class W extends Error{constructor(a,b){super(b.message,{cause:a}),this.name=V.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=b.code}}class X extends W{constructor(a){super(a,{code:V.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=V.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}a.s(["ErrorUtil",0,V,"UserRejectedRequestError",()=>X],916451);var Y="[big.js] ",Z=Y+"Invalid ",$=Z+"decimal places",_=Z+"rounding mode",aa=Y+"Division by zero",ab={},ac=void 0,ad=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function ae(a,b,c,d){var e=a.c;if(c===ac&&(c=a.constructor.RM),0!==c&&1!==c&&2!==c&&3!==c)throw Error(_);if(b<1)d=3===c&&(d||!!e[0])||0===b&&(1===c&&e[0]>=5||2===c&&(e[0]>5||5===e[0]&&(d||e[1]!==ac))),e.length=1,d?(a.e=a.e-b+1,e[0]=1):e[0]=a.e=0;else if(b<e.length){if(d=1===c&&e[b]>=5||2===c&&(e[b]>5||5===e[b]&&(d||e[b+1]!==ac||1&e[b-1]))||3===c&&(d||!!e[0]),e.length=b,d){for(;++e[--b]>9;)if(e[b]=0,0===b){++a.e,e.unshift(1);break}}for(b=e.length;!e[--b];)e.pop()}return a}function af(a,b,c){var d=a.e,e=a.c.join(""),f=e.length;if(b)e=e.charAt(0)+(f>1?"."+e.slice(1):"")+(d<0?"e":"e+")+d;else if(d<0){for(;++d;)e="0"+e;e="0."+e}else if(d>0)if(++d>f)for(d-=f;d--;)e+="0";else d<f&&(e=e.slice(0,d)+"."+e.slice(d));else f>1&&(e=e.charAt(0)+"."+e.slice(1));return a.s<0&&c?"-"+e:e}ab.abs=function(){var a=new this.constructor(this);return a.s=1,a},ab.cmp=function(a){var b,c=this.c,d=(a=new this.constructor(a)).c,e=this.s,f=a.s,g=this.e,h=a.e;if(!c[0]||!d[0])return c[0]?e:d[0]?-f:0;if(e!=f)return e;if(b=e<0,g!=h)return g>h^b?1:-1;for(e=-1,f=(g=c.length)<(h=d.length)?g:h;++e<f;)if(c[e]!=d[e])return c[e]>d[e]^b?1:-1;return g==h?0:g>h^b?1:-1},ab.div=function(a){var b=this.constructor,c=this.c,d=(a=new b(a)).c,e=this.s==a.s?1:-1,f=b.DP;if(f!==~~f||f<0||f>1e6)throw Error($);if(!d[0])throw Error(aa);if(!c[0])return a.s=e,a.c=[a.e=0],a;var g,h,i,j,k,l=d.slice(),m=g=d.length,n=c.length,o=c.slice(0,g),p=o.length,q=a,r=q.c=[],s=0,t=f+(q.e=this.e-a.e)+1;for(q.s=e,e=t<0?0:t,l.unshift(0);p++<g;)o.push(0);do{for(i=0;i<10;i++){if(g!=(p=o.length))j=g>p?1:-1;else for(k=-1,j=0;++k<g;)if(d[k]!=o[k]){j=d[k]>o[k]?1:-1;break}if(j<0){for(h=p==g?d:l;p;){if(o[--p]<h[p]){for(k=p;k&&!o[--k];)o[k]=9;--o[k],o[p]+=10}o[p]-=h[p]}for(;!o[0];)o.shift()}else break}r[s++]=j?i:++i,o[0]&&j?o[p]=c[m]||0:o=[c[m]]}while((m++<n||o[0]!==ac)&&e--)return!r[0]&&1!=s&&(r.shift(),q.e--,t--),s>t&&ae(q,t,b.RM,o[0]!==ac),q},ab.eq=function(a){return 0===this.cmp(a)},ab.gt=function(a){return this.cmp(a)>0},ab.gte=function(a){return this.cmp(a)>-1},ab.lt=function(a){return 0>this.cmp(a)},ab.lte=function(a){return 1>this.cmp(a)},ab.minus=ab.sub=function(a){var b,c,d,e,f=this.constructor,g=this.s,h=(a=new f(a)).s;if(g!=h)return a.s=-h,this.plus(a);var i=this.c.slice(),j=this.e,k=a.c,l=a.e;if(!i[0]||!k[0])return k[0]?a.s=-h:i[0]?a=new f(this):a.s=1,a;if(g=j-l){for((e=g<0)?(g=-g,d=i):(l=j,d=k),d.reverse(),h=g;h--;)d.push(0);d.reverse()}else for(c=((e=i.length<k.length)?i:k).length,g=h=0;h<c;h++)if(i[h]!=k[h]){e=i[h]<k[h];break}if(e&&(d=i,i=k,k=d,a.s=-a.s),(h=(c=k.length)-(b=i.length))>0)for(;h--;)i[b++]=0;for(h=b;c>g;){if(i[--c]<k[c]){for(b=c;b&&!i[--b];)i[b]=9;--i[b],i[c]+=10}i[c]-=k[c]}for(;0===i[--h];)i.pop();for(;0===i[0];)i.shift(),--l;return i[0]||(a.s=1,i=[l=0]),a.c=i,a.e=l,a},ab.mod=function(a){var b,c=this,d=c.constructor,e=c.s,f=(a=new d(a)).s;if(!a.c[0])throw Error(aa);return(c.s=a.s=1,b=1==a.cmp(c),c.s=e,a.s=f,b)?new d(c):(e=d.DP,f=d.RM,d.DP=d.RM=0,c=c.div(a),d.DP=e,d.RM=f,this.minus(c.times(a)))},ab.neg=function(){var a=new this.constructor(this);return a.s=-a.s,a},ab.plus=ab.add=function(a){var b,c,d,e=this.constructor;if(a=new e(a),this.s!=a.s)return a.s=-a.s,this.minus(a);var f=this.e,g=this.c,h=a.e,i=a.c;if(!g[0]||!i[0])return i[0]||(g[0]?a=new e(this):a.s=this.s),a;if(g=g.slice(),b=f-h){for(b>0?(h=f,d=i):(b=-b,d=g),d.reverse();b--;)d.push(0);d.reverse()}for(g.length-i.length<0&&(d=i,i=g,g=d),b=i.length,c=0;b;g[b]%=10)c=(g[--b]=g[b]+i[b]+c)/10|0;for(c&&(g.unshift(c),++h),b=g.length;0===g[--b];)g.pop();return a.c=g,a.e=h,a},ab.pow=function(a){var b=this,c=new b.constructor("1"),d=c,e=a<0;if(a!==~~a||a<-1e6||a>1e6)throw Error(Z+"exponent");for(e&&(a=-a);1&a&&(d=d.times(b)),a>>=1;)b=b.times(b);return e?c.div(d):d},ab.prec=function(a,b){if(a!==~~a||a<1||a>1e6)throw Error(Z+"precision");return ae(new this.constructor(this),a,b)},ab.round=function(a,b){if(a===ac)a=0;else if(a!==~~a||a<-1e6||a>1e6)throw Error($);return ae(new this.constructor(this),a+this.e+1,b)},ab.sqrt=function(){var a,b,c,d=this.constructor,e=this.s,f=this.e,g=new d("0.5");if(!this.c[0])return new d(this);if(e<0)throw Error(Y+"No square root");0===(e=Math.sqrt(+af(this,!0,!0)))||e===1/0?((b=this.c.join("")).length+f&1||(b+="0"),f=((f+1)/2|0)-(f<0||1&f),a=new d(((e=Math.sqrt(b))==1/0?"5e":(e=e.toExponential()).slice(0,e.indexOf("e")+1))+f)):a=new d(e+""),f=a.e+(d.DP+=4);do c=a,a=g.times(c.plus(this.div(c)));while(c.c.slice(0,f).join("")!==a.c.slice(0,f).join(""))return ae(a,(d.DP-=4)+a.e+1,d.RM)},ab.times=ab.mul=function(a){var b,c=this.constructor,d=this.c,e=(a=new c(a)).c,f=d.length,g=e.length,h=this.e,i=a.e;if(a.s=this.s==a.s?1:-1,!d[0]||!e[0])return a.c=[a.e=0],a;for(a.e=h+i,f<g&&(b=d,d=e,e=b,i=f,f=g,g=i),b=Array(i=f+g);i--;)b[i]=0;for(h=g;h--;){for(g=0,i=f+h;i>h;)g=b[i]+e[h]*d[i-h-1]+g,b[i--]=g%10,g=g/10|0;b[i]=g}for(g?++a.e:b.shift(),h=b.length;!b[--h];)b.pop();return a.c=b,a},ab.toExponential=function(a,b){var c=this,d=c.c[0];if(a!==ac){if(a!==~~a||a<0||a>1e6)throw Error($);for(c=ae(new c.constructor(c),++a,b);c.c.length<a;)c.c.push(0)}return af(c,!0,!!d)},ab.toFixed=function(a,b){var c=this,d=c.c[0];if(a!==ac){if(a!==~~a||a<0||a>1e6)throw Error($);for(c=ae(new c.constructor(c),a+c.e+1,b),a=a+c.e+1;c.c.length<a;)c.c.push(0)}return af(c,!1,!!d)},ab[Symbol.for("nodejs.util.inspect.custom")]=ab.toJSON=ab.toString=function(){var a=this.constructor;return af(this,this.e<=a.NE||this.e>=a.PE,!!this.c[0])},ab.toNumber=function(){var a=+af(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(a.toString()))throw Error(Y+"Imprecise conversion");return a},ab.toPrecision=function(a,b){var c=this,d=c.constructor,e=c.c[0];if(a!==ac){if(a!==~~a||a<1||a>1e6)throw Error(Z+"precision");for(c=ae(new d(c),a,b);c.c.length<a;)c.c.push(0)}return af(c,a<=c.e||c.e<=d.NE||c.e>=d.PE,!!e)},ab.valueOf=function(){var a=this.constructor;if(!0===a.strict)throw Error(Y+"valueOf disallowed");return af(this,this.e<=a.NE||this.e>=a.PE,!0)};var ag=function a(){function b(c){if(!(this instanceof b))return c===ac?a():new b(c);if(c instanceof b)this.s=c.s,this.e=c.e,this.c=c.c.slice();else{if("string"!=typeof c){if(!0===b.strict&&"bigint"!=typeof c)throw TypeError(Z+"value");c=0===c&&1/c<0?"-0":String(c)}!function(a,b){var c,d,e;if(!ad.test(b))throw Error(Z+"number");for(a.s="-"==b.charAt(0)?(b=b.slice(1),-1):1,(c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),e=b.length,d=0;d<e&&"0"==b.charAt(d);)++d;if(d==e)a.c=[a.e=0];else{for(;e>0&&"0"==b.charAt(--e););for(a.e=c-d-1,a.c=[],c=0;d<=e;)a.c[c++]=+b.charAt(d++)}}(this,c)}this.constructor=b}return b.prototype=ab,b.DP=20,b.RM=1,b.NE=-7,b.PE=21,b.strict=!1,b.roundDown=0,b.roundHalfUp=1,b.roundHalfEven=2,b.roundUp=3,b}();let ah={bigNumber:a=>new ag(a?a:0),multiply(a,b){if(void 0===a||void 0===b)return new ag(0);let c=new ag(a),d=new ag(b);return c.times(d)},toFixed:(a,b=2)=>void 0===a||""===a?new ag(0).toFixed(b):new ag(a).toFixed(b),formatNumberToLocalString:(a,b=2)=>void 0===a||""===a?"0.00":"number"==typeof a?a.toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}):parseFloat(a).toLocaleString("en-US",{maximumFractionDigits:b,minimumFractionDigits:b,roundingMode:"floor"}),parseLocalStringToNumber:a=>void 0===a||""===a?0:new ag(a.replace(/,/gu,"")).toNumber()};a.s(["NumberUtil",0,ah],877548);let ai=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],aj=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];a.s(["SwapApiUtil",()=>ak],305077);let ak={async getTokenList(a){let b=await k.BlockchainApiController.fetchSwapTokens({chainId:a});return b?.tokens?.map(a=>({...a,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let a=ar.state.activeCaipNetwork;if(!a)return null;try{if("solana"!==a.chainNamespace)return await k.BlockchainApiController.fetchGasPrice({chainId:a.caipNetworkId});{let a=(await Q?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:a,fast:a,instant:a}}}catch{return null}},async fetchSwapAllowance({tokenAddress:a,userAddress:b,sourceTokenAmount:c,sourceTokenDecimals:d}){let e=await k.BlockchainApiController.fetchSwapAllowance({tokenAddress:a,userAddress:b});if(e?.allowance&&c&&d){let a=Q.parseUnits(c,d)||0;return BigInt(e.allowance)>=a}return!1},async getMyTokensWithBalance(a){let b=await U.getMyTokensWithBalance(a);return ar.setAccountProp("tokenBalance",b,ar.state.activeChain),this.mapBalancesToSwapTokens(b)},mapBalancesToSwapTokens:a=>a?.map(a=>({...a,address:a?.address?a.address:(0,l.getActiveNetworkTokenAddress)(),decimals:parseInt(a.quantity.decimals,10),logoUri:a.iconUrl,eip2612:!1}))||[],async handleSwapError(a){try{let b=a?.cause;if(!b?.json)return;let c=await b.json(),d=c?.reasons?.[0]?.description;if(d?.includes("insufficient liquidity"))return"Insufficient liquidity";return}catch{return}}},al=(0,d.proxy)({tokenBalances:[],loading:!1}),am=(0,q.withErrorBoundary)({state:al,subscribe:a=>(0,d.subscribe)(al,()=>a(al)),subscribeKey:(a,b)=>(0,e.subscribeKey)(al,a,b),setToken(a){a&&(al.token=(0,d.ref)(a))},setTokenAmount(a){al.sendTokenAmount=a},setReceiverAddress(a){al.receiverAddress=a},setReceiverProfileImageUrl(a){al.receiverProfileImageUrl=a},setReceiverProfileName(a){al.receiverProfileName=a},setNetworkBalanceInUsd(a){al.networkBalanceInUSD=a},setLoading(a){al.loading=a},getSdkEventProperties:a=>({message:t.CoreHelperUtil.parseError(a),isSmartAccount:(0,l.getPreferredAccountType)(ar.state.activeChain)===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:al.token?.symbol||"",amount:al.sendTokenAmount??0,network:ar.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(am.setLoading(!0),ar.state.activeCaipNetwork?.chainNamespace){case"eip155":await am.sendEvmToken();return;case"solana":await am.sendSolanaToken();return;default:throw Error("Unsupported chain")}}catch(a){if(V.isUserRejectedRequestError(a))throw new X(a);throw a}finally{am.setLoading(!1)}},async sendEvmToken(){let a=ar.state.activeChain;if(!a)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let b=(0,l.getPreferredAccountType)(a);if(!am.state.sendTokenAmount||!am.state.receiverAddress)throw Error("An amount and receiver address are required");if(!am.state.token)throw Error("A token is required");if(am.state.token?.address){v.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:am.state.token.address,amount:am.state.sendTokenAmount,network:ar.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await am.sendERC20Token({receiverAddress:am.state.receiverAddress,tokenAddress:am.state.token.address,sendTokenAmount:am.state.sendTokenAmount,decimals:am.state.token.quantity.decimals});a&&(al.hash=a)}else{v.EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:b===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:am.state.token.symbol||"",amount:am.state.sendTokenAmount,network:ar.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:a}=await am.sendNativeToken({receiverAddress:am.state.receiverAddress,sendTokenAmount:am.state.sendTokenAmount,decimals:am.state.token.quantity.decimals});a&&(al.hash=a)}},async fetchTokenBalance(a){al.loading=!0;let b=ar.state.activeChain,c=ar.state.activeCaipNetwork?.caipNetworkId,d=ar.state.activeCaipNetwork?.chainNamespace,e=ar.getAccountData(b)?.caipAddress??ar.state.activeCaipAddress,f=e?t.CoreHelperUtil.getPlainAddress(e):void 0;if(al.lastRetry&&!t.CoreHelperUtil.isAllowedRetry(al.lastRetry,30*K.ConstantsUtil.ONE_SEC_MS))return al.loading=!1,[];try{if(f&&c&&d){let a=await U.getMyTokensWithBalance();return al.tokenBalances=a,al.lastRetry=void 0,a}}catch(b){al.lastRetry=Date.now(),a?.(b),M.SnackController.showError("Token Balance Unavailable")}finally{al.loading=!1}return[]},fetchNetworkBalance(){if(0===al.tokenBalances.length)return;let a=ak.mapBalancesToSwapTokens(al.tokenBalances);if(!a)return;let b=a.find(a=>a.address===(0,l.getActiveNetworkTokenAddress)());b&&(al.networkBalanceInUSD=b?ah.multiply(b.quantity.numeric,b.price).toString():"0")},async sendNativeToken(a){B.pushTransactionStack({});let b=a.receiverAddress,c=ar.getAccountData()?.address,d=Q.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),e=await Q.sendTransaction({chainNamespace:f.ConstantsUtil.CHAIN.EVM,to:b,address:c,data:"0x",value:d??BigInt(0)});return v.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,l.getPreferredAccountType)("eip155")===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:am.state.token?.symbol||"",amount:a.sendTokenAmount,network:ar.state.activeCaipNetwork?.caipNetworkId||"",hash:e||""}}),Q._getClient()?.updateBalance("eip155"),am.resetSend(),{hash:e}},async sendERC20Token(a){B.pushTransactionStack({onSuccess(){B.replace("Account")}});let b=Q.parseUnits(a.sendTokenAmount.toString(),Number(a.decimals)),c=ar.getAccountData()?.address;if(c&&a.sendTokenAmount&&a.receiverAddress&&a.tokenAddress){let d,e=t.CoreHelperUtil.getPlainAddress(a.tokenAddress);if(!e)throw Error("SendController:sendERC20Token - tokenAddress is required");let g=await Q.writeContract({fromAddress:c,tokenAddress:e,args:[a.receiverAddress,b??BigInt(0)],method:"transfer",abi:(d=e,f.ConstantsUtil.USDT_CONTRACT_ADDRESSES.includes(d)?aj:ai),chainNamespace:f.ConstantsUtil.CHAIN.EVM});return v.EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,l.getPreferredAccountType)("eip155")===n.W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:am.state.token?.symbol||"",amount:a.sendTokenAmount,network:ar.state.activeCaipNetwork?.caipNetworkId||"",hash:g||""}}),am.resetSend(),{hash:g}}return{hash:void 0}},async sendSolanaToken(){let a;if(!am.state.sendTokenAmount||!am.state.receiverAddress)throw Error("An amount and receiver address are required");B.pushTransactionStack({onSuccess(){B.replace("Account")}}),am.state.token&&am.state.token.address!==K.ConstantsUtil.SOLANA_NATIVE_TOKEN_ADDRESS&&(a=t.CoreHelperUtil.isCaipAddress(am.state.token.address)?t.CoreHelperUtil.getPlainAddress(am.state.token.address):am.state.token.address);let b=await Q.sendTransaction({chainNamespace:"solana",tokenMint:a,to:am.state.receiverAddress,value:am.state.sendTokenAmount});b&&(al.hash=b),Q._getClient()?.updateBalance("solana"),am.resetSend()},resetSend(){al.token=void 0,al.sendTokenAmount=void 0,al.receiverAddress=void 0,al.receiverProfileImageUrl=void 0,al.receiverProfileName=void 0,al.loading=!1,al.tokenBalances=[]}}),an={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},ao={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ap=(0,d.proxy)({chains:(0,e.proxyMap)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),aq={state:ap,subscribe:a=>(0,d.subscribe)(ap,()=>{a(ap)}),subscribeKey:(a,b)=>(0,e.subscribeKey)(ap,a,b),subscribeAccountStateProp(a,b,c){let d=c||ap.activeChain;return d?(0,e.subscribeKey)(ap.chains.get(d)?.accountState||{},a,b):()=>void 0},subscribeChainProp(a,b,c){let e;return(0,d.subscribe)(ap.chains,()=>{let d=c||ap.activeChain;if(d){let c=ap.chains.get(d)?.[a];e!==c&&(e=c,b(c))}})},initialize(a,b,c){let{chainId:e,namespace:f}=p.StorageUtil.getActiveNetworkProps(),g=b?.find(a=>a.id.toString()===e?.toString()),h=a.find(a=>a?.namespace===f)||a?.[0],i=a.map(a=>a.namespace).filter(a=>void 0!==a),j=new Set(s.OptionsController.state.enableEmbedded?[...i]:[...b?.map(a=>a.chainNamespace)??[]]);a?.length!==0&&h||(ap.noAdapters=!0),!ap.noAdapters&&(ap.activeChain=h?.namespace,ap.activeCaipNetwork=g,ar.setChainNetworkData(h?.namespace,{caipNetwork:g}),ap.activeChain&&x.set({activeChain:h?.namespace})),j.forEach(a=>{let e=b?.filter(b=>b.chainNamespace===a),f=p.StorageUtil.getPreferredAccountTypes()||{},g={...s.OptionsController.state.defaultAccountTypes,...f};ar.state.chains.set(a,{namespace:a,networkState:(0,d.proxy)({...ao,caipNetwork:e?.[0]}),accountState:(0,d.proxy)({...an,preferredAccountType:g[a]}),caipNetworks:e??[],...c}),ar.setRequestedCaipNetworks(e??[],a)})},removeAdapter(a){if(ap.activeChain===a){let b=Array.from(ap.chains.entries()).find(([b])=>b!==a);if(b){let a=b[1]?.caipNetworks?.[0];a&&ar.setActiveCaipNetwork(a)}}ap.chains.delete(a)},addAdapter(a,{networkControllerClient:b,connectionControllerClient:c},d){if(!a.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");ap.chains.set(a.namespace,{namespace:a.namespace,networkState:{...ao,caipNetwork:d[0]},accountState:{...an},caipNetworks:d,connectionControllerClient:c,networkControllerClient:b}),ar.setRequestedCaipNetworks(d?.filter(b=>b.chainNamespace===a.namespace)??[],a.namespace)},addNetwork(a){let b=ap.chains.get(a.chainNamespace);if(b){let c=[...b.caipNetworks||[]];b.caipNetworks?.find(b=>b.id===a.id)||c.push(a),ap.chains.set(a.chainNamespace,{...b,caipNetworks:c}),ar.setRequestedCaipNetworks(c,a.chainNamespace),I.filterByNamespace(a.chainNamespace,!0)}},removeNetwork(a,b){let c=ap.chains.get(a);if(c){let d=ap.activeCaipNetwork?.id===b,e=[...c.caipNetworks?.filter(a=>a.id!==b)||[]];d&&c?.caipNetworks?.[0]&&ar.setActiveCaipNetwork(c.caipNetworks[0]),ap.chains.set(a,{...c,caipNetworks:e}),ar.setRequestedCaipNetworks(e||[],a),0===e.length&&I.filterByNamespace(a,!1)}},setAdapterNetworkState(a,b){let c=ap.chains.get(a);c&&(c.networkState={...c.networkState||ao,...b},ap.chains.set(a,c))},setChainAccountData(a,b,c=!0){if(!a)throw Error("Chain is required to update chain account data");let d=ap.chains.get(a);if(d){let c={...d.accountState||an,...b};ap.chains.set(a,{...d,accountState:c}),(1===ap.chains.size||ap.activeChain===a)&&b.caipAddress&&(ap.activeCaipAddress=b.caipAddress)}},setChainNetworkData(a,b){if(!a)return;let c=ap.chains.get(a);if(c){let d={...c.networkState||ao,...b};ap.chains.set(a,{...c,networkState:d})}},setAccountProp(a,b,c,d=!0){ar.setChainAccountData(c,{[a]:b},d)},setActiveNamespace(a){ap.activeChain=a;let b=a?ap.chains.get(a):void 0,c=b?.networkState?.caipNetwork;c?.id&&a&&(ap.activeCaipAddress=b?.accountState?.caipAddress,ap.activeCaipNetwork=c,ar.setChainNetworkData(a,{caipNetwork:c}),p.StorageUtil.setActiveCaipNetworkId(c?.caipNetworkId),x.set({activeChain:a,selectedNetworkId:c?.caipNetworkId}))},setActiveCaipNetwork(a){if(!a)return;let b=ap.activeChain===a.chainNamespace;b||ar.setIsSwitchingNamespace(!0);let c=ap.chains.get(a.chainNamespace);ap.activeChain=a.chainNamespace,ap.activeCaipNetwork=a,ar.setChainNetworkData(a.chainNamespace,{caipNetwork:a});let d=c?.accountState?.address;if(d)ap.activeCaipAddress=`${a.chainNamespace}:${a.id}:${d}`;else if(b&&ap.activeCaipAddress){let{address:b}=h.ParseUtil.parseCaipAddress(ap.activeCaipAddress);d=b,ap.activeCaipAddress=`${a.caipNetworkId}:${d}`}else ap.activeCaipAddress=void 0;ar.setChainAccountData(a.chainNamespace,{address:d,caipAddress:ap.activeCaipAddress}),am.resetSend(),x.set({activeChain:ap.activeChain,selectedNetworkId:ap.activeCaipNetwork?.caipNetworkId}),p.StorageUtil.setActiveCaipNetworkId(a.caipNetworkId),ar.checkIfSupportedNetwork(a.chainNamespace)||!s.OptionsController.state.enableNetworkSwitch||s.OptionsController.state.allowUnsupportedChain||Q.state.wcBasic||ar.showUnsupportedChainUI()},addCaipNetwork(a){if(!a)return;let b=ap.chains.get(a.chainNamespace);b&&b?.caipNetworks?.push(a)},async switchActiveNamespace(a){if(!a)return;let b=a!==ar.state.activeChain,c=ar.getNetworkData(a)?.caipNetwork,d=ar.getCaipNetworkByNamespace(a,c?.id);b&&d&&await ar.switchActiveNetwork(d)},async switchActiveNetwork(a,{throwOnFailure:b=!1}={}){let c=ar.state.activeChain;if(!c)throw Error("ChainController:switchActiveNetwork - namespace is required");let d=ar.state.chains.get(c),e=!d?.caipNetworks?.some(a=>a.id===ap.activeCaipNetwork?.id),f=ar.getNetworkControllerClient(a.chainNamespace);if(f){try{await f.switchCaipNetwork(a),e&&z.close()}catch(a){if(b)throw a;B.goBack()}v.EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:a.caipNetworkId}})}},getNetworkControllerClient(a){let b=a||ap.activeChain;if(!b)throw Error("ChainController:getNetworkControllerClient - chain is required");let c=ap.chains.get(b);if(!c)throw Error("Chain adapter not found");if(!c.networkControllerClient)throw Error("NetworkController client not set");return c.networkControllerClient},getConnectionControllerClient(a){let b=a||ap.activeChain;if(!b)throw Error("Chain is required to get connection controller client");let c=ap.chains.get(b);if(!c?.connectionControllerClient)throw Error("ConnectionController client not set");return c.connectionControllerClient},getNetworkProp(a,b){let c=ap.chains.get(b)?.networkState;if(c)return c[a]},getRequestedCaipNetworks(a){let b=ap.chains.get(a),{approvedCaipNetworkIds:c=[],requestedCaipNetworks:d=[]}=b?.networkState||{};return t.CoreHelperUtil.sortRequestedNetworks(c,d).filter(a=>a?.id)},getAllRequestedCaipNetworks(){let a=[];return ap.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let c=ar.getRequestedCaipNetworks(b.namespace);a.push(...c)}),a},setRequestedCaipNetworks(a,b){ar.setAdapterNetworkState(b,{requestedCaipNetworks:a});let c=Array.from(new Set(ar.getAllRequestedCaipNetworks().map(a=>a.chainNamespace)));I.filterByNamespaces(c)},getAllApprovedCaipNetworkIds(){let a=[];return ap.chains.forEach(b=>{if(!b.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let c=ar.getApprovedCaipNetworkIds(b.namespace);a.push(...c)}),a},getActiveCaipNetwork:a=>a?ap.chains.get(a)?.networkState?.caipNetwork:ap.activeCaipNetwork,getActiveCaipAddress:()=>ap.activeCaipAddress,getApprovedCaipNetworkIds(a){let b=ap.chains.get(a);return b?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(a){let b=ar.getNetworkControllerClient(),c=await b?.getApprovedCaipNetworksData();ar.setAdapterNetworkState(a,{approvedCaipNetworkIds:c?.approvedCaipNetworkIds,supportsAllNetworks:c?.supportsAllNetworks})},checkIfSupportedNetwork(a,b){let c=b||ap.activeCaipNetwork?.caipNetworkId,d=ar.getRequestedCaipNetworks(a);return!d.length||d?.some(a=>a.caipNetworkId===c)},checkIfSupportedChainId(a){if(!ap.activeChain)return!0;let b=ar.getRequestedCaipNetworks(ap.activeChain);return b?.some(b=>b.id===a)},setSmartAccountEnabledNetworks(a,b){ar.setAdapterNetworkState(b,{smartAccountEnabledNetworks:a})},checkIfSmartAccountEnabled(){let a=g.NetworkUtil.caipNetworkIdToNumber(ap.activeCaipNetwork?.caipNetworkId),b=ap.activeChain;if(!b||!a)return!1;let c=ar.getNetworkProp("smartAccountEnabledNetworks",b);return!!c?.includes(Number(a))},showUnsupportedChainUI(){z.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let a=ap.activeCaipNetwork;return!!(a?.chainNamespace&&K.ConstantsUtil.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(a.chainNamespace))},resetNetwork(a){ar.setAdapterNetworkState(a,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(a){if(!a)throw Error("Chain is required to set account prop");let b=ar.state.chains.get(a)?.accountState?.preferredAccountType,c=s.OptionsController.state.defaultAccountTypes[a];ap.activeCaipAddress=void 0,ar.setChainAccountData(a,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:c||b,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),I.removeConnectorId(a)},setIsSwitchingNamespace(a){ap.isSwitchingNamespace=a},getFirstCaipNetworkSupportsAuthConnector(){let a=[];if(ap.chains.forEach(b=>{f.ConstantsUtil.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===b.namespace)&&b.namespace&&a.push(b.namespace)}),a.length>0){let b=a[0];return b?ap.chains.get(b)?.caipNetworks?.[0]:void 0}},getAccountData(a){let b=a||ap.activeChain;if(b)return ar.state.chains.get(b)?.accountState},getNetworkData(a){let b=a||ap.activeChain;if(b)return ar.state.chains.get(b)?.networkState},getCaipNetworkByNamespace(a,b){if(!a)return;let c=ar.state.chains.get(a),d=c?.caipNetworks?.find(a=>a.id===b);return d||c?.networkState?.caipNetwork||c?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let a=I.state.filterByNamespace;return(a?[ap.chains.get(a)]:Array.from(ap.chains.values())).flatMap(a=>a?.caipNetworks||[]).map(a=>a.caipNetworkId)},getCaipNetworks:a=>a?ar.getRequestedCaipNetworks(a):ar.getAllRequestedCaipNetworks(),getCaipNetworkById:(a,b)=>aq.getCaipNetworks(b).find(b=>b.id.toString()===a.toString()||b.caipNetworkId.toString()===a.toString()),setLastConnectedSIWECaipNetwork(a){ap.lastConnectedSIWECaipNetwork=a},getLastConnectedSIWECaipNetwork:()=>ap.lastConnectedSIWECaipNetwork,async fetchTokenBalance(a){let b=ar.getAccountData();if(!b)return[];let c=ar.state.activeCaipNetwork?.caipNetworkId,d=ar.state.activeCaipNetwork?.chainNamespace,e=ar.state.activeCaipAddress,f=e?t.CoreHelperUtil.getPlainAddress(e):void 0;if(ar.setAccountProp("balanceLoading",!0,d),b.lastRetry&&!t.CoreHelperUtil.isAllowedRetry(b.lastRetry,30*K.ConstantsUtil.ONE_SEC_MS))return ar.setAccountProp("balanceLoading",!1,d),[];try{if(f&&c&&d){let a=await U.getMyTokensWithBalance();return ar.setAccountProp("tokenBalance",a,d),ar.setAccountProp("lastRetry",void 0,d),ar.setAccountProp("balanceLoading",!1,d),a}}catch(b){ar.setAccountProp("lastRetry",Date.now(),d),a?.(b),M.SnackController.showError("Token Balance Unavailable")}finally{ar.setAccountProp("balanceLoading",!1,d)}return[]},isCaipNetworkDisabled(a){let b=a.chainNamespace,c=!!ar.getAccountData(b)?.caipAddress,d=ar.getAllApprovedCaipNetworkIds(),e=!1!==ar.getNetworkProp("supportsAllNetworks",b),g=I.getConnectorId(b),h=I.getAuthConnector(),i=g===f.ConstantsUtil.CONNECTOR_ID.AUTH&&h;return!!c&&!e&&!i&&!d?.includes(a.caipNetworkId)}},ar=(0,q.withErrorBoundary)(aq)},43161,a=>{"use strict";a.s(["CUSTOM_DEEPLINK_WALLETS",()=>d,"MobileWalletUtil",()=>e]);var b=a.i(883148),c=a.i(602383);let d={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},e={handleMobileDeeplinkRedirect(a,e){let f=window.location.href,g=encodeURIComponent(f);if(a===d.PHANTOM.id&&!("phantom"in window)){let a=f.startsWith("https")?"https":"http",b=f.split("/")[2],c=encodeURIComponent(`${a}://${b}`);window.location.href=`${d.PHANTOM.url}/ul/browse/${g}?ref=${c}`}if(a!==d.SOLFLARE.id||"solflare"in window||(window.location.href=`${d.SOLFLARE.url}/ul/v1/browse/${g}?ref=${g}`),e!==b.ConstantsUtil.CHAIN.SOLANA||a!==d.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${d.COINBASE.url}/dapp?cb_url=${g}`),e===b.ConstantsUtil.CHAIN.BITCOIN&&a===d.BINANCE.id&&!("binancew3w"in window)){let a=c.ChainController.state.activeCaipNetwork,b=window.btoa("/pages/browser/index"),e=window.btoa(`url=${g}&defaultChainId=${a?.id??1}`),f=new URL(d.BINANCE.deeplink);f.searchParams.set("appId",d.BINANCE.appId),f.searchParams.set("startPagePath",b),f.searchParams.set("startPageQuery",e);let h=new URL(d.BINANCE.url);h.searchParams.set("_dp",window.btoa(f.toString())),window.location.href=h.toString()}}}},321590,a=>{"use strict";a.s(["ApiController",()=>r]);var b=a.i(583335),c=a.i(316266),d=a.i(883148),e=a.i(898965),f=a.i(135323),g=a.i(939546),h=a.i(43161),i=a.i(82228),j=a.i(706556),k=a.i(602383),l=a.i(109450),m=a.i(242528),n=a.i(94702);let o=f.CoreHelperUtil.getApiUrl(),p=new g.FetchUtil({baseUrl:o,clientId:null}),q=(0,b.proxy)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[]}),r={state:q,subscribeKey:(a,b)=>(0,c.subscribeKey)(q,a,b),_getSdkProperties(){let{projectId:a,sdkType:b,sdkVersion:c}=n.OptionsController.state;return{projectId:a,st:b||"appkit",sv:c||"html-wagmi-4.2.2"}},_filterOutExtensions:a=>n.OptionsController.state.isUniversalProvider?a.filter(a=>!!(a.mobile_link||a.desktop_link||a.webapp_link)):a,async _fetchWalletImage(a){let b=`${p.baseUrl}/getWalletImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setWalletImage(a,URL.createObjectURL(c))},async _fetchNetworkImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setNetworkImage(a,URL.createObjectURL(c))},async _fetchConnectorImage(a){let b=`${p.baseUrl}/public/getAssetImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setConnectorImage(a,URL.createObjectURL(c))},async _fetchCurrencyImage(a){let b=`${p.baseUrl}/public/getCurrencyImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setCurrencyImage(a,URL.createObjectURL(c))},async _fetchTokenImage(a){let b=`${p.baseUrl}/public/getTokenImage/${a}`,c=await p.getBlob({path:b,params:r._getSdkProperties()});j.AssetController.setTokenImage(a,URL.createObjectURL(c))},_filterWalletsByPlatform(a){let b=a.length,c=f.CoreHelperUtil.isMobile()?a?.filter(a=>!!a.mobile_link||!!a.webapp_link||Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id).includes(a.id)):a,d=b-c.length;return{filteredWallets:c,mobileFilteredOutWalletsLength:d}},fetchProjectConfig:async()=>(await p.get({path:"/appkit/v1/config",params:r._getSdkProperties()})).features,async fetchAllowedOrigins(){try{let{allowedOrigins:a}=await p.get({path:"/projects/v1/origins",params:r._getSdkProperties()});return a}catch(a){if(a instanceof Error&&a.cause instanceof Response){let b=a.cause.status;if(b===d.ConstantsUtil.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:a});if(b>=d.ConstantsUtil.HTTP_STATUS_CODES.SERVER_ERROR&&b<600)throw Error("SERVER_ERROR",{cause:a})}return[]}},async fetchNetworkImages(){let a=k.ChainController.getAllRequestedCaipNetworks(),b=a?.map(({assets:a})=>a?.imageId).filter(Boolean).filter(a=>!e.AssetUtil.getNetworkImageById(a));b&&await Promise.allSettled(b.map(a=>r._fetchNetworkImage(a)))},async fetchConnectorImages(){let{connectors:a}=l.ConnectorController.state,b=a.map(({imageId:a})=>a).filter(Boolean);await Promise.allSettled(b.map(a=>r._fetchConnectorImage(a)))},async fetchCurrencyImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchCurrencyImage(a)))},async fetchTokenImages(a=[]){await Promise.allSettled(a.map(a=>r._fetchTokenImage(a)))},async fetchWallets(a){let b=a.exclude??[];r._getSdkProperties().sv.startsWith("html-core-")&&b.push(...Object.values(h.CUSTOM_DEEPLINK_WALLETS).map(a=>a.id));let c=await p.get({path:"/getWallets",params:{...r._getSdkProperties(),...a,page:String(a.page),entries:String(a.entries),include:a.include?.join(","),exclude:b.join(",")}}),{filteredWallets:d,mobileFilteredOutWalletsLength:e}=r._filterWalletsByPlatform(c?.data);return{data:d||[],count:c?.count,mobileFilteredOutWalletsLength:e}},async prefetchWalletRanks(){let a=l.ConnectorController.state.connectors;if(!a?.length)return;let b={page:1,entries:20,badge:"certified"};if(b.names=a.map(a=>a.name).join(","),k.ChainController.state.activeChain===d.ConstantsUtil.CHAIN.EVM){let c=[...a.flatMap(a=>a.connectors?.map(a=>a.info?.rdns)||[]),...a.map(a=>a.info?.rdns)].filter(a=>"string"==typeof a&&a.length>0);c.length&&(b.rdns=c.join(","))}let{data:c}=await r.fetchWallets(b);q.explorerWallets=c;let e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.explorerFilteredWallets=c.filter(a=>a.chains?.some(a=>e.includes(a)))},async fetchFeaturedWallets(){let{featuredWalletIds:a}=n.OptionsController.state;if(a?.length){let b={...r._getSdkProperties(),page:1,entries:a?.length??4,include:a},{data:c}=await r.fetchWallets(b),d=[...c].sort((b,c)=>a.indexOf(b.id)-a.indexOf(c.id)),e=d.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(e.map(a=>r._fetchWalletImage(a))),q.featured=d,q.allFeatured=d}},async fetchRecommendedWallets(){try{q.isFetchingRecommendedWallets=!0;let{includeWalletIds:a,excludeWalletIds:b,featuredWalletIds:c}=n.OptionsController.state,d=[...b??[],...c??[]].filter(Boolean),e=k.ChainController.getRequestedCaipNetworkIds().join(","),{data:f,count:g}=await r.fetchWallets({page:1,entries:4,include:a,exclude:d,chains:e}),h=i.StorageUtil.getRecentWallets(),j=f.map(a=>a.image_id).filter(Boolean),l=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...j,...l].map(a=>r._fetchWalletImage(a))),q.recommended=f,q.allRecommended=f,q.count=g??0}catch{}finally{q.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:a}){let{includeWalletIds:b,excludeWalletIds:c,featuredWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(","),g=[...q.recommended.map(({id:a})=>a),...c??[],...d??[]].filter(Boolean),{data:h,count:i,mobileFilteredOutWalletsLength:j}=await r.fetchWallets({page:a,entries:40,include:b,exclude:g,chains:e});q.mobileFilteredOutWalletsLength=j+(q.mobileFilteredOutWalletsLength??0);let l=h.slice(0,20).map(a=>a.image_id).filter(Boolean);await Promise.allSettled(l.map(a=>r._fetchWalletImage(a))),q.wallets=f.CoreHelperUtil.uniqueBy([...q.wallets,...r._filterOutExtensions(h)],"id").filter(a=>a.chains?.some(a=>e.includes(a))),q.count=i>q.count?i:q.count,q.page=a},async initializeExcludedWallets({ids:a}){let b={page:1,entries:a.length,include:a},{data:c}=await r.fetchWallets(b);c&&c.forEach(a=>{q.excludedWallets.push({rdns:a.rdns,name:a.name})})},async searchWallet({search:a,badge:b}){let{includeWalletIds:c,excludeWalletIds:d}=n.OptionsController.state,e=k.ChainController.getRequestedCaipNetworkIds().join(",");q.search=[];let g={page:1,entries:100,search:a?.trim(),badge_type:b,include:c,exclude:d,chains:e},{data:h}=await r.fetchWallets(g);m.EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:b??"",search:a??""}});let i=h.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...i.map(a=>r._fetchWalletImage(a)),f.CoreHelperUtil.wait(300)]),q.search=r._filterOutExtensions(h)},initPromise(a,b){let c=q.promises[a];return c||(q.promises[a]=b())},prefetch:({fetchConnectorImages:a=!0,fetchFeaturedWallets:b=!0,fetchRecommendedWallets:c=!0,fetchNetworkImages:d=!0,fetchWalletRanks:e=!0}={})=>Promise.allSettled([a&&r.initPromise("connectorImages",r.fetchConnectorImages),b&&r.initPromise("featuredWallets",r.fetchFeaturedWallets),c&&r.initPromise("recommendedWallets",r.fetchRecommendedWallets),d&&r.initPromise("networkImages",r.fetchNetworkImages),e&&r.initPromise("walletRanks",r.prefetchWalletRanks)].filter(Boolean)),prefetchAnalyticsConfig(){n.OptionsController.state.features?.analytics&&r.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:a}=await p.get({path:"/getAnalyticsConfig",params:r._getSdkProperties()});n.OptionsController.setFeatures({analytics:a})}catch(a){n.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(a){if(!a?.length){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))},clearFilterByNamespaces(){q.filteredWallets=[]},setFilterByNamespace(a){if(!a){q.featured=q.allFeatured,q.recommended=q.allRecommended;return}let b=k.ChainController.getRequestedCaipNetworkIds().join(",");q.featured=q.allFeatured.filter(a=>a.chains?.some(a=>b.includes(a))),q.recommended=q.allRecommended.filter(a=>a.chains?.some(a=>b.includes(a))),q.filteredWallets=q.wallets.filter(a=>a.chains?.some(a=>b.includes(a)))}}}];

//# sourceMappingURL=node_modules_%40reown_4053426a._.js.map