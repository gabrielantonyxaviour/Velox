{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/native.js"],"sourcesContent":["import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};"],"names":[],"mappings":";;;;AAAA;;uCACe;IACb,YAAY,gHAAM,CAAC,UAAU;AAC/B","ignoreList":[0]}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/rng.js"],"sourcesContent":["import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,YAAY,IAAI,WAAW,MAAM,qCAAqC;AAE5E,IAAI,UAAU,UAAU,MAAM;AACf,SAAS;IACtB,IAAI,UAAU,UAAU,MAAM,GAAG,IAAI;QACnC,gHAAM,CAAC,cAAc,CAAC;QACtB,UAAU;IACZ;IAEA,OAAO,UAAU,KAAK,CAAC,SAAS,WAAW;AAC7C","ignoreList":[0]}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/regex.js"],"sourcesContent":["export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":[],"mappings":";;;;uCAAe","ignoreList":[0]}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/validate.js"],"sourcesContent":["import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS,SAAS,IAAI;IACpB,OAAO,OAAO,SAAS,YAAY,yNAAK,CAAC,IAAI,CAAC;AAChD;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/stringify.js"],"sourcesContent":["import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;"],"names":[],"mappings":";;;;;;AAAA;;AACA;;;CAGC,GAED,MAAM,YAAY,EAAE;AAEpB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,EAAG;IAC5B,UAAU,IAAI,CAAC,CAAC,IAAI,KAAK,EAAE,QAAQ,CAAC,IAAI,KAAK,CAAC;AAChD;AAEO,SAAS,gBAAgB,GAAG,EAAE,SAAS,CAAC;IAC7C,uEAAuE;IACvE,oFAAoF;IACpF,OAAO,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC;AACpf;AAEA,SAAS,UAAU,GAAG,EAAE,SAAS,CAAC;IAChC,MAAM,OAAO,gBAAgB,KAAK,SAAS,4EAA4E;IACvH,oBAAoB;IACpB,wEAAwE;IACxE,2BAA2B;IAC3B,mEAAmE;IAEnE,IAAI,CAAC,IAAA,4NAAQ,EAAC,OAAO;QACnB,MAAM,UAAU;IAClB;IAEA,OAAO;AACT;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/node_modules/uuid/dist/esm-node/v4.js"],"sourcesContent":["import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,SAAS,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM;IAC9B,IAAI,0NAAM,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS;QACzC,OAAO,0NAAM,CAAC,UAAU;IAC1B;IAEA,UAAU,WAAW,CAAC;IACtB,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,uNAAG,KAAK,gEAAgE;IAEvH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO;IAC3B,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,oCAAoC;IAErE,IAAI,KAAK;QACP,SAAS,UAAU;QAEnB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,EAAG;YAC3B,GAAG,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC,EAAE;QAC3B;QAEA,OAAO;IACT;IAEA,OAAO,IAAA,qOAAe,EAAC;AACzB;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/base64.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/connect/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/helpers.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/AccountAuthenticatorInput.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/AccountInfo.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/PublicKey.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/AccountInput.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/DappInfo.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/EntryFunctionArgument.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/ExtendedNetwork.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/Signature.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/TransactionPayloadInput.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/WalletRequest.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/UserResponse.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/WalletResponse.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/connect/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/disconnect/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/disconnect/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/getConnectedAccounts/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/getConnectedAccounts/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/isConnected/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/isConnected/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signAndSubmitTransaction/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signAndSubmitTransaction/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/AptosSignInInput.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signIn/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/shared/AptosSignInOutput.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signIn/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signMessage/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signMessage/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signTransaction/request.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/features/signTransaction/response.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/messages/common.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/messages/prompt.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/PopupWalletRequest.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-api/src/WalletRequestBody.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport function base64ToBytes(base64: string) {\n  const binaryString = atob(base64);\n  return Uint8Array.from(binaryString, (m) => m.charCodeAt(0));\n}\n\nexport function bytesToBase64(bytes: Uint8Array) {\n  const binaryString = String.fromCharCode(...bytes);\n  return btoa(binaryString);\n}\n\nexport function base64urlToBytes(base64: string) {\n  return base64ToBytes(base64.replace(/-/g, '+').replace(/_/g, '/'));\n}\n\nexport function bytesToBase64url(bytes: Uint8Array) {\n  return bytesToBase64(bytes)\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=+$/, '');\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  Deserializer,\n  Ed25519PrivateKey,\n  Network,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport { isSupportedNetwork } from '../../helpers';\nimport { DappInfo, shelbynet } from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface ClaimOptions {\n  asset?: string;\n  network: Network;\n  secretKey: Ed25519PrivateKey;\n}\n\nexport interface ConnectRequest\n  extends WalletRequest<\n    ConnectRequest.RequestName,\n    ConnectRequest.SupportedVersions\n  > {\n  args: ConnectRequest.Args;\n}\n\nexport namespace ConnectRequest {\n  export const name = 'connect' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3, 4] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 4 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export type Args = {\n    claimOptions?: ClaimOptions;\n    dappEd25519PublicKeyB64?: string;\n    dappId?: string;\n    // Whether to display paired accounts under the specified wallet first\n    preferredWalletName?: string;\n  };\n\n  export function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeOptionStr(value.dappId);\n    serializer.serializeOptionStr(value.dappEd25519PublicKeyB64);\n    serializer.serializeOptionStr(value.preferredWalletName);\n\n    serializer.serializeBool(value.claimOptions !== undefined);\n    if (value.claimOptions) {\n      serializer.serialize(value.claimOptions.secretKey);\n      serializer.serializeStr(value.claimOptions.network);\n      serializer.serializeOptionStr(value.claimOptions.asset);\n      if (!isSupportedNetwork(value.claimOptions.network)) {\n        throw new Error(`Unsupported network '${value.claimOptions.network}'`);\n      }\n    }\n  }\n\n  export function deserializeArgs(\n    deserializer: Deserializer,\n    version: SupportedVersions,\n  ): Args {\n    if (version === 1) {\n      return {};\n    }\n\n    const dappId = deserializer.deserializeOption('string');\n    const dappEd25519PublicKeyB64 = deserializer.deserializeOption('string');\n    const preferredWalletName =\n      version >= 3 ? deserializer.deserializeOption('string') : undefined;\n\n    const hasClaimOptions =\n      version >= 4 ? deserializer.deserializeBool() : false;\n    let claimOptions: ClaimOptions | undefined;\n    if (hasClaimOptions) {\n      const secretKey = deserializer.deserialize(Ed25519PrivateKey);\n      const network = deserializer.deserializeStr();\n      const asset = deserializer.deserializeOption('string');\n\n      if (!isSupportedNetwork(network) || network === shelbynet.name) {\n        throw new Error(`Unsupported network '${network}'`);\n      }\n\n      claimOptions = { asset, network, secretKey };\n    }\n\n    return {\n      claimOptions,\n      dappEd25519PublicKeyB64,\n      dappId,\n      preferredWalletName,\n    };\n  }\n\n  // endregion\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: ConnectRequest.Args = {},\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequestWithArgs(\n      { args, dappInfo, name, version: currentVersion },\n      serializeArgs,\n    );\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): ConnectRequest {\n    return deserializeWalletRequestWithArgs(request, (d) =>\n      deserializeArgs(d, request.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return (\n      request.name === name &&\n      supportedVersions.includes(request.version as SupportedVersions)\n    );\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  Deserializer,\n  Network,\n  NetworkToChainId,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport { ExtendedNetwork, shelbynet } from './shared';\n\nexport type SerializeFn<T> = (serializer: Serializer, value: T) => void;\nexport type DeserializeFn<T> = (deserializer: Deserializer) => T;\n\nexport function chainIdToNetwork(chainId: number): ExtendedNetwork {\n  if (chainId === NetworkToChainId.mainnet) {\n    return Network.MAINNET;\n  }\n  if (chainId === NetworkToChainId.testnet) {\n    return Network.TESTNET;\n  }\n  // At the time of this change, shelbynet's chain id is 59.\n  // In the future, shelbynet will be in the 100-124 range\n  if ((chainId >= 50 && chainId < 100) || (chainId >= 100 && chainId < 125)) {\n    return shelbynet.name;\n  }\n  return Network.DEVNET;\n}\n\nexport function isSupportedNetwork(\n  network: string,\n): network is ExtendedNetwork {\n  return [\n    Network.MAINNET,\n    Network.TESTNET,\n    Network.DEVNET,\n    shelbynet.name,\n  ].includes(network as ExtendedNetwork);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  AccountAuthenticator,\n  Deserializer,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\n\nexport interface AccountAuthenticatorInput {\n  address: AccountAddress;\n  authenticator: AccountAuthenticator;\n}\n\nexport function serializeAccountAuthenticatorInput(\n  serializer: Serializer,\n  value: AccountAuthenticatorInput,\n) {\n  serializer.serialize(value.address);\n  serializer.serialize(value.authenticator);\n}\n\nexport function deserializeAccountAuthenticatorInput(\n  deserializer: Deserializer,\n): AccountAuthenticatorInput {\n  const address = deserializer.deserialize(AccountAddress);\n  const authenticator = deserializer.deserialize(AccountAuthenticator);\n  return { address, authenticator };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  PublicKey,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport { deserializePublicKey, serializePublicKey } from './PublicKey';\n\nexport interface AccountInfo {\n  address: AccountAddress;\n  name?: string;\n  publicKey: PublicKey;\n}\n\nexport function serializeAccountInfo(\n  serializer: Serializer,\n  value: AccountInfo,\n) {\n  serializer.serialize(value.address);\n  serializePublicKey(serializer, value.publicKey);\n  serializer.serializeStr(value.name ?? '');\n}\n\nexport function deserializeAccountInfo(\n  deserializer: Deserializer,\n): AccountInfo {\n  const address = deserializer.deserialize(AccountAddress);\n  const publicKey = deserializePublicKey(deserializer);\n  const name = deserializer.deserializeStr();\n  return {\n    address,\n    publicKey,\n    ...(name.length > 0 ? { name } : undefined),\n  };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AnyPublicKey,\n  Deserializer,\n  Ed25519PublicKey,\n  MultiEd25519PublicKey,\n  MultiKey,\n  PublicKey,\n  Serializer,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\n\nexport function serializePublicKey(serializer: Serializer, value: PublicKey) {\n  if (value instanceof Ed25519PublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.Ed25519);\n  } else if (value instanceof MultiEd25519PublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiEd25519);\n  } else if (value instanceof AnyPublicKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.SingleKey);\n  } else if (value instanceof MultiKey) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiKey);\n  } else {\n    throw new Error('Unexpected public key type');\n  }\n  serializer.serialize(value);\n}\n\nexport function deserializePublicKey(deserializer: Deserializer): PublicKey {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case SigningScheme.Ed25519:\n      return deserializer.deserialize(Ed25519PublicKey);\n    case SigningScheme.MultiEd25519:\n      return deserializer.deserialize(MultiEd25519PublicKey);\n    case SigningScheme.SingleKey:\n      return deserializer.deserialize(AnyPublicKey);\n    case SigningScheme.MultiKey:\n      return deserializer.deserialize(MultiKey);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  PublicKey,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport { deserializePublicKey, serializePublicKey } from './PublicKey';\n\nexport interface AccountInput {\n  address: AccountAddress;\n  publicKey?: PublicKey;\n}\n\nexport function serializeAccountInput(\n  serializer: Serializer,\n  value: AccountInput,\n) {\n  serializer.serialize(value.address);\n  serializer.serializeBool(value.publicKey !== undefined);\n  if (value.publicKey) {\n    serializePublicKey(serializer, value.publicKey);\n  }\n}\n\nexport function deserializeAccountInput(\n  deserializer: Deserializer,\n): AccountInput {\n  const address = deserializer.deserialize(AccountAddress);\n  const hasPublicKey = deserializer.deserializeBool();\n  const publicKey = hasPublicKey\n    ? deserializePublicKey(deserializer)\n    : undefined;\n  return { address, publicKey };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\n\nexport interface DappInfo {\n  domain: string;\n  imageURI?: string;\n  name: string;\n}\n\nexport function serializeDappInfo(serializer: Serializer, value: DappInfo) {\n  serializer.serializeStr(value.domain);\n  serializer.serializeStr(value.name);\n  serializer.serializeBool(value.imageURI !== undefined);\n  if (value.imageURI !== undefined) {\n    serializer.serializeStr(value.imageURI);\n  }\n}\n\nexport function deserializeDappInfo(deserializer: Deserializer): DappInfo {\n  const domain = deserializer.deserializeStr();\n  const name = deserializer.deserializeStr();\n  const hasImageUri = deserializer.deserializeBool();\n  const imageURI = hasImageUri ? deserializer.deserializeStr() : undefined;\n  return { domain, imageURI, name };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  EntryFunctionArgumentTypes,\n  FixedBytes,\n  Serializer,\n  SimpleEntryFunctionArgumentTypes,\n} from '@aptos-labs/ts-sdk';\n\nexport type EntryFunctionArgument =\n  | EntryFunctionArgumentTypes\n  | SimpleEntryFunctionArgumentTypes;\n\n/* eslint-disable @typescript-eslint/no-shadow */\nexport enum EntryFunctionArgumentVariant {\n  Undefined,\n  Array,\n  String,\n  Uint8Array,\n  AccountAddress,\n  FixedBytes,\n}\n\n/* eslint-enable @typescript-eslint/no-shadow */\n\nexport function serializeEntryFunctionArgument(\n  serializer: Serializer,\n  argument: EntryFunctionArgument,\n) {\n  // undefined | null -> undefined\n  if (argument === undefined || argument === null) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Undefined);\n    return;\n  }\n\n  // Array -> Array\n  if (Array.isArray(argument)) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Array);\n    serializer.serializeU32AsUleb128(argument.length);\n    for (const subArgument of argument) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n\n  // boolean | number | bigint | string -> string\n  if (\n    typeof argument === 'string' ||\n    typeof argument === 'number' ||\n    typeof argument === 'boolean' ||\n    typeof argument === 'bigint'\n  ) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.String);\n    serializer.serializeStr(argument.toString());\n    return;\n  }\n\n  // Uint8Array -> Uint8Array\n  if (argument instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Uint8Array);\n    serializer.serializeBytes(argument);\n    return;\n  }\n\n  // ArrayBuffer -> Uint8Array\n  if (argument instanceof ArrayBuffer) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Uint8Array);\n    serializer.serializeBytes(new Uint8Array(argument));\n    return;\n  }\n\n  // MoveVector -> Array\n  if ('values' in argument) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Array);\n    serializer.serializeU32AsUleb128(argument.values.length);\n    for (const subArgument of argument.values) {\n      serializeEntryFunctionArgument(serializer, subArgument);\n    }\n    return;\n  }\n\n  // AccountAddress -> AccountAddress\n  if ('data' in argument) {\n    serializer.serializeU32AsUleb128(\n      EntryFunctionArgumentVariant.AccountAddress,\n    );\n    serializer.serialize(argument);\n    return;\n  }\n\n  // Empty MoveOption -> undefined\n  if (argument.value === undefined) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.Undefined);\n    serializer.serialize(argument);\n    return;\n  }\n\n  // FixedBytes -> FixedBytes\n  if (argument.value instanceof Uint8Array) {\n    serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.FixedBytes);\n    serializer.serializeBytes(argument.value);\n    return;\n  }\n\n  // Bool | U8 | U16 | U32 | U64 | U128 | U256 | MoveString -> string\n  serializer.serializeU32AsUleb128(EntryFunctionArgumentVariant.String);\n  serializer.serializeStr(argument.value.toString());\n}\n\nexport function deserializeEntryFunctionArgument(\n  deserializer: Deserializer,\n): EntryFunctionArgument {\n  const variant =\n    deserializer.deserializeUleb128AsU32() as EntryFunctionArgumentVariant;\n\n  switch (variant) {\n    // undefined | null | empty MoveOption\n    case EntryFunctionArgumentVariant.Undefined: {\n      return undefined;\n    }\n    // Array | MoveVector\n    case EntryFunctionArgumentVariant.Array: {\n      const length = deserializer.deserializeUleb128AsU32();\n      const args: (\n        | EntryFunctionArgumentTypes\n        | SimpleEntryFunctionArgumentTypes\n      )[] = [];\n      for (let i = 0; i < length; i += 1) {\n        const argument = deserializeEntryFunctionArgument(deserializer);\n        args.push(argument);\n      }\n      return args;\n    }\n    // Uint8Array | ArrayBuffer | FixedBytes\n    case EntryFunctionArgumentVariant.Uint8Array: {\n      return deserializer.deserializeBytes();\n    }\n    // AccountAddress\n    case EntryFunctionArgumentVariant.AccountAddress: {\n      return deserializer.deserialize(AccountAddress);\n    }\n    // Bool | U8 | U16 | U32 | U64 | U128 | U256 | MoveString\n    case EntryFunctionArgumentVariant.String: {\n      return deserializer.deserializeStr();\n    }\n    // FixedBytes (custom serialization)\n    case EntryFunctionArgumentVariant.FixedBytes: {\n      const bytes = deserializer.deserializeBytes();\n      return new FixedBytes(bytes);\n    }\n    default: {\n      throw new Error('Unexpected variant');\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Network } from '@aptos-labs/ts-sdk';\n\nconst devnetBaseUrl = 'https://api.devnet.aptoslabs.com';\nconst shelbynetBaseUrl = 'https://api.shelbynet.aptoslabs.com';\n\nexport const shelbynet = {\n  // This is not reliable and might change in future releases, but it's useful to keep around as \"unique id\" for\n  // the frontend\n  chainId: 59,\n  faucetUrl: 'https://faucet.shelbynet.shelby.xyz',\n  indexerUrl: `${shelbynetBaseUrl}/v1/graphql`,\n  name: 'shelbynet' as const,\n  nodeUrl: `${shelbynetBaseUrl}/v1`,\n  // Note: using devnet's keyless services, so we don't have to spin up separate ones\n  pepperUrl: `${devnetBaseUrl}/keyless/pepper/v0`,\n  proverUrl: `${devnetBaseUrl}/keyless/prover/v0`,\n};\n\nexport type ExtendedNetwork = Network | typeof shelbynet.name;\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AnySignature,\n  Deserializer,\n  Ed25519Signature,\n  MultiEd25519Signature,\n  // This type got renamed in the zeta branch, commenting out until it's synced with main\n  // MultiSignature,\n  Serializer,\n  Signature,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\n\nexport function serializeSignature(serializer: Serializer, value: Signature) {\n  if (value instanceof Ed25519Signature) {\n    serializer.serializeU32AsUleb128(SigningScheme.Ed25519);\n  } else if (value instanceof MultiEd25519Signature) {\n    serializer.serializeU32AsUleb128(SigningScheme.MultiEd25519);\n  } else if (value instanceof AnySignature) {\n    serializer.serializeU32AsUleb128(SigningScheme.SingleKey);\n    // } else if (value instanceof MultiSignature) {\n    //   serializer.serializeU32AsUleb128(SigningScheme.MultiKey);\n  } else {\n    throw new Error('Unexpected signature type');\n  }\n  serializer.serialize(value);\n}\n\nexport function deserializeSignature(deserializer: Deserializer) {\n  const signingScheme = deserializer.deserializeUleb128AsU32();\n  switch (signingScheme) {\n    case SigningScheme.Ed25519:\n      return deserializer.deserialize(Ed25519Signature);\n    case SigningScheme.MultiEd25519:\n      return deserializer.deserialize(MultiEd25519Signature);\n    case SigningScheme.SingleKey:\n      return deserializer.deserialize(AnySignature);\n    // case SigningScheme.MultiKey:\n    //   return deserializer.deserialize(MultiSignature);\n    default:\n      throw new Error(`Unknown signing scheme: ${signingScheme}`);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  deserializeFromScriptArgument,\n  Hex,\n  InputGenerateTransactionPayloadData,\n  MoveFunctionId,\n  parseTypeTag,\n  ScriptFunctionArgumentTypes,\n  Serializer,\n  TypeArgument,\n  TypeTag,\n} from '@aptos-labs/ts-sdk';\nimport {\n  deserializeEntryFunctionArgument,\n  EntryFunctionArgument,\n  serializeEntryFunctionArgument,\n} from './EntryFunctionArgument';\n\nexport enum TransactionPayloadInputVariant {\n  EntryFunction,\n  Script,\n  Multisig,\n}\n\n// region Utils\n\nfunction serializeTypeArguments(\n  serializer: Serializer,\n  typeArguments: TypeArgument[],\n) {\n  serializer.serializeU32AsUleb128(typeArguments.length);\n  for (const typeArgument of typeArguments) {\n    const typeTag =\n      typeof typeArgument === 'string'\n        ? parseTypeTag(typeArgument, { allowGenerics: true })\n        : typeArgument;\n    serializer.serialize(typeTag);\n  }\n}\n\nfunction deserializeTypeArguments(deserializer: Deserializer) {\n  const typeArguments: TypeTag[] = [];\n  const typeArgumentsLength = deserializer.deserializeUleb128AsU32();\n  for (let i = 0; i < typeArgumentsLength; i += 1) {\n    const typeTag = deserializer.deserialize(TypeTag);\n    typeArguments.push(typeTag);\n  }\n  return typeArguments;\n}\n\nfunction serializeEntryFunctionArguments(\n  serializer: Serializer,\n  functionArguments: EntryFunctionArgument[],\n) {\n  serializer.serializeU32AsUleb128(functionArguments.length);\n  for (const functionArgument of functionArguments) {\n    serializeEntryFunctionArgument(serializer, functionArgument);\n  }\n}\n\nfunction deserializeEntryFunctionArguments(deserializer: Deserializer) {\n  const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n  const functionArguments: EntryFunctionArgument[] = [];\n  for (let i = 0; i < functionArgumentsLength; i += 1) {\n    const functionArgument = deserializeEntryFunctionArgument(deserializer);\n    functionArguments.push(functionArgument);\n  }\n  return functionArguments;\n}\n\n// endregion\n\nexport function serializeTransactionPayloadInput(\n  serializer: Serializer,\n  value: InputGenerateTransactionPayloadData,\n) {\n  if ('multisigAddress' in value) {\n    serializer.serializeU32AsUleb128(TransactionPayloadInputVariant.Multisig);\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n    const multisigAddress = AccountAddress.from(value.multisigAddress);\n    serializer.serialize(multisigAddress);\n  } else if ('function' in value) {\n    serializer.serializeU32AsUleb128(\n      TransactionPayloadInputVariant.EntryFunction,\n    );\n    serializer.serializeStr(value.function);\n    serializeEntryFunctionArguments(serializer, value.functionArguments);\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n    // TODO: possibly serialize ABI?\n  } else {\n    serializer.serializeU32AsUleb128(TransactionPayloadInputVariant.Script);\n    const bytecode = Hex.fromHexInput(value.bytecode);\n    serializer.serializeBytes(bytecode.toUint8Array());\n    serializer.serializeU32AsUleb128(value.functionArguments.length);\n    for (const argument of value.functionArguments) {\n      argument.serializeForScriptFunction(serializer);\n    }\n    serializeTypeArguments(serializer, value.typeArguments ?? []);\n  }\n}\n\nexport function deserializeTransactionPayloadInput(\n  deserializer: Deserializer,\n): InputGenerateTransactionPayloadData {\n  const variant = deserializer.deserializeUleb128AsU32();\n  switch (variant) {\n    case TransactionPayloadInputVariant.Multisig: {\n      const functionId = deserializer.deserializeStr() as MoveFunctionId;\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      const multisigAddress = deserializer.deserialize(AccountAddress);\n      return {\n        function: functionId,\n        functionArguments,\n        multisigAddress,\n        typeArguments,\n      };\n    }\n    case TransactionPayloadInputVariant.EntryFunction: {\n      const functionId = deserializer.deserializeStr() as MoveFunctionId;\n      const functionArguments = deserializeEntryFunctionArguments(deserializer);\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        function: functionId,\n        functionArguments,\n        typeArguments,\n      };\n    }\n    case TransactionPayloadInputVariant.Script: {\n      const bytecode = deserializer.deserializeBytes();\n      const functionArgumentsLength = deserializer.deserializeUleb128AsU32();\n      const functionArguments: ScriptFunctionArgumentTypes[] = [];\n      for (let i = 0; i < functionArgumentsLength; i += 1) {\n        const argument = deserializeFromScriptArgument(deserializer);\n        functionArguments.push(argument as ScriptFunctionArgumentTypes);\n      }\n      const typeArguments = deserializeTypeArguments(deserializer);\n      return {\n        bytecode,\n        functionArguments,\n        typeArguments,\n      };\n    }\n    default: {\n      throw new Error('Unexpected variant');\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DeserializeFn, SerializeFn } from './helpers';\nimport { DappInfo, deserializeDappInfo, serializeDappInfo } from './shared';\n\nexport interface WalletRequest<\n  RequestName extends string,\n  Version extends number,\n> {\n  dappInfo: DappInfo;\n  name: RequestName;\n  version: Version;\n}\n\nexport interface WalletRequestWithArgs<\n  RequestName extends string,\n  Version extends number,\n  TArgs,\n> extends WalletRequest<RequestName, Version> {\n  args: TArgs;\n}\n\nexport interface SerializedWalletRequest<\n  RequestName extends string = string,\n  Version extends number = number,\n> {\n  data: Uint8Array;\n  name: RequestName;\n  version: Version;\n}\n\nexport function serializeWalletRequest<\n  RequestName extends string,\n  Version extends number,\n>({\n  dappInfo,\n  name,\n  version,\n}: WalletRequest<RequestName, Version>): SerializedWalletRequest<\n  RequestName,\n  Version\n> {\n  const serializer = new Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\n\nexport function deserializeWalletRequest<\n  RequestName extends string,\n  Version extends number,\n>({\n  data,\n  name,\n  version,\n}: SerializedWalletRequest<RequestName, Version>): WalletRequest<\n  RequestName,\n  Version\n> {\n  const deserializer = new Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  return { dappInfo, name, version };\n}\n\nexport function serializeWalletRequestWithArgs<\n  RequestName extends string,\n  Version extends number,\n  TArgs,\n>(\n  {\n    args,\n    dappInfo,\n    name,\n    version,\n  }: WalletRequestWithArgs<RequestName, Version, TArgs>,\n  serializeArgsFn: SerializeFn<TArgs>,\n): SerializedWalletRequest<RequestName, Version> {\n  const serializer = new Serializer();\n  serializeDappInfo(serializer, dappInfo);\n  serializeArgsFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data, name, version };\n}\n\nexport function deserializeWalletRequestWithArgs<\n  RequestName extends string,\n  Version extends number,\n  TArgs,\n>(\n  { data, name, version }: SerializedWalletRequest<RequestName, Version>,\n  deserializeArgsFn: DeserializeFn<TArgs>,\n): WalletRequestWithArgs<RequestName, Version, TArgs> {\n  const deserializer = new Deserializer(data);\n  const dappInfo = deserializeDappInfo(deserializer);\n  const args = deserializeArgsFn(deserializer);\n  return { args, dappInfo, name, version };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DeserializeFn, SerializeFn } from './helpers';\n\nexport interface UserApproval<TApprovalArgs> {\n  args: TApprovalArgs;\n  status: 'approved';\n}\n\nexport interface UserDismissal {\n  status: 'dismissed';\n}\n\nexport type UserResponse<TApprovalArgs> =\n  | UserApproval<TApprovalArgs>\n  | UserDismissal;\n\nexport function makeUserApproval<TApprovalArgs>(\n  args: TApprovalArgs,\n): UserApproval<TApprovalArgs> {\n  return { args, status: 'approved' };\n}\n\nexport function makeUserResponseSerializeFn<TArgs>(\n  serializeArgs: SerializeFn<TArgs>,\n): SerializeFn<UserResponse<TArgs>> {\n  return (serializer: Serializer, value: UserResponse<TArgs>) => {\n    serializer.serializeBool(value.status === 'approved');\n    if (value.status === 'approved') {\n      serializeArgs(serializer, value.args);\n    }\n  };\n}\n\nexport function makeUserResponseDeserializeFn<TArgs>(\n  deserializeArgs: DeserializeFn<TArgs>,\n): DeserializeFn<UserResponse<TArgs>> {\n  return (deserializer: Deserializer) => {\n    const isApproved = deserializer.deserializeBool();\n    return isApproved\n      ? { args: deserializeArgs(deserializer), status: 'approved' }\n      : { status: 'dismissed' };\n  };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DeserializeFn, SerializeFn } from './helpers';\n\nexport interface WalletResponseWithArgs<TResponseArgs> {\n  args: TResponseArgs;\n}\n\nexport interface SerializedWalletResponse {\n  data: Uint8Array;\n}\n\nexport function serializeWalletResponse<TArgs>(\n  args: TArgs,\n  serializeFn: SerializeFn<TArgs>,\n): SerializedWalletResponse {\n  const serializer = new Serializer();\n  serializeFn(serializer, args);\n  const data = serializer.toUint8Array();\n  return { data };\n}\n\nexport function deserializeWalletResponse<TArgs>(\n  { data }: SerializedWalletResponse,\n  deserializeFn: DeserializeFn<TArgs>,\n): WalletResponseWithArgs<TArgs> {\n  const deserializer = new Deserializer(data);\n  const args = deserializeFn(deserializer);\n  return { args };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { FinalizedPairingData, SerializedDate } from '@identity-connect/api';\nimport {\n  type AccountInfo,\n  deserializeAccountInfo,\n  serializeAccountInfo,\n} from '../../shared';\nimport {\n  makeUserResponseDeserializeFn,\n  makeUserResponseSerializeFn,\n  UserResponse,\n} from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface ConnectResponse\n  extends WalletResponseWithArgs<ConnectResponse.Args> {}\n\nexport namespace ConnectResponse {\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 2 as const;\n\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    account: AccountInfo;\n    pairing?: SerializedDate<FinalizedPairingData>;\n  }\n\n  function serializeApprovalArgsV1(\n    serializer: Serializer,\n    value: ApprovalArgs,\n  ) {\n    serializeAccountInfo(serializer, value.account);\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializeAccountInfo(serializer, value.account);\n    serializer.serializeOptionStr(\n      value.pairing !== undefined ? JSON.stringify(value.pairing) : undefined,\n    );\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const account = deserializeAccountInfo(deserializer);\n    const serializedPairing = deserializer.deserializeOption('string');\n    const pairing =\n      serializedPairing !== undefined\n        ? JSON.parse(serializedPairing)\n        : undefined;\n    return { account, pairing };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(\n    deserializeApprovalArgs,\n  );\n\n  // endregion\n\n  type _Response = ConnectResponse;\n\n  export function serialize(\n    args: Args,\n    version: SupportedVersions = currentVersion,\n  ): SerializedWalletResponse {\n    return serializeWalletResponse(\n      args,\n      version === 1 ? serializeArgsV1 : serializeArgs,\n    );\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface DisconnectRequest\n  extends WalletRequest<\n    DisconnectRequest.RequestName,\n    DisconnectRequest.CurrentVersion\n  > {}\n\nexport namespace DisconnectRequest {\n  export const name = 'disconnect' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(\n    dappInfo: DappInfo,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, CurrentVersion>,\n  ): DisconnectRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface DisconnectResponse\n  extends WalletResponseWithArgs<DisconnectResponse.Args> {}\n\nexport namespace DisconnectResponse {\n  export type Args = {};\n  type _Response = DisconnectResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, () => {});\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, () => ({}));\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface GetConnectedAccountsRequest\n  extends WalletRequest<\n    GetConnectedAccountsRequest.RequestName,\n    GetConnectedAccountsRequest.CurrentVersion\n  > {}\n\nexport namespace GetConnectedAccountsRequest {\n  export const name = 'getConnectedAccounts' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(\n    dappInfo: DappInfo,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, CurrentVersion>,\n  ): GetConnectedAccountsRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport {\n  type AccountInfo,\n  deserializeAccountInfo,\n  serializeAccountInfo,\n} from '../../shared';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface GetConnectedAccountsResponse\n  extends WalletResponseWithArgs<GetConnectedAccountsResponse.Args> {}\n\nexport namespace GetConnectedAccountsResponse {\n  // region Args\n\n  export type Args = AccountInfo[];\n\n  function serializeArgs(serializer: Serializer, args: Args) {\n    serializer.serializeU32AsUleb128(args.length);\n    for (const account of args) {\n      serializeAccountInfo(serializer, account);\n    }\n  }\n\n  function deserializeArgs(deserializer: Deserializer): Args {\n    const length = deserializer.deserializeUleb128AsU32();\n\n    const accounts: AccountInfo[] = [];\n    for (let i = 0; i < length; i += 1) {\n      accounts.push(deserializeAccountInfo(deserializer));\n    }\n\n    return accounts;\n  }\n\n  // endregion\n\n  type _Response = GetConnectedAccountsResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequest,\n  SerializedWalletRequest,\n  serializeWalletRequest,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface IsConnectedRequest\n  extends WalletRequest<\n    IsConnectedRequest.RequestName,\n    IsConnectedRequest.CurrentVersion\n  > {}\n\nexport namespace IsConnectedRequest {\n  export const name = 'isConnected' as const;\n  export type RequestName = typeof name;\n\n  export const currentVersion = 1 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  export function serialize(\n    dappInfo: DappInfo,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequest({ dappInfo, name, version: currentVersion });\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, CurrentVersion>,\n  ): IsConnectedRequest {\n    return deserializeWalletRequest(request);\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, CurrentVersion> {\n    return request.name === name && request.version === currentVersion;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface IsConnectedResponse\n  extends WalletResponseWithArgs<IsConnectedResponse.Args> {}\n\nexport namespace IsConnectedResponse {\n  // region Args\n\n  export type Args = boolean;\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeBool(value);\n  }\n\n  function deserializeArgs(deserializer: Deserializer): Args {\n    return deserializer.deserializeBool();\n  }\n\n  // endregion\n\n  type _Response = IsConnectedResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  Deserializer,\n  InputGenerateTransactionPayloadData,\n  Serializer,\n  TransactionPayload,\n} from '@aptos-labs/ts-sdk';\nimport { isSupportedNetwork } from '../../helpers';\nimport {\n  AccountAuthenticatorInput,\n  DappInfo,\n  deserializeAccountAuthenticatorInput,\n  deserializeTransactionPayloadInput,\n  ExtendedNetwork,\n  serializeAccountAuthenticatorInput,\n  serializeTransactionPayloadInput,\n} from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignAndSubmitTransactionRequest\n  extends WalletRequest<\n    SignAndSubmitTransactionRequest.RequestName,\n    SignAndSubmitTransactionRequest.SupportedVersions\n  > {\n  args: SignAndSubmitTransactionRequest.Args;\n}\n\nexport namespace SignAndSubmitTransactionRequest {\n  export const name = 'signAndSubmitTransaction' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3, 4] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 4 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    expirationTimestamp?: number;\n    feePayer?: AccountAuthenticatorInput;\n    gasUnitPrice?: number;\n    maxGasAmount?: number;\n    network?: ExtendedNetwork;\n    payload: TransactionPayload | InputGenerateTransactionPayloadData;\n    signerAddress?: AccountAddress;\n  }\n\n  export function serializeArgs(serializer: Serializer, value: Args) {\n    if (value.network !== undefined && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n\n    serializer.serializeOption(value.network);\n\n    if ('bcsToBytes' in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n    serializer.serializeU32AsUleb128(value.feePayer ? 1 : 0);\n    if (value.feePayer) {\n      serializeAccountAuthenticatorInput(serializer, value.feePayer);\n    }\n  }\n\n  export function deserializeArgs(\n    deserializer: Deserializer,\n    version: SupportedVersions,\n  ): Args {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress\n      ? deserializer.deserialize(AccountAddress)\n      : undefined;\n\n    const network =\n      version === 1\n        ? deserializer.deserializeStr()\n        : deserializer.deserializeOption('string');\n    if (network !== undefined && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n\n    const isPayloadBcsSerializable =\n      version === 1 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable\n      ? deserializer.deserialize(TransactionPayload)\n      : deserializeTransactionPayloadInput(deserializer);\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n    const hasFeePayer = deserializer.deserializeUleb128AsU32();\n    const feePayer = hasFeePayer\n      ? deserializeAccountAuthenticatorInput(deserializer)\n      : undefined;\n\n    return {\n      expirationTimestamp:\n        expirationTimestamp > 0 ? expirationTimestamp : undefined,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : undefined,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : undefined,\n      network,\n      payload,\n      signerAddress,\n    };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: Args,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignAndSubmitTransactionRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (deserializer) =>\n      deserializeArgs(deserializer, serializedRequest.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return (\n      request.name === name &&\n      supportedVersions.includes(request.version as SupportedVersions)\n    );\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport {\n  makeUserResponseDeserializeFn,\n  makeUserResponseSerializeFn,\n  UserResponse,\n} from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignAndSubmitTransactionResponse\n  extends WalletResponseWithArgs<SignAndSubmitTransactionResponse.Args> {}\n\nexport namespace SignAndSubmitTransactionResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    txnHash: string;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serializeStr(value.txnHash);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const txnHash = deserializer.deserializeStr();\n    return { txnHash };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(\n    deserializeApprovalArgs,\n  );\n\n  // endregion\n\n  type _Response = SignAndSubmitTransactionResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { AptosSignInInput } from '@aptos-labs/wallet-standard';\n\nexport function serializeAptosSignInInput(\n  serializer: Serializer,\n  value: AptosSignInInput,\n) {\n  serializer.serializeStr(JSON.stringify(value));\n}\n\nexport function deserializeAptosSignInInput(\n  deserializer: Deserializer,\n): AptosSignInInput {\n  return JSON.parse(deserializer.deserializeStr());\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Network, Serializer } from '@aptos-labs/ts-sdk';\nimport { AptosSignInInput } from '@aptos-labs/wallet-standard';\nimport { isSupportedNetwork } from '../../helpers';\nimport { DappInfo, ExtendedNetwork } from '../../shared';\nimport {\n  deserializeAptosSignInInput,\n  serializeAptosSignInInput,\n} from '../../shared/AptosSignInInput';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignInRequest\n  extends WalletRequest<\n    SignInRequest.RequestName,\n    SignInRequest.SupportedVersions\n  > {\n  args: SignInRequest.Args;\n}\n\nexport namespace SignInRequest {\n  export const name = 'signIn' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n\n  export const currentVersion = 3 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export type Args = AptosSignInInput & {\n    network: ExtendedNetwork;\n  };\n\n  export function serializeArgs(serializer: Serializer, value: Args) {\n    if (value.network !== undefined && !isSupportedNetwork(value.network)) {\n      throw new Error(\n        `Unsupported network '${value.network}' in SignInRequest.serializeArgs`,\n      );\n    }\n\n    serializeAptosSignInInput(serializer, value);\n    serializer.serializeStr(value.network);\n  }\n\n  export function deserializeArgs(\n    deserializer: Deserializer,\n    _: SupportedVersions,\n  ): Args {\n    return {\n      ...deserializeAptosSignInInput(deserializer),\n      network: deserializer.deserializeStr() as Network,\n    };\n  }\n\n  // endregion\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: SignInRequest.Args,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    return serializeWalletRequestWithArgs(\n      { args, dappInfo, name, version: currentVersion },\n      serializeArgs,\n    );\n  }\n\n  export function deserialize(\n    request: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignInRequest {\n    return deserializeWalletRequestWithArgs(request, (d) =>\n      deserializeArgs(d, request.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return (\n      request.name === name &&\n      supportedVersions.includes(request.version as SupportedVersions)\n    );\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { AccountInfo, AptosSignInOutput } from '@aptos-labs/wallet-standard';\nimport { deserializeAccountInfo, serializeAccountInfo } from './AccountInfo';\nimport { deserializeSignature, serializeSignature } from './Signature';\n\nexport function serializeAptosSignInOutputV1(\n  serializer: Serializer,\n  value: AptosSignInOutput & { plainText: string; signingMessage: Uint8Array },\n) {\n  serializeAccountInfo(serializer, value.account);\n  serializer.serializeStr(JSON.stringify(value.input));\n  serializer.serializeStr(value.plainText);\n  serializeSignature(serializer, value.signature);\n  serializer.serializeBytes(value.signingMessage);\n  serializer.serializeStr(value.type);\n}\n\nexport function deserializeAptosSignInOutputV1(\n  deserializer: Deserializer,\n): AptosSignInOutput & { plainText: string; signingMessage: Uint8Array } {\n  return {\n    account: new AccountInfo(deserializeAccountInfo(deserializer)),\n    input: JSON.parse(deserializer.deserializeStr()),\n    plainText: deserializer.deserializeStr(),\n    signature: deserializeSignature(deserializer),\n    signingMessage: deserializer.deserializeBytes(),\n    type: deserializer.deserializeStr(),\n  };\n}\n\nexport function serializeAptosSignInOutput(\n  serializer: Serializer,\n  value: AptosSignInOutput,\n) {\n  serializeAccountInfo(serializer, value.account);\n  serializer.serializeStr(JSON.stringify(value.input));\n  serializeSignature(serializer, value.signature);\n  serializer.serializeStr(value.type);\n}\n\nexport function deserializeAptosSignInOutput(\n  deserializer: Deserializer,\n): AptosSignInOutput {\n  return {\n    account: new AccountInfo(deserializeAccountInfo(deserializer)),\n    input: JSON.parse(deserializer.deserializeStr()),\n    signature: deserializeSignature(deserializer),\n    type: deserializer.deserializeStr(),\n  };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { AptosSignInOutput } from '@aptos-labs/wallet-standard';\nimport {\n  deserializeAptosSignInOutput,\n  deserializeAptosSignInOutputV1,\n  serializeAptosSignInOutput,\n  serializeAptosSignInOutputV1,\n} from '../../shared/AptosSignInOutput';\nimport {\n  makeUserResponseDeserializeFn,\n  makeUserResponseSerializeFn,\n  UserResponse,\n} from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignInResponse\n  extends WalletResponseWithArgs<SignInResponse.Args> {}\n\nexport namespace SignInResponse {\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n\n  export const currentVersion = 2 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region ApprovalArgs\n\n  export interface ApprovalArgsV1 extends AptosSignInOutput {\n    plainText: string;\n    signingMessage: Uint8Array;\n  }\n\n  export interface ApprovalArgs extends AptosSignInOutput {}\n\n  function serializeApprovalArgsV1(\n    serializer: Serializer,\n    value: ApprovalArgsV1,\n  ) {\n    serializeAptosSignInOutputV1(serializer, value);\n  }\n\n  function deserializeApprovalArgsV1(\n    deserializer: Deserializer,\n  ): ApprovalArgsV1 {\n    return deserializeAptosSignInOutputV1(deserializer);\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializeAptosSignInOutput(serializer, value);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    return deserializeAptosSignInOutput(deserializer);\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgsV1 = makeUserResponseSerializeFn(serializeApprovalArgsV1);\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n\n  const deserializeArgsV1 = makeUserResponseDeserializeFn(\n    deserializeApprovalArgsV1,\n  );\n  const deserializeArgs = makeUserResponseDeserializeFn(\n    deserializeApprovalArgs,\n  );\n\n  // endregion\n\n  type _Response = SignInResponse;\n\n  export function serialize(\n    args: Args,\n    version: SupportedVersions = currentVersion,\n  ): SerializedWalletResponse {\n    return serializeWalletResponse(\n      args as any,\n      version === 1 ? serializeArgsV1 : serializeArgs,\n    );\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n    version: SupportedVersions = currentVersion,\n  ): _Response {\n    return deserializeWalletResponse(\n      serializedResponse,\n      version === 1 ? deserializeArgsV1 : deserializeArgs,\n    );\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { AccountAddress, Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { DappInfo } from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignMessageRequest\n  extends WalletRequest<\n    SignMessageRequest.RequestName,\n    SignMessageRequest.SupportedVersions\n  > {\n  args: SignMessageRequest.Args;\n}\n\nexport namespace SignMessageRequest {\n  export const name = 'signMessage' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 2 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    chainId: number;\n    message: Uint8Array;\n    nonce: Uint8Array;\n    signerAddress?: AccountAddress;\n  }\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n    serializer.serializeU8(value.chainId);\n    serializer.serializeBytes(value.nonce);\n    serializer.serializeBytes(value.message);\n  }\n\n  function deserializeArgs(\n    deserializer: Deserializer,\n    version: SupportedVersions,\n  ): Args {\n    const hasSignerAddress = version >= 2 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress\n      ? deserializer.deserialize(AccountAddress)\n      : undefined;\n    const chainId = deserializer.deserializeU8();\n    const nonce = deserializer.deserializeBytes();\n    const message = deserializer.deserializeBytes();\n    return { chainId, message, nonce, signerAddress };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: Args,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignMessageRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (d) =>\n      deserializeArgs(d, serializedRequest.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return request.name === name && request.version === currentVersion;\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport { Deserializer, Serializer, Signature } from '@aptos-labs/ts-sdk';\nimport { deserializeSignature, serializeSignature } from '../../shared';\nimport {\n  makeUserResponseDeserializeFn,\n  makeUserResponseSerializeFn,\n  UserResponse,\n} from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignMessageResponse\n  extends WalletResponseWithArgs<SignMessageResponse.Args> {}\n\nexport namespace SignMessageResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    // Should return message parts\n    fullMessage: string;\n    signature: Signature;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serializeStr(value.fullMessage);\n    serializeSignature(serializer, value.signature);\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const fullMessage = deserializer.deserializeStr();\n    const signature = deserializeSignature(deserializer);\n    return { fullMessage, signature };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(\n    deserializeApprovalArgs,\n  );\n\n  // endregion\n\n  type _Response = SignMessageResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport {\n  AccountAddress,\n  Deserializer,\n  InputGenerateTransactionPayloadData,\n  PublicKey,\n  RawTransaction,\n  Serializer,\n  TransactionPayload,\n} from '@aptos-labs/ts-sdk';\nimport { chainIdToNetwork, isSupportedNetwork } from '../../helpers';\nimport {\n  AccountInput,\n  DappInfo,\n  deserializeAccountInput,\n  deserializeTransactionPayloadInput,\n  ExtendedNetwork,\n  serializeAccountInput,\n  serializeTransactionPayloadInput,\n} from '../../shared';\nimport {\n  deserializeWalletRequestWithArgs,\n  SerializedWalletRequest,\n  serializeWalletRequestWithArgs,\n  WalletRequest,\n} from '../../WalletRequest';\n\nexport interface SignTransactionRequest\n  extends WalletRequest<\n    SignTransactionRequest.RequestName,\n    SignTransactionRequest.SupportedVersions\n  > {\n  args: SignTransactionRequest.Args;\n}\n\nexport namespace SignTransactionRequest {\n  export const name = 'signTransaction' as const;\n  export type RequestName = typeof name;\n\n  export const supportedVersions = [1, 2, 3, 4, 5] as const;\n  export type SupportedVersions = (typeof supportedVersions)[number];\n  export const currentVersion = 5 as const;\n  export type CurrentVersion = typeof currentVersion;\n\n  // region Args\n\n  export interface Args {\n    expirationSecondsFromNow?: number;\n    expirationTimestamp?: number;\n    feePayer?: AccountInput;\n    gasUnitPrice?: number;\n    maxGasAmount?: number;\n    network?: ExtendedNetwork;\n    payload: TransactionPayload | InputGenerateTransactionPayloadData;\n    secondarySigners?: AccountInput[];\n    sender?: AccountInput;\n    sequenceNumber?: number | bigint;\n    signerAddress?: AccountAddress;\n  }\n\n  export interface ArgsWithTransaction {\n    feePayer?: AccountInput;\n    secondarySigners?: AccountInput[];\n    senderPublicKey?: PublicKey;\n    signerAddress?: AccountAddress;\n    transaction: RawTransaction;\n  }\n\n  export function normalizeArgs(args: ArgsWithTransaction): Args {\n    const {\n      feePayer,\n      secondarySigners,\n      senderPublicKey,\n      signerAddress,\n      transaction,\n    } = args;\n\n    const sender: AccountInput = {\n      address: transaction.sender,\n      publicKey: senderPublicKey,\n    };\n\n    const network = chainIdToNetwork(args.transaction.chain_id.chainId);\n\n    return {\n      expirationTimestamp: Number(transaction.expiration_timestamp_secs),\n      feePayer,\n      gasUnitPrice: Number(transaction.gas_unit_price),\n      maxGasAmount: Number(transaction.max_gas_amount),\n      network,\n      payload: transaction.payload,\n      secondarySigners,\n      sender,\n      signerAddress,\n    };\n  }\n\n  function serializeArgs(serializer: Serializer, value: Args) {\n    if (value.network !== undefined && !isSupportedNetwork(value.network)) {\n      throw new Error(`Unsupported network '${value.network}'`);\n    }\n\n    serializer.serializeBool(value.signerAddress !== undefined);\n    if (value.signerAddress !== undefined) {\n      serializer.serialize(value.signerAddress);\n    }\n\n    serializer.serializeOption(value.network);\n    serializer.serializeBool(value.sender !== undefined);\n    if (value.sender !== undefined) {\n      serializeAccountInput(serializer, value.sender);\n    }\n\n    if ('bcsToBytes' in value.payload) {\n      serializer.serializeBool(true);\n      serializer.serialize(value.payload);\n    } else {\n      serializer.serializeBool(false);\n      serializeTransactionPayloadInput(serializer, value.payload);\n    }\n\n    serializer.serializeU32AsUleb128(value.expirationSecondsFromNow ?? 0);\n    serializer.serializeU64(value.expirationTimestamp ?? 0);\n    serializer.serializeU32AsUleb128(value.gasUnitPrice ?? 0);\n    serializer.serializeU32AsUleb128(value.maxGasAmount ?? 0);\n\n    serializer.serializeBool(value.feePayer !== undefined);\n    if (value.feePayer !== undefined) {\n      serializeAccountInput(serializer, value.feePayer);\n    }\n\n    const secondarySigners = value.secondarySigners ?? [];\n    serializer.serializeU32AsUleb128(secondarySigners.length);\n    for (const signer of secondarySigners) {\n      serializeAccountInput(serializer, signer);\n    }\n  }\n\n  function deserializeArgs(\n    deserializer: Deserializer,\n    version: SupportedVersions,\n  ): Args {\n    const hasSignerAddress = version >= 3 && deserializer.deserializeBool();\n    const signerAddress = hasSignerAddress\n      ? deserializer.deserialize(AccountAddress)\n      : undefined;\n\n    const network =\n      version === 1\n        ? deserializer.deserializeStr()\n        : deserializer.deserializeOption('string');\n    if (network !== undefined && !isSupportedNetwork(network)) {\n      throw new Error(`Unsupported network '${network}'`);\n    }\n\n    const hasSender = deserializer.deserializeBool();\n    const sender = hasSender\n      ? deserializeAccountInput(deserializer)\n      : undefined;\n\n    const isPayloadBcsSerializable =\n      version < 4 || deserializer.deserializeBool();\n    const payload = isPayloadBcsSerializable\n      ? deserializer.deserialize(TransactionPayload)\n      : deserializeTransactionPayloadInput(deserializer);\n\n    const expirationSecondsFromNow = deserializer.deserializeUleb128AsU32();\n    const expirationTimestamp = Number(deserializer.deserializeU64());\n    const gasUnitPrice = deserializer.deserializeUleb128AsU32();\n    const maxGasAmount = deserializer.deserializeUleb128AsU32();\n    const hasFeePayer = deserializer.deserializeBool();\n    const feePayer = hasFeePayer\n      ? deserializeAccountInput(deserializer)\n      : undefined;\n\n    const secondarySignersLength = deserializer.deserializeUleb128AsU32();\n    const secondarySigners: AccountInput[] = [];\n    for (let i = 0; i < secondarySignersLength; i += 1) {\n      secondarySigners.push(deserializeAccountInput(deserializer));\n    }\n\n    return {\n      expirationSecondsFromNow:\n        expirationSecondsFromNow > 0 ? expirationSecondsFromNow : undefined,\n      expirationTimestamp:\n        expirationTimestamp > 0 ? expirationTimestamp : undefined,\n      feePayer,\n      gasUnitPrice: gasUnitPrice > 0 ? gasUnitPrice : undefined,\n      maxGasAmount: maxGasAmount > 0 ? maxGasAmount : undefined,\n      network,\n      payload,\n      secondarySigners,\n      sender,\n      signerAddress,\n    };\n  }\n\n  // endregion\n\n  // region Request\n\n  export function serialize(\n    dappInfo: DappInfo,\n    args: Args,\n  ): SerializedWalletRequest<RequestName, CurrentVersion> {\n    const request = { args, dappInfo, name, version: currentVersion };\n    return serializeWalletRequestWithArgs(request, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedRequest: SerializedWalletRequest<RequestName, SupportedVersions>,\n  ): SignTransactionRequest {\n    return deserializeWalletRequestWithArgs(serializedRequest, (deserializer) =>\n      deserializeArgs(deserializer, serializedRequest.version),\n    );\n  }\n\n  export function isSerialized(\n    request: SerializedWalletRequest,\n  ): request is SerializedWalletRequest<RequestName, SupportedVersions> {\n    return (\n      request.name === name &&\n      supportedVersions.includes(request.version as SupportedVersions)\n    );\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-inner-declarations */\n\nimport {\n  AccountAuthenticator,\n  Deserializer,\n  RawTransaction,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport {\n  makeUserResponseDeserializeFn,\n  makeUserResponseSerializeFn,\n  UserResponse,\n} from '../../UserResponse';\nimport {\n  deserializeWalletResponse,\n  SerializedWalletResponse,\n  serializeWalletResponse,\n  WalletResponseWithArgs,\n} from '../../WalletResponse';\n\nexport interface SignTransactionResponse\n  extends WalletResponseWithArgs<SignTransactionResponse.Args> {}\n\nexport namespace SignTransactionResponse {\n  // region ApprovalArgs\n\n  export interface ApprovalArgs {\n    authenticator: AccountAuthenticator;\n    rawTransaction?: RawTransaction;\n  }\n\n  function serializeApprovalArgs(serializer: Serializer, value: ApprovalArgs) {\n    serializer.serialize(value.authenticator);\n    serializer.serializeBool(value.rawTransaction !== undefined);\n    if (value.rawTransaction !== undefined) {\n      serializer.serialize(value.rawTransaction);\n    }\n  }\n\n  function deserializeApprovalArgs(deserializer: Deserializer): ApprovalArgs {\n    const authenticator = deserializer.deserialize(AccountAuthenticator);\n    const hasRawTransaction = deserializer.deserializeBool();\n    const rawTransaction = hasRawTransaction\n      ? deserializer.deserialize(RawTransaction)\n      : undefined;\n\n    return {\n      authenticator,\n      rawTransaction,\n    };\n  }\n\n  // endregion\n\n  // region ResponseArgs\n\n  export type Args = UserResponse<ApprovalArgs>;\n\n  const serializeArgs = makeUserResponseSerializeFn(serializeApprovalArgs);\n  const deserializeArgs = makeUserResponseDeserializeFn(\n    deserializeApprovalArgs,\n  );\n\n  // endregion\n\n  type _Response = SignTransactionResponse;\n\n  export function serialize(args: Args): SerializedWalletResponse {\n    return serializeWalletResponse(args, serializeArgs);\n  }\n\n  export function deserialize(\n    serializedResponse: SerializedWalletResponse,\n  ): _Response {\n    return deserializeWalletResponse(serializedResponse, deserializeArgs);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport type TypedMessage<MessageType extends string = string> = {\n  __messageType: MessageType;\n};\nexport type TypedMessageConstructor<\n  TMessage extends TypedMessage<MessageType>,\n  MessageType extends string,\n> = {\n  TYPE: MessageType;\n  new (...args: any[]): TMessage;\n};\n\nexport function isTypedMessage<\n  TMessage extends TypedMessage<MessageType>,\n  MessageType extends string,\n>(\n  messageCls: TypedMessageConstructor<TMessage, MessageType>,\n  message: any,\n): message is TMessage {\n  return message?.__messageType === messageCls.TYPE;\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Deserializer, Serializer } from '@aptos-labs/ts-sdk';\nimport { base64ToBytes, bytesToBase64 } from '../base64';\nimport { SerializedWalletRequest } from '../WalletRequest';\nimport { SerializedWalletResponse } from '../WalletResponse';\nimport { TypedMessage } from './common';\n\nexport class PromptConnectionRequestMessage implements TypedMessage {\n  static readonly TYPE = 'PromptConnectionRequest';\n  readonly __messageType = PromptConnectionRequestMessage.TYPE;\n}\n\nexport class PromptConnectionResponseMessage implements TypedMessage {\n  static readonly TYPE = 'PromptConnectionResponse';\n  readonly __messageType = PromptConnectionResponseMessage.TYPE;\n\n  constructor(public serializedRequest: SerializedWalletRequest) {}\n}\n\nexport class PromptApprovalResponseMessage implements TypedMessage {\n  static readonly TYPE = 'PromptApprovalResponse';\n  readonly __messageType = PromptApprovalResponseMessage.TYPE;\n\n  constructor(public serializedValue: SerializedWalletResponse) {}\n}\n\nexport class PromptUnauthorizedErrorMessage implements TypedMessage {\n  static readonly TYPE = 'PromptUnauthorizedError';\n  readonly __messageType = PromptUnauthorizedErrorMessage.TYPE;\n}\n\nexport function urlEncodeWalletRequest(request: SerializedWalletRequest) {\n  const serializer = new Serializer();\n  serializer.serializeStr(request.name);\n  serializer.serializeBytes(request.data);\n  serializer.serializeStr(request.version.toString());\n  return bytesToBase64(serializer.toUint8Array());\n}\n\nexport function urlDecodeWalletRequest(\n  encodedRequest: string,\n): SerializedWalletRequest {\n  const deserializer = new Deserializer(base64ToBytes(encodedRequest));\n  const name = deserializer.deserializeStr();\n  const data = deserializer.deserializeBytes();\n\n  let version: number;\n  try {\n    version = Number(deserializer.deserializeStr());\n  } catch {\n    version = 1;\n  }\n  return { data, name, version };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  AccountAddressInput,\n  Ed25519PublicKey,\n  Ed25519Signature,\n  Serializer,\n} from '@aptos-labs/ts-sdk';\nimport {\n  base64ToBytes,\n  base64urlToBytes,\n  bytesToBase64,\n  bytesToBase64url,\n} from './base64';\nimport {\n  decodeWalletRequestBody,\n  encodeWalletRequestBody,\n  type WalletRequestBody,\n} from './WalletRequestBody';\n\nexport interface UnsignedPopupWalletRequest {\n  accountAddress?: AccountAddressInput;\n  body: WalletRequestBody;\n  clientIdentityKey?: undefined;\n}\n\nexport interface BaseSignedPopupWalletRequest {\n  accountAddress?: AccountAddressInput;\n  clientIdentityKey: Ed25519PublicKey;\n  id: string;\n  // against ('AptosConnectWalletRequest', id, body, address, timestamp)\n  signature: Ed25519Signature;\n  timestamp: number;\n}\n\nexport interface DeferredSignedPopupWalletRequest\n  extends BaseSignedPopupWalletRequest {\n  body?: undefined;\n}\n\nexport interface SignedPopupWalletRequest extends BaseSignedPopupWalletRequest {\n  body: WalletRequestBody;\n}\n\nexport type PopupWalletRequest =\n  | UnsignedPopupWalletRequest\n  | DeferredSignedPopupWalletRequest\n  | SignedPopupWalletRequest;\n\nexport function encodePopupWalletRequest(request: PopupWalletRequest): string {\n  const serialized = JSON.stringify(request, (key, value) => {\n    switch (key) {\n      case 'body':\n        return encodeWalletRequestBody(value);\n      case 'clientIdentityKey':\n        return bytesToBase64((value as Ed25519PublicKey).toUint8Array());\n      case 'signature':\n        return bytesToBase64((value as Ed25519Signature).toUint8Array());\n      default:\n        return value;\n    }\n  });\n  const utf8Encoded = new TextEncoder().encode(serialized);\n  return bytesToBase64url(utf8Encoded);\n}\n\nexport function decodePopupWalletRequest(encoded: string): PopupWalletRequest {\n  const utfEncoded = base64urlToBytes(encoded);\n  const serialized = new TextDecoder().decode(utfEncoded);\n  return JSON.parse(serialized, (key, value) => {\n    switch (key) {\n      case 'body':\n        return decodeWalletRequestBody(value);\n      case 'clientIdentityKey':\n        return new Ed25519PublicKey(base64ToBytes(value));\n      case 'signature':\n        return new Ed25519Signature(base64ToBytes(value));\n      default:\n        return value;\n    }\n  });\n}\n\nexport function makePopupWalletRequestChallenge({\n  accountAddress,\n  body,\n  id,\n  timestamp,\n}: Omit<SignedPopupWalletRequest, 'clientIdentityKey' | 'signature'>) {\n  const serializer = new Serializer();\n  serializer.serializeStr('SignedPopupWalletRequest');\n  serializer.serializeStr(id);\n  serializer.serializeU64(timestamp);\n  serializer.serializeBool(accountAddress !== undefined);\n  if (accountAddress !== undefined) {\n    serializer.serialize(AccountAddress.from(accountAddress));\n  }\n  serializer.serializeStr(body.name);\n  serializer.serializeU8(body.version);\n  serializer.serializeBytes(body.data);\n  return serializer.toUint8Array();\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { base64ToBytes, bytesToBase64 } from './base64';\n\nexport interface WalletRequestBody<\n  RequestName extends string = string,\n  Version extends number = number,\n> {\n  data: Uint8Array;\n  name: RequestName;\n  version: Version;\n}\n\nexport function encodeWalletRequestBody({\n  data,\n  ...rest\n}: WalletRequestBody): string {\n  const serialized = JSON.stringify({ data, ...rest }, (key, value) =>\n    key === 'data' ? bytesToBase64(value) : value,\n  );\n  const utf8Encoded = new TextEncoder().encode(serialized);\n  return bytesToBase64(utf8Encoded);\n}\n\nexport function decodeWalletRequestBody(encoded: string): WalletRequestBody {\n  const utfEncoded = base64ToBytes(encoded);\n  const serialized = new TextDecoder().decode(utfEncoded);\n  return JSON.parse(serialized, (key, value) =>\n    key === 'data' ? base64ToBytes(value) : value,\n  );\n}\n"],"names":["AccountAddress","AccountAddress","AccountAddress","AccountAddress","AccountAddress","EntryFunctionArgumentVariant","SigningScheme","AccountAddress","TransactionPayloadInputVariant","AccountAddress","Deserializer","Serializer","Serializer","Deserializer","ConnectRequest","Deserializer","Serializer","ConnectResponse","DisconnectRequest","DisconnectResponse","GetConnectedAccountsRequest","GetConnectedAccountsResponse","IsConnectedRequest","IsConnectedResponse","AccountAddress","SignAndSubmitTransactionRequest","AccountAddress","SignAndSubmitTransactionResponse","SignInRequest","SignInResponse","AccountAddress","SignMessageRequest","AccountAddress","SignMessageResponse","AccountAddress","TransactionPayload","SignTransactionRequest","AccountAddress","TransactionPayload","AccountAuthenticator","RawTransaction","SignTransactionResponse","AccountAuthenticator","RawTransaction","Deserializer","Serializer","Serializer","Deserializer","AccountAddress","Ed25519PublicKey","Ed25519Signature","Serializer","Ed25519PublicKey","Ed25519Signature","Serializer","AccountAddress"],"mappings":"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"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/index.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/prompt.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/state.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/openTelegramPrompt.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/createWalletRequest.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/getClientIdentityKey.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/getWalletResponse.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/smartPolling.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/web-transport/src/telegram/index.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  ConnectRequest,\n  ConnectResponse,\n  DisconnectRequest,\n  DisconnectResponse,\n  GetConnectedAccountsRequest,\n  GetConnectedAccountsResponse,\n  IsConnectedRequest,\n  IsConnectedResponse,\n  SerializedWalletRequest,\n  SignAndSubmitTransactionRequest,\n  SignInRequest,\n  SignInResponse,\n  SignMessageRequest,\n  SignTransactionRequest,\n} from '@aptos-connect/wallet-api';\nimport { openPrompt, waitForPromptResponse } from './prompt';\nimport {\n  addConnectedAccount,\n  getConnectedAccounts,\n  removeConnectedAccount,\n} from './state';\n\nimport { isTelegramMiniApp, openTelegramPrompt } from './telegram';\n\nexport class WebWalletTransport {\n  constructor(\n    private readonly baseUrl: string,\n    private readonly provider: 'google' | 'apple' = 'google',\n    private readonly tgWebAppUrl?: string,\n  ) {\n    this.baseUrl = baseUrl;\n  }\n\n  async sendPromptRequest(request: SerializedWalletRequest) {\n    if (isTelegramMiniApp()) {\n      return openTelegramPrompt({\n        baseUrl: this.baseUrl,\n        provider: this.provider,\n        request,\n        tgWebAppUrl: this.tgWebAppUrl,\n      });\n    }\n\n    const url = new URL(`${this.baseUrl}/prompt/`);\n    // url.searchParams.set('provider', this.provider);\n    const prompt = openPrompt(url);\n\n    return waitForPromptResponse(this.baseUrl, prompt, request);\n  }\n\n  async sendRequest(request: SerializedWalletRequest) {\n    switch (request.name) {\n      case IsConnectedRequest.name: {\n        const connectedAccounts = getConnectedAccounts();\n        return IsConnectedResponse.serialize(connectedAccounts.length > 0);\n      }\n      case GetConnectedAccountsRequest.name: {\n        const connectedAccounts = getConnectedAccounts();\n        return GetConnectedAccountsResponse.serialize(connectedAccounts);\n      }\n      case ConnectRequest.name: {\n        const serializedResponse = await this.sendPromptRequest(request);\n        const response = ConnectResponse.deserialize(serializedResponse);\n        if (response.args.status === 'approved') {\n          const { account, pairing } = response.args.args;\n          if (pairing === undefined) {\n            addConnectedAccount(account);\n          }\n        }\n        return serializedResponse;\n      }\n      case SignInRequest.name: {\n        const serializedResponse = await this.sendPromptRequest(request);\n        const response = SignInResponse.deserialize(\n          serializedResponse,\n          request.version === 1 ? 1 : 2,\n        );\n        if (response.args.status === 'approved') {\n          const { account } = response.args.args;\n          addConnectedAccount(account);\n        }\n        return serializedResponse;\n      }\n      case DisconnectRequest.name: {\n        const [activeAccount] = getConnectedAccounts();\n        if (activeAccount) {\n          removeConnectedAccount(activeAccount.address);\n        }\n        return DisconnectResponse.serialize({});\n      }\n      case SignMessageRequest.name:\n      case SignTransactionRequest.name:\n      case SignAndSubmitTransactionRequest.name: {\n        return this.sendPromptRequest(request);\n      }\n      default: {\n        throw new Error('Unexpected request');\n      }\n    }\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  ConnectResponse,\n  isTypedMessage,\n  PromptApprovalResponseMessage,\n  PromptConnectionRequestMessage,\n  PromptConnectionResponseMessage,\n  PromptUnauthorizedErrorMessage,\n  SerializedWalletRequest,\n  SerializedWalletResponse,\n} from '@aptos-connect/wallet-api';\n\nconst DEFAULT_PROMPT_SIZE = { height: 695, width: 465 };\nconst PROMPT_POLLER_INTERVAL = 500;\n\nconst dismissalSerializedResponse = ConnectResponse.serialize({\n  status: 'dismissed',\n});\n\nexport class PromptUnauthorizedError extends Error {\n  constructor() {\n    super('Unauthorized');\n  }\n}\n\nexport function openPrompt(url: string | URL, size = DEFAULT_PROMPT_SIZE) {\n  const { height, width } = size;\n  const options = {\n    height,\n    left: window.screenLeft + Math.round((window.outerWidth - width) / 2),\n    popup: true,\n    top: window.screenTop + Math.round((window.outerHeight - height) / 2),\n    width,\n  };\n\n  const strOptions = Object.entries(options)\n    .map(([key, value]) => `${key}=${JSON.stringify(value)}`)\n    .reduce((acc, entry) => `${acc}, ${entry}`);\n\n  const href = url instanceof URL ? url.href : url;\n  const promptWindow = window.open(href, undefined, strOptions);\n  if (promptWindow === null) {\n    throw new Error(\"Couldn't open prompt\");\n  }\n\n  return promptWindow;\n}\n\nexport async function waitForPromptResponse(\n  baseUrl: string,\n  promptWindow: Window,\n  request: SerializedWalletRequest,\n) {\n  return new Promise<SerializedWalletResponse>((resolve, reject) => {\n    const listeners = {\n      onMessage: (message: MessageEvent) => {\n        // Ignore messages from untrusted sources\n        if (message.source !== promptWindow || message.origin !== baseUrl) {\n          return;\n        }\n        if (isTypedMessage(PromptUnauthorizedErrorMessage, message.data)) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          reject(new PromptUnauthorizedError());\n          return;\n        }\n        if (isTypedMessage(PromptConnectionRequestMessage, message.data)) {\n          promptWindow.postMessage(\n            new PromptConnectionResponseMessage(request),\n            baseUrl,\n          );\n          return;\n        }\n        if (isTypedMessage(PromptApprovalResponseMessage, message.data)) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          resolve(message.data.serializedValue);\n        }\n      },\n      promptPollerId: setInterval(() => {\n        if (promptWindow.closed) {\n          window.removeEventListener('message', listeners.onMessage);\n          clearTimeout(listeners.promptPollerId);\n          resolve(dismissalSerializedResponse);\n        }\n      }, PROMPT_POLLER_INTERVAL),\n    };\n\n    window.addEventListener('message', listeners.onMessage);\n  });\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountInfo,\n  base64ToBytes,\n  bytesToBase64,\n  deserializeAccountInfo,\n  serializeAccountInfo,\n} from '@aptos-connect/wallet-api';\nimport { AccountAddress, Deserializer, Serializer } from '@aptos-labs/ts-sdk';\n\nconst localDappStateKey = '@aptos-connect/dapp-local-state';\n\n/**\n * Local dapp state loosely synced with the web wallet's state.\n * Due to browser restrictions (storage partitioning), it's no longer possible\n * to access the web wallet's state.\n */\ninterface DappLocalState {\n  connectedAccounts: AccountInfo[];\n}\n\nfunction serializeLocalDappState(state: DappLocalState): Uint8Array {\n  const serializer = new Serializer();\n  serializer.serializeU32AsUleb128(state.connectedAccounts.length);\n  for (const account of state.connectedAccounts) {\n    serializeAccountInfo(serializer, account);\n  }\n  return serializer.toUint8Array();\n}\n\nfunction deserializeLocalDappState(\n  serializedValue: Uint8Array,\n): DappLocalState {\n  const deserializer = new Deserializer(serializedValue);\n  const connectedAccountsLength = deserializer.deserializeUleb128AsU32();\n  const connectedAccounts: AccountInfo[] = [];\n  for (let i = 0; i < connectedAccountsLength; i += 1) {\n    connectedAccounts.push(deserializeAccountInfo(deserializer));\n  }\n  return { connectedAccounts };\n}\n\nfunction getState(): DappLocalState {\n  const encodedValue = window.localStorage.getItem(localDappStateKey);\n  return encodedValue\n    ? deserializeLocalDappState(base64ToBytes(encodedValue))\n    : { connectedAccounts: [] };\n}\n\nfunction setState(state: DappLocalState) {\n  const serializedValue = serializeLocalDappState(state);\n  const encodedValue = bytesToBase64(serializedValue);\n  window.localStorage.setItem(localDappStateKey, encodedValue);\n}\n\nexport function getConnectedAccounts() {\n  const state = getState();\n  return state.connectedAccounts;\n}\n\nexport function addConnectedAccount(account: AccountInfo) {\n  const { connectedAccounts, ...state } = getState();\n  connectedAccounts.push(account);\n  setState({ ...state, connectedAccounts });\n}\n\nexport function removeConnectedAccount(address: AccountAddress) {\n  const { connectedAccounts, ...state } = getState();\n  const index = connectedAccounts.findIndex((a) => a.address.equals(address));\n  if (index >= 0) {\n    connectedAccounts.splice(index, 1);\n  }\n  setState({ ...state, connectedAccounts });\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  encodePopupWalletRequest,\n  makePopupWalletRequestChallenge,\n  SerializedWalletRequest,\n  SignedPopupWalletRequest,\n} from '@aptos-connect/wallet-api';\nimport { postEvent as postTelegramEvent } from '@telegram-apps/bridge';\nimport { v4 as randomUUID } from 'uuid';\nimport { createWalletRequest } from './createWalletRequest';\nimport { getClientIdentityKey } from './getClientIdentityKey';\nimport { getWalletResponse } from './getWalletResponse';\n\nexport async function openTelegramPrompt(args: {\n  baseUrl: string;\n  provider?: 'google' | 'apple';\n  request: SerializedWalletRequest;\n  tgWebAppUrl?: string;\n}) {\n  const {\n    baseUrl,\n    provider,\n    request: body,\n    tgWebAppUrl = '/AptosConnectBot/AptosConnect',\n  } = args;\n  const identityKey = getClientIdentityKey();\n  const clientIdentityKey = identityKey.publicKey();\n  const requestId = randomUUID();\n  const timestamp = Date.now();\n\n  const challenge = makePopupWalletRequestChallenge({\n    body,\n    id: requestId,\n    timestamp,\n  });\n  const signature = identityKey.sign(challenge);\n\n  const signedWalletRequest: SignedPopupWalletRequest = {\n    body,\n    clientIdentityKey,\n    id: requestId,\n    signature,\n    timestamp,\n  };\n\n  // Telegram only supports start parameters up to 1024 characters\n  // If the encoded request is longer, we send it to the backend and mark\n  // the request as \"deferred\" by omitting the body\n  let encodedRequest = encodePopupWalletRequest(signedWalletRequest);\n  if (encodedRequest.length > 1024) {\n    void createWalletRequest(baseUrl, signedWalletRequest);\n    encodedRequest = encodePopupWalletRequest({\n      clientIdentityKey,\n      id: requestId,\n      signature,\n      timestamp,\n    });\n  }\n\n  const startParam = `prompt_${provider ?? ''}${encodedRequest}`;\n  postTelegramEvent('web_app_open_tg_link', {\n    path_full: `${tgWebAppUrl}?startapp=${startParam}`,\n  });\n\n  return getWalletResponse(baseUrl, clientIdentityKey, requestId);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  bytesToBase64,\n  bytesToBase64url,\n  encodeWalletRequestBody,\n  SignedPopupWalletRequest,\n} from '@aptos-connect/wallet-api';\n\nexport async function createWalletRequest(\n  baseUrl: string,\n  request: SignedPopupWalletRequest,\n) {\n  const encodedClientIdentityKey = bytesToBase64url(\n    request.clientIdentityKey.toUint8Array(),\n  );\n\n  const response = await fetch(\n    `${baseUrl}/v1/dapp/clients/${encodedClientIdentityKey}/requests/`,\n    {\n      body: JSON.stringify({\n        body: encodeWalletRequestBody(request.body),\n        id: request.id,\n        signature: bytesToBase64(request.signature.toUint8Array()),\n        timestamp: request.timestamp,\n      }),\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      method: 'post',\n    },\n  );\n\n  if (!response.ok) {\n    throw new Error('Failed creating the wallet request');\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Ed25519PrivateKey } from '@aptos-labs/ts-sdk';\n\nconst identityKeyStorageKey = '@aptos-connect/client-identity-key';\n\nexport function getClientIdentityKey() {\n  const serialized = window.localStorage.getItem(identityKeyStorageKey);\n  if (serialized) {\n    return new Ed25519PrivateKey(serialized);\n  }\n  const identityKey = Ed25519PrivateKey.generate();\n  window.localStorage.setItem(identityKeyStorageKey, identityKey.toString());\n  return identityKey;\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  base64ToBytes,\n  bytesToBase64url,\n  SerializedWalletResponse,\n} from '@aptos-connect/wallet-api';\nimport { Ed25519PublicKey } from '@aptos-labs/ts-sdk';\nimport { smartPolling } from './smartPolling';\n\nexport async function getWalletResponse(\n  baseUrl: string,\n  clientIdentityKey: Ed25519PublicKey,\n  requestId: string,\n): Promise<SerializedWalletResponse> {\n  const encodedClientIdentityKey = bytesToBase64url(\n    clientIdentityKey.toUint8Array(),\n  );\n  const url = new URL(\n    `${baseUrl}/v1/dapp/clients/${encodedClientIdentityKey}/requests/${requestId}/response/`,\n  );\n  const response = await smartPolling(() =>\n    fetch(url, {\n      headers: { Accept: 'application/json' },\n      method: 'get',\n    }),\n  );\n\n  const responseBody = await response.json();\n  const data = base64ToBytes(responseBody.data.body);\n  return { data };\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\n/* eslint-disable no-await-in-loop */\n\n/**\n * How long to wait after resuming before trying to fetch the resource again.\n * This gives time for the underlying resource to be persisted.\n */\nconst ON_RESUME_DELAY = 300;\n\n/**\n * How often to poll for the resource when the window is in the foreground.\n * This should typically not be needed, but it's a good fallback in case we\n * can't detect whether the window is in the background\n */\nconst FG_RESPONSE_POLLING_INTERVAL = 2000;\n\n/**\n * Polling interval when the window is in the background.\n * This can be arbitrarily long, but it's still good to keep polling as fallback.\n */\nconst BG_RESPONSE_POLLING_INTERVAL = 3000;\n\n/**\n * Given there's no \"cancel\" mechanism for polling, we should time out the polling after\n * an arbitrarily long time to prevent memory leaks.\n */\nconst POLLING_TIMEOUT = 5 * 60000;\n\nexport interface Timer extends Promise<void> {\n  cancel: () => void;\n}\n\nfunction waitFor(milliseconds: number): Timer {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let cancel = () => {};\n  const timer = new Promise((resolve) => {\n    timeoutId = setTimeout(resolve, milliseconds);\n    cancel = () => {\n      clearTimeout(timeoutId);\n      resolve();\n    };\n  }) as Timer;\n  timer.cancel = cancel;\n  return timer;\n}\n\n/**\n * Smart polling function that tries to reduce as much as possible the number of requests,\n * while still returning quickly after the resource becomes available.\n */\nexport async function smartPolling(\n  callback: () => Promise<Response>,\n): Promise<Response> {\n  let timer: Timer | undefined;\n  let justResumed = false;\n  let pollingInterval = BG_RESPONSE_POLLING_INTERVAL;\n\n  const onWindowFocus = () => {\n    justResumed = true;\n    pollingInterval = FG_RESPONSE_POLLING_INTERVAL;\n    timer?.cancel();\n  };\n\n  const onWindowBlur = () => {\n    pollingInterval = BG_RESPONSE_POLLING_INTERVAL;\n  };\n\n  window.addEventListener('focus', onWindowFocus);\n  window.addEventListener('blur', onWindowBlur);\n\n  try {\n    const startTime = Date.now();\n    while (Date.now() - startTime < POLLING_TIMEOUT) {\n      timer = waitFor(pollingInterval);\n      await timer;\n\n      if (justResumed) {\n        timer = waitFor(ON_RESUME_DELAY);\n        await timer;\n      }\n\n      const response = await callback();\n      if (response.status === 200) {\n        return response;\n      }\n      justResumed = false;\n    }\n    throw new Error('Timeout');\n  } finally {\n    window.removeEventListener('focus', onWindowFocus);\n    window.removeEventListener('blur', onWindowFocus);\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport function isTelegramMiniApp() {\n  return (window as any).TelegramWebviewProxy !== undefined;\n}\n\nexport * from './openTelegramPrompt';\n"],"names":["ConnectResponse","bytesToBase64","base64ToBytes","bytesToBase64url","bytesToBase64url","base64ToBytes","ConnectResponse"],"mappings":"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"}},
    {"offset": {"line": 1975, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/index.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/AptosConnectAppleWallet.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/AptosConnectWallet.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/AptosConnectAccount.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/helpers.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/config.ts","file:///Users/gabrielantonyxaviour/Documents/starters/movement/Velox/frontend/node_modules/%40aptos-connect/wallet-adapter-plugin/src/AptosConnectGoogleWallet.ts"],"sourcesContent":["// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport { registerWallet } from '@aptos-labs/wallet-standard';\nimport { AptosConnectAppleWallet } from './AptosConnectAppleWallet';\nimport { AptosConnectGoogleWallet } from './AptosConnectGoogleWallet';\nimport { AptosConnectWalletConfig } from './AptosConnectWallet';\n\nexport * from './AptosConnectAccount';\nexport * from './AptosConnectWallet';\nexport { AptosConnectGoogleWallet, AptosConnectAppleWallet };\n\nexport function registerAptosConnect(config: AptosConnectWalletConfig = {}) {\n  const googleWalletPlugin = new AptosConnectGoogleWallet(config);\n  const appleWalletPlugin = new AptosConnectAppleWallet(config);\n  registerWallet(googleWalletPlugin);\n  registerWallet(appleWalletPlugin);\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AptosConnectNamespace,\n  AptosDisconnectNamespace,\n  AptosFeatures,\n  AptosGetAccountNamespace,\n  AptosGetNetworkNamespace,\n  AptosOnAccountChangeNamespace,\n  AptosOnNetworkChangeNamespace,\n  AptosSignAndSubmitTransactionFeature,\n  AptosSignAndSubmitTransactionNamespace,\n  AptosSignInNamespace,\n  AptosSignMessageNamespace,\n  AptosSignTransactionNamespace,\n  AptosWallet,\n} from '@aptos-labs/wallet-standard';\nimport {\n  AptosConnectWallet,\n  AptosConnectWalletConfig,\n} from './AptosConnectWallet';\nimport { walletMetadata } from './config';\n\nexport class AptosConnectAppleWallet\n  extends AptosConnectWallet\n  implements AptosWallet\n{\n  readonly name = walletMetadata.apple.name;\n\n  readonly icon = walletMetadata.apple.icon;\n\n  readonly url = walletMetadata.apple.url;\n\n  constructor(config: AptosConnectWalletConfig) {\n    super({ ...config, provider: 'apple' });\n  }\n\n  // region AptosWallet\n\n  get features(): AptosFeatures & AptosSignAndSubmitTransactionFeature {\n    return {\n      [AptosConnectNamespace]: {\n        connect: this.connect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosDisconnectNamespace]: {\n        disconnect: this.disconnect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetAccountNamespace]: {\n        account: this.getAccount.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetNetworkNamespace]: {\n        network: this.getNetwork.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnAccountChangeNamespace]: {\n        onAccountChange: this.onAccountChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnNetworkChangeNamespace]: {\n        onNetworkChange: this.onNetworkChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignAndSubmitTransactionNamespace]: {\n        signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),\n        version: '1.1.0',\n      },\n      [AptosSignInNamespace]: {\n        signIn: this.signIn.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignMessageNamespace]: {\n        signMessage: this.signMessage.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignTransactionNamespace]: {\n        signTransaction: this.signTransaction.bind(this),\n        version: '1.1.0',\n      },\n    };\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  ClaimOptions,\n  ExtendedNetwork,\n  shelbynet,\n} from '@aptos-connect/wallet-api';\nimport {\n  AccountAddress,\n  AccountAuthenticator,\n  AnyRawTransaction,\n  Aptos,\n  AptosConfig,\n  AptosSettings,\n  Ed25519PrivateKey,\n  HexInput,\n  MultiAgentTransaction,\n  Network,\n  NetworkToNodeAPI,\n  SimpleTransaction,\n} from '@aptos-labs/ts-sdk';\nimport {\n  AccountInfo,\n  APTOS_CHAINS,\n  AptosSignAndSubmitTransactionInput,\n  AptosSignAndSubmitTransactionOutput,\n  AptosSignInInput,\n  AptosSignInOutput,\n  AptosSignMessageInput,\n  AptosSignMessageOutput,\n  AptosSignTransactionInputV1_1,\n  AptosSignTransactionOutputV1_1,\n  AptosWalletError,\n  AptosWalletErrorCode,\n  NetworkInfo,\n  UserResponse,\n  UserResponseStatus,\n} from '@aptos-labs/wallet-standard';\nimport {\n  deserializePublicKeyB64,\n  serializePublicKeyB64,\n} from '@identity-connect/crypto';\nimport { ACDappClient, ACDappClientConfig } from '@identity-connect/dapp-sdk';\nimport { AptosConnectAccount } from './AptosConnectAccount';\nimport {\n  customAccountToStandardAccount,\n  networkToChainId,\n  unwrapUserResponse,\n} from './helpers';\n\ninterface SerializedCurrentAccount {\n  address: string;\n  publicKey: string;\n}\n\ntype WithSSOProvider<T> = T & {\n  provider: 'google' | 'apple';\n};\n\nexport interface AptosConnectWalletConfig\n  extends Omit<ACDappClientConfig, 'defaultNetworkName' | 'provider'> {\n  aptosClientConfig?: Partial<AptosSettings>;\n  claimSecretKey?: HexInput;\n  network?: ExtendedNetwork;\n  preferredWalletName?: string;\n}\n\nexport abstract class AptosConnectWallet {\n  // region connectedAccount\n\n  protected static connectedAccountStorageKey =\n    '@aptos-connect/connectedAccount';\n\n  protected static get connectedAccount(): AccountInfo | undefined {\n    const serialized = localStorage.getItem(\n      AptosConnectWallet.connectedAccountStorageKey,\n    );\n    if (!serialized) {\n      return undefined;\n    }\n\n    try {\n      const { address, publicKey } = JSON.parse(\n        serialized,\n      ) as SerializedCurrentAccount;\n      return new AccountInfo({\n        address: AccountAddress.from(address),\n        publicKey: deserializePublicKeyB64(publicKey),\n      });\n    } catch (_err) {\n      this.connectedAccount = undefined;\n      return undefined;\n    }\n  }\n\n  protected static set connectedAccount(value: AccountInfo | undefined) {\n    if (value !== undefined) {\n      const serialized: SerializedCurrentAccount = {\n        address: value.address.toString(),\n        publicKey: serializePublicKeyB64(value.publicKey),\n      };\n      localStorage.setItem(\n        AptosConnectWallet.connectedAccountStorageKey,\n        JSON.stringify(serialized),\n      );\n    } else {\n      localStorage.removeItem(AptosConnectWallet.connectedAccountStorageKey);\n    }\n  }\n\n  // endregion\n\n  // region AptosWallet\n\n  readonly version = '1.0.0';\n\n  readonly chains = APTOS_CHAINS;\n\n  // eslint-disable-next-line class-methods-use-this\n  get accounts() {\n    const { connectedAccount } = AptosConnectWallet;\n    return connectedAccount ? [new AptosConnectAccount(connectedAccount)] : [];\n  }\n\n  // endregion\n\n  // PetraWallet\n\n  private readonly network: ExtendedNetwork;\n  private readonly aptosClient: Aptos;\n\n  private readonly client: ACDappClient;\n\n  private readonly preferredWalletName?: string;\n  private readonly claimOptions?: ClaimOptions;\n\n  private chainId?: number;\n  private readonly chainIdPromise: Promise<number>;\n\n  constructor({\n    aptosClientConfig,\n    claimSecretKey,\n    network = Network.MAINNET,\n    preferredWalletName,\n    ...clientConfig\n  }: WithSSOProvider<AptosConnectWalletConfig>) {\n    this.client = new ACDappClient(clientConfig);\n\n    if (!NetworkToNodeAPI[network] && network !== shelbynet.name) {\n      throw new Error('Network not supported');\n    }\n\n    this.network = network;\n    const aptosSettings: Partial<AptosSettings> =\n      network !== shelbynet.name\n        ? { network }\n        : {\n            fullnode: shelbynet.nodeUrl,\n            indexer: shelbynet.indexerUrl,\n            network: Network.CUSTOM,\n          };\n    const aptosConfig = new AptosConfig({\n      ...aptosSettings,\n      ...aptosClientConfig,\n    });\n    this.aptosClient = new Aptos(aptosConfig);\n    this.preferredWalletName = preferredWalletName;\n    if (claimSecretKey) {\n      if (network === shelbynet.name) {\n        throw new Error('Shelbynet not supported');\n      }\n      this.claimOptions = {\n        network,\n        secretKey: new Ed25519PrivateKey(claimSecretKey),\n      };\n    }\n\n    // Pre-fetch the chain ID to avoid having to wait and preventing the prompt popup from opening\n    this.chainIdPromise = this.aptosClient.getChainId();\n    this.chainIdPromise.then((chainId) => {\n      this.chainId = chainId;\n    });\n  }\n\n  async connect(): Promise<UserResponse<AccountInfo>> {\n    // If this is an auto-connect, try not opening the prompt\n    const { connectedAccount } = AptosConnectWallet;\n    if (connectedAccount !== undefined) {\n      return { args: connectedAccount, status: UserResponseStatus.APPROVED };\n    }\n\n    const response = await this.client.connect({\n      claimOptions: this.claimOptions,\n      preferredWalletName: this.preferredWalletName,\n    });\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    const newConnectedAccount = customAccountToStandardAccount(\n      response.args.account,\n    );\n    AptosConnectWallet.connectedAccount = newConnectedAccount;\n\n    return {\n      args: newConnectedAccount,\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  async disconnect() {\n    const { connectedAccount } = AptosConnectWallet;\n    if (connectedAccount) {\n      await this.client.disconnect(connectedAccount.address);\n      AptosConnectWallet.connectedAccount = undefined;\n    }\n  }\n\n  async signIn(\n    input: AptosSignInInput,\n  ): Promise<UserResponse<AptosSignInOutput>> {\n    const response = await this.client.signIn({\n      network: this.network,\n      ...input,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    const output = response.args;\n\n    AptosConnectWallet.connectedAccount = output.account;\n\n    return { args: output, status: UserResponseStatus.APPROVED };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getAccount(): Promise<AccountInfo> {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      // TODO: this function should fail gracefully\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n    return customAccountToStandardAccount(connectedAccount);\n  }\n\n  async getNetwork(): Promise<NetworkInfo> {\n    const chainId = await this.chainIdPromise;\n    const isShelbynet = this.network === shelbynet.name;\n    return {\n      chainId,\n      name: isShelbynet ? Network.CUSTOM : this.network,\n      url: isShelbynet ? shelbynet.nodeUrl : NetworkToNodeAPI[this.network],\n    };\n  }\n\n  async signMessage(\n    input: AptosSignMessageInput,\n  ): Promise<UserResponse<AptosSignMessageOutput>> {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    // Try to avoid awaiting the chain ID, as it might cause issues when opening the propt\n    const chainId =\n      networkToChainId(this.network) ??\n      this.chainId ??\n      (await this.chainIdPromise);\n    const { message, nonce } = input;\n\n    const encoder = new TextEncoder();\n    const messageBytes = encoder.encode(message);\n    const nonceBytes = encoder.encode(nonce);\n\n    const response = await this.client.signMessage({\n      chainId,\n      message: messageBytes,\n      nonce: nonceBytes,\n      signerAddress: connectedAccount.address,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    const { fullMessage, signature } = response.args;\n\n    const extraResponseArgs = {\n      address: connectedAccount.address.toString(),\n      application: this.client.dappInfo.domain,\n      chainId,\n      message,\n      nonce,\n      prefix: 'APTOS' as const,\n    };\n\n    return {\n      args: {\n        fullMessage,\n        signature,\n        ...extraResponseArgs,\n      },\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  async signTransaction(\n    rawTxn: AnyRawTransaction,\n  ): Promise<UserResponse<AccountAuthenticator>>;\n  async signTransaction(\n    args: AptosSignTransactionInputV1_1,\n  ): Promise<UserResponse<AptosSignTransactionOutputV1_1>>;\n  async signTransaction(\n    txnOrArgs: AnyRawTransaction | AptosSignTransactionInputV1_1,\n    _asFeePayer?: boolean,\n  ): Promise<\n    UserResponse<AccountAuthenticator | AptosSignTransactionOutputV1_1>\n  > {\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    if ('bcsToBytes' in txnOrArgs) {\n      const transaction = txnOrArgs;\n      const feePayer = transaction.feePayerAddress\n        ? { address: transaction.feePayerAddress }\n        : undefined;\n      const secondarySigners = transaction.secondarySignerAddresses?.map(\n        (address) => ({ address }),\n      );\n      const response = await this.client.signTransaction({\n        feePayer,\n        network: this.network,\n        secondarySigners,\n        signerAddress: connectedAccount.address,\n        transaction: transaction.rawTransaction,\n      });\n      return unwrapUserResponse(response, (args) => args.authenticator);\n    }\n\n    const requestArgs = txnOrArgs;\n    const response = await this.client.signTransaction({\n      network: this.network,\n      ...requestArgs,\n      signerAddress: connectedAccount.address,\n    });\n\n    return unwrapUserResponse(response, (responseArgs) => {\n      const { authenticator, rawTransaction } = responseArgs;\n      if (!rawTransaction) {\n        throw new Error('Expected raw transaction in response args');\n      }\n\n      const secondarySigners = requestArgs.secondarySigners ?? [];\n      let transaction: AnyRawTransaction;\n      if (secondarySigners.length > 0) {\n        transaction = new MultiAgentTransaction(\n          rawTransaction,\n          secondarySigners.map((s) => s.address),\n          requestArgs.feePayer?.address,\n        );\n      } else {\n        transaction = new SimpleTransaction(\n          rawTransaction,\n          requestArgs.feePayer?.address,\n        );\n      }\n\n      return {\n        authenticator,\n        rawTransaction: transaction,\n      };\n    });\n  }\n\n  async signAndSubmitTransaction(\n    args: AptosSignAndSubmitTransactionInput,\n  ): Promise<UserResponse<AptosSignAndSubmitTransactionOutput>> {\n    const { gasUnitPrice, maxGasAmount, payload } = args;\n\n    const { connectedAccount } = AptosConnectWallet;\n    if (!connectedAccount) {\n      throw new AptosWalletError(AptosWalletErrorCode.Unauthorized);\n    }\n\n    const response = await this.client.signAndSubmitTransaction({\n      gasUnitPrice,\n      maxGasAmount,\n      network: this.network,\n      payload,\n      signerAddress: connectedAccount.address,\n    });\n\n    if (response.status === 'dismissed') {\n      return { status: UserResponseStatus.REJECTED };\n    }\n\n    return {\n      args: { hash: response.args.txnHash },\n      status: UserResponseStatus.APPROVED,\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onAccountChange(\n    _callback?: (newAccount: AccountInfo) => void,\n  ): Promise<void> {\n    // TODO\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async onNetworkChange(\n    _callback?: (newNetwork: NetworkInfo) => void,\n  ): Promise<void> {\n    // Not applicable\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountAddress,\n  AnyPublicKey,\n  Ed25519PublicKey,\n  MultiEd25519PublicKey,\n  MultiKey,\n  PublicKey,\n  SigningScheme,\n} from '@aptos-labs/ts-sdk';\nimport {\n  AccountInfo,\n  APTOS_CHAINS,\n  AptosWalletAccount,\n} from '@aptos-labs/wallet-standard';\n\nexport class AptosConnectAccount implements AptosWalletAccount {\n  // region AptosWalletAccount\n\n  readonly chains = APTOS_CHAINS;\n\n  get address() {\n    return this.#address.toString();\n  }\n\n  get publicKey() {\n    return this.#publicKey.toUint8Array();\n  }\n\n  get signingScheme() {\n    if (this.#publicKey instanceof Ed25519PublicKey) {\n      return SigningScheme.Ed25519;\n    }\n    if (this.#publicKey instanceof MultiEd25519PublicKey) {\n      return SigningScheme.MultiEd25519;\n    }\n    if (this.#publicKey instanceof AnyPublicKey) {\n      return SigningScheme.SingleKey;\n    }\n    if (this.#publicKey instanceof MultiKey) {\n      return SigningScheme.MultiKey;\n    }\n    throw new Error('Unsupported public key type');\n  }\n\n  readonly label?: string;\n\n  readonly features = [];\n\n  // endregion\n\n  // region PetraAccount\n\n  readonly #address: AccountAddress;\n\n  readonly #publicKey: PublicKey;\n\n  constructor({ address, ansName, publicKey }: AccountInfo) {\n    this.#publicKey = publicKey;\n    this.#address = address;\n    this.label = ansName;\n  }\n\n  // endregion\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AccountInfo as ACAccountInfo,\n  UserResponse as ACUserResponse,\n  ExtendedNetwork,\n} from '@aptos-connect/wallet-api';\nimport { Network, NetworkToChainId } from '@aptos-labs/ts-sdk';\nimport {\n  AccountInfo,\n  UserResponse,\n  UserResponseStatus,\n} from '@aptos-labs/wallet-standard';\n\nexport function customAccountToStandardAccount({\n  address,\n  name,\n  publicKey,\n}: ACAccountInfo) {\n  return new AccountInfo({\n    address,\n    ansName: name,\n    publicKey,\n  });\n}\n\nexport function unwrapUserResponse<T, U>(\n  response: ACUserResponse<T>,\n  callback: (args: T) => U,\n): UserResponse<U> {\n  if (response.status === 'dismissed') {\n    return { status: UserResponseStatus.REJECTED };\n  }\n  return { args: callback(response.args), status: UserResponseStatus.APPROVED };\n}\n\nexport function networkToChainId(network: ExtendedNetwork) {\n  switch (network) {\n    case Network.MAINNET:\n      return NetworkToChainId.mainnet;\n    case Network.TESTNET:\n      return NetworkToChainId.testnet;\n    default:\n      return undefined;\n  }\n}\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nexport const walletMetadata = {\n  apple: {\n    icon:\n      // eslint-disable-next-line max-len\n      'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==',\n    name: 'Continue with Apple',\n    url: 'https://web.petra.app',\n  },\n  google: {\n    icon:\n      // eslint-disable-next-line max-len\n      'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==',\n    name: 'Continue with Google',\n    url: 'https://web.petra.app',\n  },\n} as const;\n","// Copyright © Aptos\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  AptosConnectNamespace,\n  AptosDisconnectNamespace,\n  AptosFeatures,\n  AptosGetAccountNamespace,\n  AptosGetNetworkNamespace,\n  AptosOnAccountChangeNamespace,\n  AptosOnNetworkChangeNamespace,\n  AptosSignAndSubmitTransactionFeature,\n  AptosSignAndSubmitTransactionNamespace,\n  AptosSignInNamespace,\n  AptosSignMessageNamespace,\n  AptosSignTransactionNamespace,\n  AptosWallet,\n} from '@aptos-labs/wallet-standard';\nimport {\n  AptosConnectWallet,\n  AptosConnectWalletConfig,\n} from './AptosConnectWallet';\nimport { walletMetadata } from './config';\n\nexport class AptosConnectGoogleWallet\n  extends AptosConnectWallet\n  implements AptosWallet\n{\n  readonly name = walletMetadata.google.name;\n\n  readonly icon = walletMetadata.google.icon;\n\n  readonly url = walletMetadata.google.url;\n\n  constructor(config: AptosConnectWalletConfig) {\n    super({ ...config, provider: 'google' });\n  }\n\n  // region AptosWallet\n\n  get features(): AptosFeatures & AptosSignAndSubmitTransactionFeature {\n    return {\n      [AptosConnectNamespace]: {\n        connect: this.connect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosDisconnectNamespace]: {\n        disconnect: this.disconnect.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetAccountNamespace]: {\n        account: this.getAccount.bind(this),\n        version: '1.0.0',\n      },\n      [AptosGetNetworkNamespace]: {\n        network: this.getNetwork.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnAccountChangeNamespace]: {\n        onAccountChange: this.onAccountChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosOnNetworkChangeNamespace]: {\n        onNetworkChange: this.onNetworkChange.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignAndSubmitTransactionNamespace]: {\n        signAndSubmitTransaction: this.signAndSubmitTransaction.bind(this),\n        version: '1.1.0',\n      },\n      [AptosSignInNamespace]: {\n        signIn: this.signIn.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignMessageNamespace]: {\n        signMessage: this.signMessage.bind(this),\n        version: '1.0.0',\n      },\n      [AptosSignTransactionNamespace]: {\n        signTransaction: this.signTransaction.bind(this),\n        version: '1.1.0',\n      },\n    };\n  }\n\n  // endregion\n}\n"],"names":["AccountAddress","Network","AccountInfo","APTOS_CHAINS","UserResponseStatus","AccountInfo","Network","APTOS_CHAINS","AccountInfo","AccountAddress","UserResponseStatus","response","AptosConnectNamespace","AptosDisconnectNamespace","AptosGetAccountNamespace","AptosGetNetworkNamespace","AptosOnAccountChangeNamespace","AptosOnNetworkChangeNamespace","AptosSignAndSubmitTransactionNamespace","AptosSignInNamespace","AptosSignMessageNamespace","AptosSignTransactionNamespace","AptosConnectNamespace","AptosDisconnectNamespace","AptosGetAccountNamespace","AptosGetNetworkNamespace","AptosOnAccountChangeNamespace","AptosOnNetworkChangeNamespace","AptosSignAndSubmitTransactionNamespace","AptosSignInNamespace","AptosSignMessageNamespace","AptosSignTransactionNamespace"],"mappings":"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"}}]
}